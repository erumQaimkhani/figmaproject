"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="93e5cd77-f69a-504d-8bf1-fa3ed86e136b")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7748],{258933:(e,t,a)=>{a.d(t,{B8:()=>p,IW:()=>_,J:()=>E,Ou:()=>v,R6:()=>g,Uu:()=>s,X5:()=>u,XX:()=>l,YK:()=>i,ay:()=>h,eK:()=>o,fI:()=>n,jD:()=>f,me:()=>m,nM:()=>c,wD:()=>d,yU:()=>r});let r="step_pay--addAnnualPlan--3YUVe",n="step_pay--paymentForm--gqjt-",i="step_pay--totalLabelText--FsxE-",o="step_pay--smallGrayText--C8Sfn",l="step_pay--bigButton--Gtz0E",s="step_pay--flex--ZZh0K",c="step_pay--row--DcuMl",d="step_pay--rowFlex--Mf5y8 step_pay--row--DcuMl",m="step_pay--separator--gTqAJ",u="step_pay--total--FgOpU",_="step_pay--totalText--VTLEG step_pay--jumboText--JE1wb",p="step_pay--plusTaxText--gSICq",f="step_pay--numEditorsInput--mTc8p",g="step_pay--subtotal--188gf",E="step_pay--changeLink--dSfAg blue_link--blueLink--9rlnd",h="step_pay--bigTerms--nC3J9",v="step_pay--flowActionsSingle--X0Hy-"},920506:(e,t,a)=>{a.d(t,{DD:()=>o,ME:()=>m,Nr:()=>n,Sl:()=>s,Ui:()=>r,h_:()=>l,pq:()=>i,qr:()=>d,t3:()=>c,uK:()=>_,vR:()=>u});let r="resource_cards--cardContainer--dagKQ",n="resource_cards--card--j2AeO",i="resource_cards--info--7v-s9",o="resource_cards--title--9uxRY text--fontPos16--oMC-G text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",l="resource_cards--description--NQQ-r text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",s="resource_cards--image--V7Y8-",c="resource_cards--pluginImage--NgYbh resource_cards--image--V7Y8-",d="resource_cards--footer--cRSOS text--fontPos13--xW8hS text--_fontBase--QdLsd",m="resource_cards--profile--YLut5",u="resource_cards--profileName--Uvden",_="resource_cards--attributes--9cUYC"},724819:(e,t,a)=>{a.d(t,{GK:()=>s,Mg:()=>o,Pc:()=>n,Pr:()=>r,Tc:()=>i,mg:()=>c,sj:()=>d,tD:()=>l});let r="tags_container--tagsHeader--6f339 text--fontPos14--OL9Hp text--_fontBase--QdLsd",n="tags_container--tagsContainer--M7709",i="tags_container--tag--40TSY text--fontPos13--xW8hS text--_fontBase--QdLsd",o="tags_container--tagsBanner--8D9E-",l="tags_container--tagsBannerIcon--YUEhe",s="tags_container--tagsBannerTitle--6qQPd text--fontPos13--xW8hS text--_fontBase--QdLsd",c="tags_container--tagsBannerDescription--zCyAE text--fontPos13--xW8hS text--_fontBase--QdLsd",d="tags_container--tagsBannerCta--Z7BT8"},157199:(e,t,a)=>{a.d(t,{RZ:()=>r,_q:()=>i,zC:()=>n});let r="comment_confirm_modals--reportContentWrapper--Nseo6",n="comment_confirm_modals--reportContentText--QZrcs",i="comment_confirm_modals--blockContentText--6aU5U"},306665:(e,t,a)=>{a.d(t,{_M:()=>s,bv:()=>i,cI:()=>r,nf:()=>n,q3:()=>o,zc:()=>l});let r="community_hub_banner--bannerContainer--I7euo text--fontPos11--2LvXf text--_fontBase--QdLsd",n="community_hub_banner--link--tqByg",i="community_hub_banner--boldText--jhtS9",o="community_hub_banner--bannerIcon--GVQKO",l="community_hub_banner--iconContainer--Szb1y",s="community_hub_banner--bannerText--Mlrz- ellipsis--ellipsis--Tjyfa"},650168:(e,t,a)=>{a.d(t,{Vi:()=>r,hh:()=>n,jx:()=>c,nu:()=>s,tt:()=>i,uD:()=>l,uw:()=>o});let r="cta_button--duplicateButtonContainer--GU-rX cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",n="cta_button--figjam--ZRMcS",i="cta_button--duplicateButtonContainerNoIcon--t9Vxs cta_button--duplicateButtonContainer--GU-rX cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",o="cta_button--duplicateButtonContainerNoIconWide--KYJ2x",l="cta_button--textIconContainer--wV-ch",s="cta_button--duplicateButtonContainerNoIconDisabled--IPh2F cta_button--duplicateButtonContainerDisabled--IzZn7 cta_button--duplicateButtonContainer--GU-rX cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",c="cta_button--ctaButtonLink--5C3KX"},815700:(e,t,a)=>{a.d(t,{BE:()=>n,LL:()=>o,Xk:()=>i,_1:()=>l,iZ:()=>s,uu:()=>r});let r="detail_view--installButton--IloIX",n="detail_view--installButtonSubtext--iqsQz text--fontPos11--2LvXf text--_fontBase--QdLsd",i="detail_view--pendingInviteBanner--Jfy7s text--fontPos13--xW8hS text--_fontBase--QdLsd",o="detail_view--pendingInviteButton--XYgKx",l="detail_view--paidResourceSection--crSbo detail_view--metadataSectionText--jEK-6 metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd",s="detail_view--reportSection--qDu-P detail_view--metadataSectionText--jEK-6 metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd"},243763:(e,t,a)=>{a.d(t,{w:()=>n});var r=a(503457);let n=a(711184).A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(8259),a.e(6094),a.e(7600),a.e(8964)]).then(a.bind(a,469720)).then(e=>e.EduReviewPage),{loading:()=>null,error:r.H4.NONE,componentName:"EduReviewPage"})},966420:(e,t,a)=>{a.d(t,{G:()=>n});var r=a(503457);let n=a(711184).A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(8259),a.e(6094),a.e(7600),a.e(8964)]).then(a.bind(a,865360)).then(e=>e.OrgSelfServeBillingRemodelPage),{loading:()=>null,error:r.H4.NONE,componentName:"OrgSelfServeBillingRemodelPage"})},371740:(e,t,a)=>{a.d(t,{N:()=>n});var r=a(503457);let n=a(711184).A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(8259),a.e(6094),a.e(7600),a.e(8964)]).then(a.bind(a,689760)).then(e=>e.OrgSelfServeFigJamPage),{loading:()=>null,error:r.H4.NONE,componentName:"OrgSelfServeFigJamPage"})},274990:(e,t,a)=>{a.d(t,{z:()=>n});var r=a(503457);let n=a(711184).A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(8259),a.e(6094),a.e(7600),a.e(8964)]).then(a.bind(a,552404)).then(e=>e.PromoReviewPage),{loading:()=>null,error:r.H4.NONE,componentName:"PromoReviewPage"})},884243:(e,t,a)=>{a.d(t,{q:()=>n});var r=a(503457);let n=a(711184).A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(8259),a.e(6094),a.e(7600),a.e(8964)]).then(a.bind(a,394802)).then(e=>e.TeamUpgradePageBillingRemodel),{loading:()=>null,error:r.H4.NONE,componentName:"TeamUpgradePageBillingRemodel"})},238879:(e,t,a)=>{a.d(t,{h:()=>n});var r=a(503457);let n=a(711184).A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(8259),a.e(6094),a.e(7600),a.e(8964)]).then(a.bind(a,988780)).then(e=>e.TeamUpgradePageV2),{loading:()=>null,error:r.H4.NONE,componentName:"TeamUpgradePageV2"})},426887:(e,t,a)=>{let r;a.d(t,{y:()=>o});var n=a(193647),i=a(237870);function o(){return r??=(0,i.Ju)(n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(4079),a.e(9012)]).then(a.bind(a,408422)).then(e=>e.FolderRenameModal),(0,i.Ij)("FolderRenameModal")))}},190093:(e,t,a)=>{a.r(t),a.d(t,{ConfirmDowngradeEditorsModal:()=>s});var r=a(411855),n=a(96328),i=a(939863),o=a(672517),l=a(585878);function s(e){let{team:t,editors:a}=e,{id:s}=t,c=a.length,d=a.filter(e=>e.id).map(e=>e.id).join(),m=(0,i.t)("team_view.downgrade_editor_modal.downgrade_user_team_permissions",{username:(0,n.EJ)(e.editors[0].name||e.editors[0].email,20)}),u=(0,i.t)("team_view.downgrade_editor_modal.downgrade_multiple_users_team_permissions",{numSelectedUsers:c});return r.createElement(o.fu,{name:"Team Admin Downgrade Editors Modal",properties:{editorCount:c,editorIds:d,teamId:s}},r.createElement(l.Eo,{title:c>1?u:m,confirmText:(0,i.t)("team_view.downgrade_editor_modal.downgrade"),onConfirm:e.onConfirm},r.createElement("p",null,c>1&&(0,i.t)("team_view.downgrade_editor_modal.are_you_sure_you_want_to_downgrade",{numSelectedUsers:c}),(0,i.tx)("team_view.downgrade_editor_modal.downgrading_their_team_permission_will_change_all_permissions_to_can_view"))))}},683729:(e,t,a)=>{a.r(t),a.d(t,{ConfirmTeamUserPaidStatusUpdateModal:()=>d});var r=a(411855),n=a(946689),i=a(939863),o=a(14339),l=a(672517),s=a(36816),c=a(585878);function d(e){let{team:t,members:a,paidStatus:d,costMessaging:m}=e,{id:u}=t;if(![s.Zf.FULL,s.Zf.RESTRICTED].includes(d))return r.createElement(r.Fragment,null);let _=a.length,p=a.filter(e=>e.id).map(e=>e.id).join(),f=d===s.Zf.RESTRICTED,g=e.paidStatusType===s.j4.WHITEBOARD,E=g?a.every(e=>!e.whiteboard_editor_upgrade):a.every(e=>!e.design_editor_upgrade),h=d===s.Zf.RESTRICTED&&E,v=a[0].name||a[0].email;return r.createElement(l.fu,{name:"Team Admin Restrict TeamUser Modal",properties:{memberCount:_,memberIds:p,teamId:u}},r.createElement(c.Eo,{title:f?h?g?(0,i.tx)("team_view.downgrade_figjam_access_from_viewer_to_viewer_restricted"):(0,i.tx)("team_view.downgrade_design_access_from_viewer_to_viewer_restricted"):g?(0,i.tx)("team_view.remove_figjam_edit_status.seat_rename"):(0,i.tx)("team_view.remove_design_edit_status.seat_rename"):m?(0,o.LB)(m,_,g):g?(0,i.tx)("team_view.grant_figjam_edit_status.seat_rename"):(0,i.tx)("team_view.grant_design_edit_status.seat_rename"),confirmText:f?h?(0,i.t)("team_view.change"):(0,i.t)("team_view.remove.seat_rename"):(0,i.t)("team_view.grant.seat_rename"),onConfirm:e.onConfirm},d===s.Zf.RESTRICTED&&(h?g?(0,i.tx)("team_view.downgrade_figjam_from_viewer_to_viewer_restricted_description.seat_rename",{memberNameOrEmail:v,numMembers:_}):(0,i.tx)("team_view.downgrade_design_from_viewer_to_viewer_restricted_description.seat_rename",{memberNameOrEmail:v,numMembers:_}):g?(0,i.tx)("team_view.downgrade_figjam_description.seat_rename",{memberNameOrEmail:v,numMembers:_}):(0,i.tx)("team_view.downgrade_design_description.seat_rename",{memberNameOrEmail:v,numMembers:_})),d===s.Zf.FULL&&r.createElement(r.Fragment,null,(()=>{if(!f)return m?(0,o.yc)(m,_,v,g):g?(0,i.tx)("team_view.change_to_editor_figjam_description.seat_rename",{numMembers:_,memberNameOrEmail:v}):(0,i.tx)("team_view.change_to_editor_design_description.seat_rename",{numMembers:_,memberNameOrEmail:v})})(),r.createElement("p",{className:"confirm_team_user_paid_status_update_modal--spacing--D5LgW"},r.createElement(n.N_,{target:"_blank",className:"confirm_team_user_paid_status_update_modal--link--cb35L",href:"https://help.figma.com/hc/articles/360039960434#Account_Types",trusted:!0},(0,i.tx)("team_view.learn_more.seat_rename"))))))}},223133:(e,t,a)=>{a.r(t),a.d(t,{MemberEditAccessModal:()=>C});var r=a(411855),n=a(188507),i=a(459401),o=a(391388),l=a(886653),s=a(355819),c=a(939863),d=a(662275),m=a(672517),u=a(99506),_=a(147206),p=a(668860),f=a(36816),g=a(585878);let E="edit_access_modal--column--MYvAz",h="edit_access_modal--resource--qhm-x",v="edit_access_modal--resourceTitle--79DdK edit_access_modal--resource--qhm-x",y="edit_access_modal--greyResource--pdVfB edit_access_modal--resource--qhm-x",b=(e,t)=>{if("file"===e.resource_type){let a=t[e.resource_id_or_key];if(a)return{name:a.name,id_or_key:a.key}}else{let a=t[e.resource_id_or_key];if(a)return{name:a.name,id_or_key:a.id}}},w=(0,l.xx)((e,t)=>{let a={privateResourceCount:0,editableResources:[]};return e&&0!==e.length&&(e.forEach(e=>{let r=b(e,t);r?a.editableResources.push(r):a.privateResourceCount++}),(0,i.sortAlphabeticallyByFn)(a.editableResources,e=>e.name)),a}),T=e=>{let t=e.team_user,a=e.edit_roles,r=a?.whiteboard_files||[],n=a?.design_files||[],i=(0,_.qR)(t,u._Y.DESIGN);return{whiteboardRoles:(0,_.qR)(t,u._Y.WHITEBOARD)?[]:r,designRoles:i?[]:n}},I=(e,t)=>{let{whiteboardRoles:a,designRoles:r}=T(e);return w(a.concat(r),t)};function C(e){let t=(0,n.wA)(),a=function(e,t){let a=(0,n.d4)(a=>a.teamMembersByTeamId[e][t]);return o.Qw.loaded(a)}(e.teamId,e.memberEmail),i=(0,n.d4)(e=>e.folders),l=r.useMemo(()=>a.transform(e=>w(e?.edit_roles?.folders,i)),[i,a]),u=(0,n.d4)(e=>e.folders),_=r.useMemo(()=>a.transform(e=>e?I(e,u):{privateResourceCount:0,editableResources:[]}),[u,a]),h=(0,n.d4)(t=>t.teams[e.teamId]),y=o.Qw.all([a,l,_]);if("loaded"!==y.status)return null;let[b,T,C]=y.data;if(!b)return console.error("Member not found"),null;let x=!!b.team_role&&b.team_role?.level>=p.e6.EDITOR,S=T.editableResources.length+T.privateResourceCount,k=C.editableResources.length+C.privateResourceCount;return r.createElement(m.fu,{name:"Member Edit Access Modal",properties:{teamId:h.id,userId:b.id,folderCount:S,fileCount:k}},r.createElement(g.XV,{title:(0,c.t)("team_view.member_edit_access_modal.title",{memberName:b.name??""}),maxWidth:432,minWidth:432,containerClassName:"edit_access_modal--modalStyle--20dSp",onClose:()=>{t(d.Ce())}},r.createElement("div",{className:"edit_access_modal--headerContainer--ZoKpu edit_access_modal--resourceContainer--vZA5E"},r.createElement("div",{className:E},r.createElement("div",{className:v},(0,c.tx)("team_view.member_edit_access_modal.projects_title"))),r.createElement("div",{className:E},r.createElement("div",{className:v},(0,c.tx)("team_view.member_edit_access_modal.files_title")))),r.createElement(s.P,{className:"edit_access_modal--scrollContainer--WzCWr",hideScrollbar:!0},r.createElement("div",{className:"edit_access_modal--resourceContainer--vZA5E"},r.createElement("div",{className:E},r.createElement(N,{hasTeamEditPermissions:x,isWhiteboardEditor:b.team_user?.whiteboard_paid_status===f.Zf.FULL,isDesignEditor:b.team_user?.design_paid_status===f.Zf.FULL,resources:T,resourceType:"project"})),r.createElement("div",{className:E},r.createElement(N,{hasTeamEditPermissions:x,isWhiteboardEditor:b.team_user?.whiteboard_paid_status===f.Zf.FULL,isDesignEditor:b.team_user?.design_paid_status===f.Zf.FULL,resources:C,resourceType:"file"}))))))}let x=e=>"file"===e?(0,c.tx)("team_view.member_edit_access_modal.none_files"):(0,c.tx)("team_view.member_edit_access_modal.none_projects");function N(e){let t;let{hasTeamEditPermissions:a,isDesignEditor:n,isWhiteboardEditor:i,resourceType:o}=e;if(a)return"project"===o?r.createElement("div",{className:y},(0,c.tx)("team_view.member_edit_access_modal.all_projects")):n&&i?r.createElement("div",{className:y},(0,c.tx)("team_view.member_edit_access_modal.all_files")):n&&!i?r.createElement("div",{className:y},(0,c.tx)("team_view.member_edit_access_modal.all_design_files")):!n&&i?r.createElement("div",{className:y},(0,c.tx)("team_view.member_edit_access_modal.all_figjam_files")):r.createElement("div",{className:y},x(o));let l=e.resources;if(0===l.privateResourceCount&&0===l.editableResources.length)return r.createElement("div",{className:y},x(o));if(l.privateResourceCount>0){let e=r.createElement("span",null);0===l.editableResources.length&&"project"===o?e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_projects",{numProjects:l.privateResourceCount}):0===l.editableResources.length&&"file"===o?e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_files",{numFiles:l.privateResourceCount}):l.editableResources.length>0&&"project"===o?e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_projects_list_end",{numProjects:l.privateResourceCount}):l.editableResources.length>0&&"file"===o&&(e=(0,c.tx)("team_view.member_edit_access_modal.invite_only_files_list_end",{numFiles:l.privateResourceCount})),t=r.createElement("div",{className:h},e)}return r.createElement(r.Fragment,null,l.editableResources.map(e=>r.createElement("div",{key:e.id_or_key,className:h},e.name)),t)}},243058:(e,t,a)=>{a.d(t,{JC:()=>m,Oe:()=>c,VY:()=>o,ay:()=>u,dZ:()=>d,vW:()=>l,wu:()=>i,y$:()=>s});var r=a(503457),n=a(193647);let i=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(4079),a.e(9012)]).then(a.bind(a,744263)).then(e=>e.BillingGroupDashboardSettingsPageView),{loading:()=>null,error:r.H4.NONE,componentName:"BillingGroupDashboardSettingsPageView"}),o=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(4079),a.e(9012)]).then(a.bind(a,92114)).then(e=>e.LicenseGroupAdminSettingsPageView),{loading:()=>null,error:r.H4.NONE,componentName:"LicenseGroupAdminSettingsPageView"}),l=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(4079),a.e(9012)]).then(a.bind(a,759615)).then(e=>e.OrgAdminSettingsPageView),{loading:()=>null,error:r.H4.NONE,componentName:"OrgAdminSettingsPageView"}),s=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(4079),a.e(9012)]).then(a.bind(a,604772)).then(e=>e.WorkspaceAdminSettingsPageView),{loading:()=>null,error:r.H4.NONE,componentName:"WorkspaceAdminSettingsPageView"}),c=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(4079),a.e(9012)]).then(a.bind(a,311070)).then(e=>e.OrgDomainManagementPageView),{loading:()=>null,error:r.H4.NONE,componentName:"OrgDomainManagementPageView"}),d=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(4079),a.e(9012)]).then(a.bind(a,17979)).then(e=>e.AbandonedDraftFilesPageView),{loading:()=>null,error:r.H4.NONE,componentName:"AbandonedDraftFilesPageView"}),m=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(4079),a.e(9012)]).then(a.bind(a,318352)).then(e=>e.TeamAdminConsoleView),{loading:()=>null,error:r.H4.NONE,componentName:"TeamAdminConsoleView"}),u=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(6320),a.e(3727),a.e(4079),a.e(9012)]).then(a.bind(a,758441)).then(e=>e.AdminSidebar),{loading:()=>null,error:r.H4.NONE,componentName:"AdminSidebar"})},366643:(e,t,a)=>{a.r(t),a.d(t,{FileMoveDropdown:()=>ti,FileMoveHiddenDiv:()=>to,FileMoveModal:()=>e7,FileMoveModalComponent:()=>e9,FileMoveSearch:()=>te,TeamSection:()=>tt,TeamsDisplay:()=>tr,getCurrentFolderId:()=>e5,getTargetAttribute:()=>e8,isSubscribedLG:()=>e3});var r=a(411855),n=a(109388),i=a(188507),o=a(634832),l=a(889012),s=a.n(l),c=a(776250),d=a(91408),m=a(966712),u=a(498750),_=a(915440),p=a(711525),f=a(752553),g=a(742808),E=a(268537),h=a(946689),v=a(459826),y=a(452441),b=a(493323),w=a(355819),T=a(163023),I=a(901536),C=a(939863),x=a(411045),N=a(365879),S=a(738269),k=a(694764),L=a(198123),A=a(662275),R=a(672517),F=a(688083),O=a(864319),P=a(99506),D=a(623746),M=a(66037),B=a(668860),U=a(875847),V=a(253938),H=a(279453),W=a(707465),j=a(984968),$=a(454351),G=a(451e3),Y=a(945020),z=a(489291),Q=a(567088),K=a(498606),q=a(143678),Z=a(547807);let X=new class{constructor(){this.TeamRestrictionsListsSchemaValidator=(0,Z.vh)()}getTeamRestrictionsLists(e){return this.TeamRestrictionsListsSchemaValidator.validate(async({xr:t})=>await t.get("/api/team_restrictions_lists",{team_ids:e.teamIds}))}};var J=a(233890),ee=a(585878),et=a(776621),ea=a(27087),er=a(62342);function en(e){return r.createElement("div",{className:"page_move--fileCreateNameContainer--JBcti"},r.createElement("div",{className:"page_move--fileCreateNameSvgContainer--nm5eH"},r.createElement(er.oS,{type:er.y1.DESIGN})),r.createElement(h.ks,{value:e.newFileName,onChange:e.onChange,maxLength:255,autoFocus:!0,placeholder:(0,C.t)("page_move.add_new_file_name"),className:"page_move--fileCreateNameInput--0yBR8"}))}var ei=a(730935),eo=a(249963),el=a(511243),es=a(138020),ec=a(297666),ed=a(130097),em=a(980820),eu=a(243987),e_=a(147206),ep=a(463592),ef=a(472503),eg=a(173454);let eE="32px",eh=(0,d.hG)(eE),ev=e=>e?.id||k.iK,ey=new ep.KH({keys:["folder.path","team.name"],threshold:.3,tokenize:!0}),eb=(e,t,a,r,n,i)=>{if(e.orgId!==n&&t?.orgId!==n)return!1;if(!(0,m.kc)().ps_benchmark){if((0,U.VA)(e))return e.id===i;if((0,U.B_)(e))return!1}return!(!e.canEdit||t&&(0,eu.S$)(e,t,a)&&!(0,U.VA)(e))&&(!r||!!(0,eu.XX)(t))},ew=(e,t,a)=>!(!(0,m.kc)().ps_benchmark&&(0,eu.dX)(e,t))&&(!a||!!(0,eu.XX)(e)),eT=(e,t=!1)=>{let a=[],r=(0,U.gj)(e.user&&e.user.id,e.folders,e.roles.byFolderId,e.user&&e.orgId?e.orgUsers[e.orgId][e.user.id]:null);Object.keys(e.folders).forEach(n=>{let i=e.folders[n],o=i.teamId?e.teams[i.teamId]:null;eb(i,o,e.user,t,e.orgId,r?.id)&&((0,U.VA)(i)&&(i={...i,path:(0,eg.Tb)()}),a.push(i))}),ey.set(a.map(t=>{let a=t.teamId&&e.teams[t.teamId]&&{name:e.teams[t.teamId].name},r={path:t.path,teamId:t.teamId,id:t.id,subscription:!!t.subscription};return a?{folder:r,team:a}:{folder:r}}))},eI=({folders:e,roles:t,user:a,orgUsers:r,teams:n,orgId:i,implicitTeamRolesTeamIds:o},l,s,c)=>{let d=Object.create(null),u=0,_=0,p=(0,U.gj)(a&&a.id,e,t.byFolderId,a&&i?r[i][a.id]:null);for(let e in d[k.HK]=[],d[k.iK]=[],t.byTeamId)ew(n[e],a,l)&&(_++,d[e]=[]);o&&o.forEach(e=>{ew(n[e],a,l)&&(_++,d[e]=[])}),Object.keys(e).forEach(t=>{let r={...e[t]},o=eb(r,r.teamId?n[r.teamId]:null,a,l,i,p?.id);if((0,m.kc)().file_move_show_all_resources){if(o&&(!s||r.subscription||(0,U.VA)(r))){let e=r.teamId?n[r.teamId]:null;d[p&&r.id===p.id?k.HK:ev(e)].push(r),u++}}else if(o&&(r.subscription||(0,U.VA)(r))){let e=r.teamId?n[r.teamId]:null;d[p&&r.id===p.id?k.HK:ev(e)].push(r),u++}});let f=u+_;return c(k.CU({indexCount:f})),c(k.xH()),d},eC=(e,t,a,r,n)=>{let i=Object.create(null),o=Object.create(null),l=[],s=0,c=0;if(n){let t=e.indexOf(n);t>-1&&(e.splice(t,1),e.splice(1,0,n))}return e.forEach(e=>{if(o[e]=s,c+=8,e!==k.iK&&e!==k.HK){let t={type:$.b.NEW_FOLDER_TEAM,id:e,positionTop:c};l.push(t),c+=eh,s+=1}let a=t[e];s+=a.length,a.sort((e,t)=>""===e.path?-1:""===t.path?1:e.path.toLowerCase()<t.path.toLowerCase()?-1:1);let d=Array.from(a);r&&n&&e===n&&d.forEach((e,t)=>{e.id===r&&(a.splice(t,1),a.unshift(e))}),a.forEach(e=>{let t={type:$.b.FOLDER_ROW,id:e.id,positionTop:c};c+=eh,l.push(t)}),i[e]=a,c+=9}),[i,o,l]},ex=(e,t,a)=>{let r=Object.create(null),n=Object.create(null),i=0,o=0,l=t.orgId&&t.user?t.orgUsers[t.orgId][t.user.id]:null,s=(0,U.gj)(t.user?t.user.id:null,t.folders,t.roles.byFolderId,l);for(let a of e){let e=a.item.folder,l=s&&e.id===s.id?0:a.score,c=e.teamId?t.teams[e.teamId]:null,d=s&&e.id===s.id?k.HK:ev(c);!(d in r)&&(r[d]=[],d!==k.iK&&d!==k.HK&&o++),r[d].push(e),null==n[d]?n[d]=l:n[d]=Math.min(n[d],l),i++}let c=i+o;return a(k.CU({indexCount:c})),[n,r]},eN=e=>(t,a)=>{if(t===k.iK)return 1;let r=e[t],n=e[a];return r?n&&r.name.toLowerCase()<n.name.toLowerCase()?-1:1:-1},eS=e=>(t,a)=>e[t]-e[a],ek=async(e,t,a,r,n=!1,i=!1,l,s,c,d)=>{var u,_;let p;let f=e.getState(),g=null,E=null;t.type===$.A.FILE?(g=t.file.parent_org_id||null,E=t.file.team_id):t.type===$.A.REPO?(g=t.repo.parent_org_id||null,E=t.repo.team_id):t.type===$.A.FILE_IMPORT&&(g=t.orgId);let h=[];if(a){let e=ex(await ey.search(a),r,l);_=e[0],(h=Object.keys(u=e[1])).length&&h.sort(eS(_))}else u=eI(r,n,!!d,e.dispatch),r.user?(h.push(k.HK),h=h.concat((0,j.n$)(Object.values(r.teams),r.fileBrowserPreferences?.orderedTeamIds||[])),u[k.iK].length>0&&h.push(k.iK)):(h=Object.keys(u)).sort(eN(r.teams));switch(t.type){case $.A.FILE:p=t.file.editor_type;break;case $.A.REPO:p=P._Y.DESIGN;break;case $.A.FILE_IMPORT:p=t.files.every(e=>".jam"===(0,ef.dv)(e.name).toLowerCase())?P._Y.WHITEBOARD:P._Y.DESIGN;break;default:(0,o.assertNever)(t)}let v=new Set,y=Object.values(u).flatMap(e=>e.map(e=>({id:e.id}))),b=p===P._Y.WHITEBOARD?H.JkW:H.RmP;(await (0,ed.S8)(b,y)).forEach(e=>{let t=e.result;"loaded"===t.status&&es.oA(t.data?.project)?.hasPermission&&v.add(e.args.id)});let w=h.filter(e=>{if(e===k.iK)return null===u||u[e].length>0;let t=r.teams;if(e!==k.HK){let a=t[e]?.orgId||null;if(g||a){if(a!==g)return!1}else if(E&&e===k.iK)return!1}return!(t[e]?.deletedAt||!(0,m.kc)().ps_benchmark&&(0,e_.XG)(t[e]?.currentTeamUser,p))&&!!u[e]?.some(e=>v.has(e.id))}),[T,I,C]=eC(w,u,i,s,c);e.dispatch(k.OT({rows:C})),e.dispatch(k.t3({indexOffsets:I})),e.dispatch(k.Pb({foldersByTeamId:T})),e.dispatch(k.Mi({teamIds:w})),a||e.dispatch(k.w3({userTeamCount:w.length})),f.fileMove.isSearchResult!==i&&e.dispatch(k.EN({isSearchResult:i}));let x=k.HK in I&&C[0].type===$.b.FOLDER_ROW;a&&x?e.dispatch(k.Dp({indexAt:0})):a&&!x&&e.dispatch(k.Dp({indexAt:1}))},eL=(e,t,a,r=!1,n,i,o)=>{ek(e,t,"",a,r,!1,e.dispatch,i,o,n)},eA=(0,ec.s)((e,t,a,r,n=!1)=>{ek(e,t,a,r,n,!!a,e.dispatch)},200),eR=(0,em.nF)((e,t)=>{eT(t.userResources,t.modalData.isPublishing),eL(e,t.modalData,t.userResources,t.modalData.isPublishing,!1,t.currentFolderId,t.currentFolderTeamId)}),eF=(0,em.nF)((e,t)=>{eA(e,t.modalData,t.query,t.userResources),e.dispatch(k.hq(t))});var eO=a(517333),eP=a(218881),eD=a(881388),eM=a(507877),eB=a(349410),eU=a(964258),eV=a(928491),eH=a(858212);let eW="file_move--main--RCzls",ej="file_move--iconContainer--SWek6",e$="file_move--folderRowWrapper--Qw-C4",eG="file_move--folderRow--DapA5",eY="file_move--horizontalDivider--wRv3N";var ez=a(444173);function eQ(e){let t=(0,eH.S)(),a=(0,i.d4)(e=>e.user),[n,o]=(0,r.useState)(""),l=e.dispatch,[s,d]=(0,r.useState)(!0),m=(0,eP.I7)("starter_team_loophole_experiment_m0"),u=(0,eP.I7)("starter_team_loophole_experiment_m1");return r.createElement("form",{onSubmit:t=>{t.preventDefault(),(0,c.sx)("Create Team Inline",{trackingContext:e.trackingContextName}),n?(l((0,eU.KQ)({teamName:n,orgAccess:P.bU.PUBLIC,dontRedirect:!0})),d(!0),o("")):l(eD.s.error((0,C.t)("flash.team_name_cannot_be_empty")))}},r.createElement("div",{className:"file_move--teamCreateRow--o7dzW file_move--folderRow--DapA5"},s?r.createElement("button",{type:"button",className:"file_move--rowButton--6ASbR",onClick:()=>{null!=a&&!e.orgId&&(0,eB.e5)({userId:a.id,teams:Object.values(e.teams),rolesByTeamId:e.rolesByTeamId,getM0Config:m.getConfig,getM1Config:u.getConfig})?(l(A.Ce()),l(eM.Dw({openInNewTab:!eO.eD}))):(d(!1),l(k.xH()))}},r.createElement(T.B,{className:"file_move--newProjectIconFileMove--Pp8qn sidebar--icon--wMzUY",svg:ez.A}),r.createElement("span",{className:t?"file_move--newFolderNameCustomSections--4BQqs sidebar--sectionNameCustomSections--9e7LZ sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa":"file_move--newFolderName--HNEBp sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa"},(0,C.tx)("file_browser.inline_team_creation.button_text"))):r.createElement(r.Fragment,null,r.createElement("div",{className:ej},r.createElement(eV.pw,{size:16,shape:"SQUARE",color:"#E5E5E5"})),r.createElement("div",{className:"file_move--newTeamTitleText--VUp4S file_move--teamTitleText--NhNEM ellipsis--ellipsis--Tjyfa"},r.createElement(h.ks,{value:n||"",onChange:e=>{o(e.target.value)},onBlur:()=>{d(!0)},className:"file_move--newTeamInput--rHUdq",maxLength:e.teamNameMaxWidth,placeholder:(0,C.t)("file_browser.inline_team_creation.placeholder"),autoFocus:!0})))))}var eK=a(450147),eq=a(702595),eZ=a(853705),eX=a(130715),eJ=a(720955),e0=a(797804),e1=a(258485);let e2=(0,d.hG)(eE),e4="FileMoveModalContent";function e8(e){return"folder"===e.view||(0,W.K)(e)?"_self":"_blank"}function e3(e){return!!e.subscription||(0,U.VA)(e)}function e5(e){switch(e.type){case $.A.FILE:let t=e.file;return t?.folder_id||null;case $.A.REPO:let a=e.repo;return a?.folder_id||null;case $.A.FILE_IMPORT:return null;default:(0,o.assertNever)(e)}}function e9(e){let t=null;e.type===$.A.FILE?t=e.file.parent_org_id||null:e.type===$.A.REPO?t=e.repo.parent_org_id||null:e.type===$.A.FILE_IMPORT&&(t=e.orgId);let a=(0,i.d4)(e=>e.orgById),n=t?a[t]:null,o=(0,i.d4)(e=>e.fileMove),l=(0,i.d4)(e=>!!e.creatingNewFolder),s=(0,i.d4)(e=>e.dropdownShown),d=(0,i.d4)(e=>e.selectedView),u=e5(e),f=(0,x.L)(),E=(0,_.Rs)(H.Y9I,{projectId:u},{enabled:!!u}),h=(0,_.Rs)(H.G0Y,{orgId:t});"errors"===h.status&&(console.error("Loading AccessibleFolders from LiveGraph: "),console.error(h.errors));let v="loaded"===h.status&&("loaded"===E.status||e.type===$.A.FILE_IMPORT)?{fetched:h,transformed:function(e,t,a,r){let n={id:e.currentUser.id,student_validated_at:e.currentUser.studentValidatedAt&&e.currentUser.studentValidatedAt.toString()},i={},o={},l={},s={byFolderId:{},byTeamId:{}},c=(0,D.Um)(e.currentUser),d=[],u=e=>{o[e.id]={...e,canEdit:!0,canRename:!!e.path}};e.currentUser.allOrgUsers&&e.currentUser.allOrgUsers.forEach(e=>{l[e.orgId]={[e.userId]:{...e,type:M.Wd.ORG_USER,account_type:e.accountType,design_paid_status:e.accountType,id:e.id,org_id:e.orgId,user_id:e.userId,user:{id:e.user.id,email:e.user.email||void 0,img_url:e.user.imgUrl,name:e.user.name||void 0,handle:e.user.handle},permission:e.permission,drafts_folder_id:e.draftsFolderId,created_at:e.createdAt.toString(),updated_at:e.updatedAt?.toString()||"",disabled_at:e.disabledAt&&e.disabledAt.toString(),whiteboard_paid_status:e.whiteboardPaidStatus||P.El.STARTER,show_figjam_user_onboarding:null,has_shown_figjam_admin_launch_onboarding:null,has_shown_figjam_admin_onboarding:null,ecc_upgrading_locked:null,dev_mode_paid_status:e.devModePaidStatus||P.El.RESTRICTED,...r?{active_seat_type:(0,O.TA)(e.activeSeatTypeUpgrade?.billableProduct)}:void 0}},e.draftsProject&&(u(e.draftsProject),e.draftsProject.ownerRole&&(s.byFolderId[e.draftsProject.id]={[n.id]:(0,D.aU)(e.draftsProject.ownerRole,c,null,null)}))}),e.currentUser.teamEditRoles&&e.currentUser.teamEditRoles.forEach(e=>{if(!e.team)return;let{id:t,projects:a}=e.team;i[t]={...e.team,canEdit:e.level>=B.e6.EDITOR,canAdmin:e.level>=B.e6.ADMIN,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},s.byTeamId[t]={[n.id]:(0,D.aU)(e,c,null,null)},a&&a.forEach(e=>u(e))});let _=e&&e.org?e.org:null;if(_){if(t){let e=(0,p.oA)(t.project);e&&e.canEdit&&u(e)}_.teams&&_.teams.forEach(e=>{let{id:t,orgEditProjects:a}=e;if(!i[t]){let a=e.canEdit,r=e.canAdmin,n=e.licenseGroup;i[t]={...e,canEdit:a??!1,canAdmin:r??!1,licenseGroup:n||null},d.push(t)}let r=(0,p.oA)(a);r&&r.forEach(e=>{u(e)})})}return(0,m.kc)().ps_benchmark&&e.currentUser.teamRoles?.forEach(e=>{if(!e.team)return;let{id:t}=e.team;i[t]||(i[t]={...e.team,canEdit:!1,canAdmin:!1,currentTeamUser:e.team.currentTeamUser,licenseGroup:null},s.byTeamId[t]={[n.id]:D.aU(e,c,null,null)})}),e.currentUser.projectEditRoles&&e.currentUser.projectEditRoles.forEach(e=>{e.project&&(u(e.project),s.byFolderId[e.project.id]={[n.id]:(0,D.aU)(e,c,null,null)})}),e.currentUser.draftsProject&&(u(e.currentUser.draftsProject),e.currentUser.draftsProject.ownerRole&&(s.byFolderId[e.currentUser.draftsProject.id]={[n.id]:(0,D.aU)(e.currentUser.draftsProject.ownerRole,c,null,null)})),{org:_,user:n,teams:i,folders:o,roles:s,orgUsers:l,orgId:a,fileBrowserPreferences:e.currentUser.fileBrowserPreferences,implicitTeamRolesTeamIds:d}}(h.data,e.type!==$.A.FILE_IMPORT?E.data:null,t,f)}:null,y=null===v?{loaded:!1}:{loaded:!0,userResources:v.transformed},b=null==u||null===v?null:v.transformed.folders[u],w=b?b.teamId:null,T=(0,i.wA)();r.useEffect(()=>{y.loaded&&T(eR({modalData:e,userResources:y.userResources,currentFolderId:u,currentFolderTeamId:w}))},[v&&v.fetched]);let I=[];if(y.loaded&&!t)for(let e in y.userResources.teams){let t=y.userResources.teams[e];"ok"!==t.subscription&&I.push(t.id)}let C=function(e){let[t,a]=r.useState((0,p.Xm)()),n=e.join(",");return r.useEffect(()=>{if(0===n.length){a((0,p.gB)({}));return}a((0,p.Xm)());let e=!1;return(async()=>{let t=await X.getTeamRestrictionsLists({teamIds:n});e||a((0,p.gB)(t.data.meta))})(),()=>{e=!0}},[n]),t}(I);if("loaded"===C.status&&y.loaded)for(let e in y.userResources.teams){let t=y.userResources.teams[e];C.data[e]&&(t.restrictionsList=C.data[e])}return(0,g.I)("loaded"===h.status,e=>{(0,c.sx)("file_move_modal_latency",{latency_ms:e},{forwardToDatadog:!0})}),r.createElement(e7,{modalId:e._modalId,fileMove:o,fileMoveData:e,creatingNewFolder:l,dropdownShown:s,selectedView:d,dispatch:T,userResources:y,currentOrg:n})}function e6(e){let t=null!=e.orgId,a=e.subscription===P.Qh.INCOMPLETE||e.subscription===P.Qh.OK;return{id:e.id,subscription:e.subscription,starter_team:!t&&!a,pro_team:a,org_team:t,student_team:!!e.studentTeamAt,deleted_at:e.deletedAt?.toString()||null}}class e7 extends r.PureComponent{constructor(){super(...arguments),this.state={newFileName:""},this.FILE_MOVE_DROPDOWN="file-move-dropdown",this.scrollContainerRef=e=>{this.scrollContainer=e,this.scrollContainerElm=n.findDOMNode(e)},this.isMovePageToNewFile=(0,m.kc)().move_page_to_new_file&&this.props.fileMoveData.isMovePageToNewFile,this.onScroll=()=>{clearTimeout(this.previousTimeOutKey),this.props.fileMove.upDownKeyPressed&&this.props.dispatch(k.Ww({canFocus:!1})),this.previousTimeOutKey=setTimeout(()=>{this.props.fileMove.canMouseFocus||this.props.dispatch(k.Ww({canFocus:!0}))},200)},this.onkeydown=e=>{if(!this.props.userResources.loaded||this.props.creatingNewFolder||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused)return;let t=document.getElementById(e4);if((0,J.NB)(t))return;let{userResources:a}=this.props.userResources;switch(e.keyCode){case u.Uz.ESCAPE:this.onClose();break;case u.Uz.UP_ARROW:this.props.dispatch(k.zv());break;case u.Uz.DOWN_ARROW:this.props.fileMove.indexCount&&this.props.dispatch(k.TL({upperBound:this.props.fileMove.indexCount}));break;case u.Uz.ENTER:{if(-1===this.props.fileMove.focusedIndex)return;let e=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];if(e.type===$.b.NEW_FOLDER_TEAM){let t=e.id,r=a.teams[t];this.props.dispatch((0,F.SX)({where:this.props.modalId.type,team:{...(0,Y.Ws)(r),canEdit:!0,canEditTeamContents:!0,canAdmin:r.canAdmin}}))}else if(e.type===$.b.FOLDER_ROW){let t=a.folders[e.id];if(!t)break;this.move(t)}}}},this.onClose=()=>{this.props.fileMoveData.displayBanner?this.props.dispatch(A.Lo()):this.props.dispatch(A.Ce())},this.openOrgView=e=>{this.props.dispatch(S.$T({view:"org",orgId:e,orgViewTab:z.X.HOME}))},this.onOrgViewLinkClick=()=>{this.props.dispatch(A.Ce()),this.props.currentOrg&&this.openOrgView(this.props.currentOrg.id)},this.moveToSelectedFolder=()=>{let e=this.getFocusedFolder();if(!e)return;let t=()=>{this.move(e)};if(this.isMovePageToNewFile&&this.props.fileMoveData.type!==$.A.FILE_IMPORT){var a,r,n;this.onClose();let t=this.props.fileMoveData.type===$.A.FILE?this.props.fileMoveData.fileKey:this.props.fileMoveData.repoId;a=this.props.fileMoveData.page_id,r=e.id,n=this.state.newFileName,(0,et.ED)("startMovePagesJob","Send request to start move pages job."),ea.Ay.post(`/api/files/${t}/move_pages`,{folder_id:r,page_ids:a,file_name:n}).catch(e=>{(0,et.x1)("startMovePagesJob","Error with starting move pages job.",{err:e})}).then(()=>{(0,et.ED)("startMovePagesJob","Move pages job successfully started.")});return}let i=this.props.fileMoveData;if(i.type===$.A.FILE&&i.file.is_team_template&&(0,U.VA)(e)){this.props.dispatch(A.to({type:el.X0,data:{title:(0,C.tx)("templates.confirmation.move_to_drafts.title",{count:1}),content:(0,C.tx)("templates.confirmation.move_to_drafts.description"),confirmText:(0,C.tx)("templates.confirmation.move_to_drafts.button_v2"),destructive:!1,onConfirm:t}}));return}t()},this.move=s()(e=>{let t=this.props.fileMoveData;switch(t.type){case $.A.FILE:this.moveFile(e,t.file);break;case $.A.REPO:this.moveRepo(e,t.repo);break;case $.A.FILE_IMPORT:for(let a of t.files)this.props.dispatch((0,V.zh)({name:a.name,blob:new Blob([a.contents]),folderId:e.id}));break;default:(0,o.assertNever)(t)}},2e3,{leading:!0,trailing:!1}),this.closeModal=()=>{this.props.dispatch(A.ES(this.props.modalId))},this.moveFile=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let a=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(L.z({files:[t],folder:e,team:a,fromFileModal:!0,onFinishCallback:this.props.fileMoveData.afterFileMove?.callback}))}}else this.onClose()},this.moveRepo=(e,t)=>{if(e&&e.id!==t.folder_id){if(this.props.userResources.loaded){let a=this.props.userResources.userResources.teams[e.teamId||""]||null;this.closeModal(),this.props.dispatch(L.z({files:[],repos:[t],folder:e,team:a,fromFileModal:!0}))}}else this.onClose()},this.getModalTitle=()=>{let e=this.props.fileMoveData;if(this.isMovePageToNewFile)return(0,C.t)("file_browser.file_move.move_pages_to_new_file");if(e.type===$.A.FILE_IMPORT)return 1===e.files.length?(0,C.t)("file_browser.file_move.modal_header_import_file",{fileName:e.files[0].name}):(0,C.t)("file_browser.file_move.modal_header_import_files");{let t=e.type===$.A.FILE?e.file.name:e.repo.name;return(0,C.t)("file_browser.file_move.modal_header_move_file",{fileName:t})}},this.getFocusedFolder=()=>{if(!this.props.userResources.loaded)return null;let{userResources:e}=this.props.userResources,t=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];return t&&t.type===$.b.FOLDER_ROW?e.folders[t.id]:null},this.onFileMoveContextMenu=(e,t)=>{e.stopPropagation(),e.preventDefault(),this.props.fileMove.folderRenaming||this.props.dispatch(S.j7({type:this.FILE_MOVE_DROPDOWN,data:{folderId:t.id,position:{top:e.clientY,left:e.clientX,right:"auto",bottom:"auto"}}}))},this.handleInputChange=e=>{this.setState({newFileName:e.currentTarget.value})},this.renderViewerUpgradeAwarenessBanner=(e,t,a)=>{if(!this.props.userResources.loaded)return null;let{userResources:n}=this.props.userResources;if(!(0,U.VA)(t)||(0,U.VA)(a))return null;let i=this.props.fileMoveData.type===$.A.FILE?this.props.fileMoveData.fileKey:"";if(n.orgId){if(n.org?.k12GoogleOrg)return null;let t=n.orgUsers[n.orgId],a=t&&n.user?t[n.user.id]:null,o=!1;if(e===P._Y.DESIGN?o=a?.design_paid_status===P.El.STARTER:e===P._Y.WHITEBOARD&&(o=a?.whiteboard_paid_status===P.El.STARTER),o)return r.createElement(ei.n,{planName:this.props.currentOrg?.name,planType:Q.O.ORG,planId:n.orgId,fileKey:i,upgradeReason:eo.X.MOVE_DRAFT})}else{let t=a?.teamId,o=t?n.teams[t]:null;if(o&&e6(o).pro_team){let t=!1;if(e===P._Y.DESIGN?t=o.currentTeamUser?.designPaidStatus===P.Zf.STARTER:e===P._Y.WHITEBOARD&&(t=o.currentTeamUser?.whiteboardPaidStatus===P.Zf.STARTER),t)return r.createElement(ei.n,{planName:o.name,planType:Q.O.TEAM,planId:o.id,fileKey:i,upgradeReason:eo.X.MOVE_DRAFT})}}return null}}componentDidMount(){document.addEventListener("keydown",this.onkeydown),this.componentMountedAt=new Date}componentWillUnmount(){document.removeEventListener("keydown",this.onkeydown)}componentDidUpdate(e,t){!e.userResources.loaded&&this.props.userResources.loaded&&(this.props.fileMoveData.autoSelect&&this.props.dispatch(k.qb({fileMove:this.props.fileMove})),this.props.dispatch(k.YG({isSearchFocused:!0})));let a=this.props.fileMove.focusedIndex;if(this.props.fileMove.upDownKeyPressed&&e.fileMove.focusedIndex!==a){if(!this.scrollContainerElm||-1===a)return;let e=this.props.fileMove.folderRows[a].positionTop,t=this.scrollContainer.getScrollTop(),r=this.scrollContainerElm.clientHeight;e<t?0===a?this.scrollContainer.scrollToTop():this.scrollContainer.scrollTo(e):e+e2>t+r&&(null!=this.props.fileMove.indexCount&&a===this.props.fileMove.indexCount-1?this.scrollContainer.scrollToBottom():this.scrollContainer.scrollTo(e-r+e2))}this.props.fileMove.upDownKeyPressed&&this.props.dispatch(k.qM())}renderDropdown(){if(!this.props.userResources.loaded)return;let{userResources:e}=this.props.userResources,t=this.props.dropdownShown;if(!(t&&t.type===this.FILE_MOVE_DROPDOWN&&t.data&&t.data.folderId))return null;let a=e.folders[t.data.folderId];return a?r.createElement(ti,{folder:a,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,dispatch:this.props.dispatch}):null}render(){let e,t,a;let n=this.props.fileMoveData.modalWidth||288,i=this.getModalTitle();if(!this.props.userResources.loaded)return r.createElement(ee.XV,{title:i,fixedTop:!0,minWidth:n,maxWidth:n,onClose:this.onClose,truncateTitleText:!0},r.createElement("div",{className:eW},r.createElement(b.a_,{className:"file_move--spinner--fdTRn"})));let{userResources:l}=this.props.userResources,s=e5(this.props.fileMoveData),c=null==s?null:l.folders[s],d=this.getFocusedFolder();e=this.isMovePageToNewFile?null!=d&&0!==this.state.newFileName.length:this.props.fileMoveData.type===$.A.FILE_IMPORT?null!=d:null!=d&&null!=c&&d.id!==c.id;let u=0===this.props.fileMove.teamOrder.length,_=!this.props.fileMove.folderSearchQuery&&this.props.fileMove.userTeamCount&&!(0,m.kc)().ps_benchmark&&this.props.fileMove.userTeamCount<=1&&this.props.fileMoveData.type!==$.A.FILE_IMPORT,p=!this.props.fileMove.folderSearchQuery&&this.props.fileMove.userTeamCount&&(0,m.kc)().ps_benchmark&&this.props.fileMove.userTeamCount<=1&&this.props.fileMoveData.type!==$.A.FILE_IMPORT,f=this.props.fileMoveData;switch(f.type){case $.A.FILE:t={fileKey:f.fileKey,fileTeamId:f.file&&f.file?.team_id,fileMoveModalEmptyState:_||p,orgId:this.props.currentOrg&&this.props.currentOrg?.id},a=f.file.editor_type??P._Y.DESIGN;break;case $.A.REPO:t={repoId:f.repoId,fileMoveModalEmptyState:_||p,orgId:this.props.currentOrg&&this.props.currentOrg?.id},a=P._Y.DESIGN;break;case $.A.FILE_IMPORT:t={},a=null;break;default:(0,o.assertNever)(f)}return r.createElement(R.fu,{name:q.e0.FILE_MOVE_MODAL,properties:t},r.createElement(ee.XV,{title:i,fixedTop:!0,minWidth:n,maxWidth:n,onClose:this.onClose,truncateTitleText:!0},_?r.createElement("div",{className:"file_move--mainZeroState--LuJk0 file_move--main--RCzls",id:e4},r.createElement("div",{className:"file_move--zeroStateModal--0wxWh"},r.createElement("div",{style:{paddingTop:"100px"}},(0,C.tx)("file_browser.file_move.zero_state")),this.props.currentOrg&&r.createElement("div",{className:I.cx.pt20.$},r.createElement(h.$$,{onClick:this.onOrgViewLinkClick},this.props.currentOrg.bigma_enabled?(0,C.t)("file_browser.file_move.view_workspaces"):(0,C.t)("file_browser.file_move.view_teams"))))):r.createElement("div",{className:eW,id:e4},this.isMovePageToNewFile?r.createElement(en,{newFileName:this.state.newFileName,onChange:this.handleInputChange}):r.createElement(r.Fragment,null,a&&c&&d&&this.renderViewerUpgradeAwarenessBanner(a,c,d),r.createElement("div",{className:"file_move--searchWrapperNew--PXm8m"},r.createElement(te,{fileMoveData:this.props.fileMoveData,folderCount:this.props.fileMove.indexCount,focusedIndex:this.props.fileMove.focusedIndex,getFocusedFolder:this.getFocusedFolder,searchQuery:this.props.fileMove.folderSearchQuery,moveFolder:this.move,dispatch:this.props.dispatch,userResources:l}))),r.createElement("div",{className:eY}),this.props.fileMoveData.displayBanner&&!this.isMovePageToNewFile&&r.createElement(r.Fragment,null,this.props.fileMoveData.displayBanner,r.createElement("div",{className:eY})),this.props.fileMove.folderSearchQuery&&!this.isMovePageToNewFile&&u?r.createElement("div",{className:"file_move--emptyModal--MPz-z"},(0,C.tx)("search.file_move.no_results_found",{folderSearchQuery:this.props.fileMove.folderSearchQuery})):r.createElement(w.P,{width:n,className:"file_move--teamSectionBody--YR9Lj",ref:this.scrollContainerRef,onScroll:this.onScroll},r.createElement(tr,{currentFolderId:s,fileMove:this.props.fileMove,fileEditorType:a,creatingNewFolder:this.props.creatingNewFolder,onFileMoveContextMenu:this.onFileMoveContextMenu,indexOffsets:this.props.fileMove.indexOffsets,teams:l.teams,folders:l.folders,teamNameMaxWidth:n-88,componentMountedAt:this.componentMountedAt,orgId:l.orgId,onDoubleClick:this.moveToSelectedFolder,selectedView:this.props.selectedView,rolesByTeamId:l.roles.byTeamId,dispatch:this.props.dispatch})),r.createElement("div",{className:"file_move--footer--Pt8L1"},r.createElement(h.nR,{onClick:this.onClose},(0,C.tx)("modal.cancel")),r.createElement(h.vd,{disabled:!e,onClick:this.moveToSelectedFolder},this.props.fileMoveData.moveText||(0,C.t)("file_browser.file_move.move")))),this.renderDropdown(),r.createElement(to,{fileMove:this.props.fileMove,creatingNewFolder:this.props.creatingNewFolder})))}}e7.displayName="FileMoveModal";class te extends r.PureComponent{constructor(e){super(e),this.onFocus=()=>{this.props.dispatch(k.xH()),this.props.dispatch(k.YG({isSearchFocused:!0}))},this.onBlur=()=>{this.props.dispatch(k.YG({isSearchFocused:!1}))},this.onChange=e=>{e.stopPropagation(),this.props.dispatch(eF({modalData:this.props.fileMoveData,query:e.currentTarget.value,userResources:this.props.userResources}))},this.onSearchKeyDown=e=>{e.stopPropagation();let t=this.searchInputRef.current;switch(e.keyCode){case u.Uz.DOWN_ARROW:t&&t.blur(),null!=this.props.folderCount&&this.props.dispatch(k.TL({upperBound:this.props.folderCount}));break;case u.Uz.UP_ARROW:t&&t.blur(),this.props.dispatch(k.zv());break;case u.Uz.ESCAPE:if(!t)break;t.value?(t.value="",this.props.dispatch(eF({modalData:this.props.fileMoveData,query:"",userResources:this.props.userResources}))):this.props.dispatch(A.Ce()),this.props.dispatch(k.xH());break;case u.Uz.TAB:t&&t.blur(),this.props.dispatch(k.xH());break;case u.Uz.ENTER:{t&&t.blur();let e=this.props.getFocusedFolder();e&&this.props.moveFolder(e)}}},this.searchInputRef=r.createRef()}componentDidMount(){let e=this.searchInputRef.current;e&&e.focus()}render(){return r.createElement("div",{className:"file_move--searchContainer--0qezA"},r.createElement("div",{className:ej},r.createElement(T.B,{svg:eX.A})),r.createElement(y.L,{ref:this.searchInputRef,placeholder:(0,C.t)("file_browser.file_move.search_placeholder"),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onSearchKeyDown,className:this.props.searchQuery?"file_move--searchInputNew--k79Z1":"file_move--searchInputEmptyNew--Qc-2U file_move--searchInputNew--k79Z1",value:this.props.searchQuery,onChange:this.onChange}))}}function tt(e){let{team:t,teamId:a}=e,[n,{onMouseOver:i,onMouseOut:o}]=(()=>{let[e,t]=(0,r.useState)(!1),a=(0,r.useCallback)(()=>t(!0),[t]),n=(0,r.useCallback)(()=>t(!1),[t]);return(0,r.useMemo)(()=>[e,{onMouseOver:a,onMouseOut:n}],[e,a,n])})(),l=(0,_.Rs)(H.bel,{teamId:t?.id??""},{enabled:!!t?.id}),s=l.data?.team?.teamFileCounts?.designFileCount??0,c=l.data?.team?.teamFileCounts?.whiteboardFileCount??0,d=l.data?.team?.teamFileCounts?.slideFileCount,m=d?parseInt(d,10):0,u=null==e.fileEditorType?null:"whiteboard"===e.fileEditorType?{type:j.sK.ADD_FIGJAM_FILE,nCurrentWhiteboardFiles:c}:"slides"===e.fileEditorType?{type:j.sK.ADD_SLIDES_FILE,nCurrentSlideFiles:m}:{type:j.sK.ADD_DESIGN_FILE,nCurrentDesignFiles:s},p=e.fileNotInTeam&&t&&u&&!(0,j.rR)((0,Y.Ws)(t),u);return r.createElement(r.Fragment,null,e.showTitle&&r.createElement("div",{className:"file_move--teamTitleNew--2ojZ4 text--fontPos12--YsUAh text--_fontBase--QdLsd",onMouseOver:i,onMouseLeave:o},(a===k.iK||a===k.HK)&&r.createElement("div",{className:ej},r.createElement(T.B,{svg:e0.A})),r.createElement("div",{className:"file_move--teamTitleRow--0tzGB"},r.createElement("div",{className:"file_move--teamName--9fqeI"},r.createElement("div",{className:"file_move--teamTitleText--NhNEM ellipsis--ellipsis--Tjyfa",style:{maxWidth:e.teamNameMaxWidth}},a===k.iK||a===k.HK?(0,C.t)("file_browser.shared_projects"):t.name),p&&r.createElement("div",{className:"file_move--warningIcon--Dsp3N"},r.createElement(T.B,{svg:eq.A,"data-tooltip-type":K.Ib.TEXT,"data-tooltip":(0,C.t)("file_browser.file_move.paywall_team_tooltip")}))),n&&t&&!p&&r.createElement("div",{className:"file_move--newProjButton--L5YiY"},r.createElement(N.I,{team:t,isBackgroundTransparent:!0,trackingContextName:q.e0.FILE_MOVE_MODAL})))))}function ta(e){let t=(0,r.useRef)(null),[a,n]=(0,r.useState)(!1),o=(0,i.wA)();return(0,r.useEffect)(()=>{!a&&e.isTeamNew&&t.current&&e.hasFolderSection&&(o(k.Dp({indexAt:e.firstFolderFocusedIndex})),t.current.scrollIntoView(),n(!0))},[e.isTeamNew,e.hasFolderSection,e.firstFolderFocusedIndex,a,t,o]),r.createElement("div",{className:e.className,ref:t},e.children)}function tr(e){let{fileMove:t,teams:a,selectedView:n}=e,i=Object.values(a).map(e=>e6(e));return r.createElement("div",null,null!=t.teamOrder&&t.teamOrder.map(n=>{let i=n!==k.HK,o=n!==k.iK&&n!==k.HK,l=(t.foldersByTeamId?.[n]||[]).length>0;if(!(i||o||l))return null;let s=a[n];if(!s&&!(n===k.iK||n===k.HK)||(0,m.kc)().ps_benchmark&&n===k.HK&&!e.orgId)return null;let c=s?new Date(a[n].createdAt):void 0,d=c&&c>e.componentMountedAt,u=t.indexOffsets[n]+1,_=!!e.currentFolderId&&n!==e.folders[e.currentFolderId]?.teamId;return r.createElement(ta,{className:"file_move--teamSection--JHso7",isTeamNew:d,firstFolderFocusedIndex:u,hasFolderSection:l,key:`Team Section ${n}`},r.createElement(tt,{team:s,teamId:n,showTitle:i,isACustomTeam:o,fileNotInTeam:_,teamNameMaxWidth:e.teamNameMaxWidth,indexOffsets:e.indexOffsets,fileEditorType:e.fileEditorType}),l&&(t.foldersByTeamId[n]||[]).map((a,i)=>{let l=i+e.indexOffsets[n];return o&&(l+=1),r.createElement(tn,{key:`${a.teamId} ${a.id}`,folderBeingRenamed:t.folderRenaming,folders:e.folders,index:l,focusedFolderIndex:t.focusedIndex,folder:a,isSearchingFolders:!!t.isSearchResult,currentFolderId:e.currentFolderId,onFileMoveContextMenu:e.onFileMoveContextMenu,trackingContextName:q.e0.FILE_MOVE_MODAL,onDoubleClick:e.onDoubleClick})}))}),!e.orgId&&r.createElement(eQ,{teamNameMaxWidth:e.teamNameMaxWidth,trackingContextName:q.e0.FILE_MOVE_MODAL,orgId:e.orgId,selectedView:n,teams:i,rolesByTeamId:e.rolesByTeamId,dispatch:e.dispatch}))}function tn(e){let t=(0,i.wA)(),a=(0,f.n_)(F.mq),n=(r,n)=>{(0,c.sx)("Rename Folder",{trackingContext:e.trackingContextName}),a({folderId:r.id,folderName:n}),t(k.Mn())},o=(t,a)=>{e.onFileMoveContextMenu(a,t)},l=e.folderBeingRenamed===e.folder.id,s=e.focusedFolderIndex===e.index,d=e.folderBeingRenamed?e$:s?"file_move--folderRowWrapperFocusedNew--egTh6 file_move--folderRowWrapper--Qw-C4":e$,{folder:u}=e;return r.createElement("div",{className:d,onMouseDown:()=>{t(k.Dp({indexAt:e.index}))},key:`${u.teamId} ${u.id}`,onContextMenu:e=>o(u,e),onDoubleClick:()=>{l||e.onDoubleClick()}},l?r.createElement("div",{className:eG},r.createElement(v.p,{key:`input ${u.id}`,className:"file_move--renameInput--RBlJ-",placeholderValue:(0,U.CI)(u),submit:e=>n(u,e),cancel:()=>{t(k.Mn())}})):((t,a)=>{let n=e3(t)&&e.isSearchingFolders,i=e.focusedFolderIndex&&e.focusedFolderIndex>-1?a:e.currentFolderId===t.id,o=(0,m.kc)().ps_benchmark&&(0,U.jd)(t)?e1.A:eZ.A;return r.createElement("div",{className:eG},r.createElement("div",{className:ej},r.createElement(T.B,{svg:i?eK.A:o})),r.createElement("span",{className:"file_move--folderName--ouEY3 ellipsis--ellipsis--Tjyfa"},(0,U.CI)(t)),r.createElement("div",{className:ej},n&&r.createElement(T.B,{svg:eJ.A})))})(u,s))}te.displayName="FileMoveSearch";class ti extends r.PureComponent{constructor(){super(...arguments),this.renameFolder=()=>{this.props.dispatch(k.JG({folderId:this.props.folder.id}))}}render(){let e=this.props.folder,t=e.canRename,a=e8(this.props.selectedView);return r.createElement(E.ms,{className:"file_move--fileMoveContextMenu--xs-xb",style:this.props.dropdownShown.data.position},r.createElement(E.c$,{disabled:!t,onClick:this.renameFolder},(0,C.tx)("file_browser.file_move.context_menu_rename")),r.createElement(E.wv,null),r.createElement(E.c$,{href:(0,G.EE)(e.id,e.orgId),target:a},(0,C.tx)("file_browser.file_move.context_menu_show_in_files")))}}ti.displayName="FileMoveDropdown";class to extends r.PureComponent{constructor(){super(...arguments),this.hiddenDivRef=e=>{this.hiddenDiv=e}}componentDidUpdate(){!this.props.fileMove||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused||this.props.creatingNewFolder||null==this.hiddenDiv||this.hiddenDiv.focus()}render(){return r.createElement("div",{ref:this.hiddenDivRef,tabIndex:0})}}to.displayName="FileMoveHiddenDiv"},404558:(e,t,a)=>{a.r(t),a.d(t,{MoveDraftToProjectInterstitialModal:()=>h});var r=a(411855),n=a(188507),i=a(629019),o=a.n(i),l=a(966712),s=a(799569),c=a(946689),d=a(939863),m=a(160838),u=a(662275),_=a(931828),p=a(672517),f=a(488578),g=a(626208),E=a(751299);function h(e){let t=(0,n.wA)(),a=(0,l.kc)().ps_benchmark,i=()=>{t(_.b({dismissed_move_draft_to_project_interstitial_modal:!0})),t(u.Lo())};return r.createElement(p.fu,{name:"MoveDraftToProjectInterstitialModal"},r.createElement(f.aF,{title:a?(0,d.t)("file_browser.draft_to_project.title.plan_spaces"):(0,d.t)("file_browser.draft_to_project.title.seat_rename"),titleClassName:g.wN,className:g.KP,size:320,popStack:!0,disableClickOutsideToHide:!0},r.createElement(s.Jn,{className:o()(E.J_,E.BQ),onClick:i}),r.createElement("span",null,a?(0,d.tx)("file_browser.draft_to_project.body.plan_spaces"):(0,d.tx)("file_browser.draft_to_project.body.seat_rename"),r.createElement("br",null)),r.createElement("div",{className:o()(g.v0,g.hF)},r.createElement("a",{target:"_blank",href:"https://help.figma.com/hc/articles/13838684089751-Starter-plan-permissions#drafts"},r.createElement(c.tM,null,(0,d.tx)("general.learn_more"))),r.createElement(c.vd,{className:g.pL,onClick:()=>{i(),(0,m.hd)(e.file,e.repo,t,e.afterFileMove,e.moveFileModalData,e.bannerToDisplay)}},(0,d.tx)("file_browser.draft_to_project.move")))))}},43325:(e,t,a)=>{a.d(t,{cx:()=>i});var r=a(503457),n=a(898719);a(647400);let i=n.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(7481),a.e(6320),a.e(8259),a.e(9951),a.e(3630),a.e(3727),a.e(6094),a.e(4079),a.e(1839),a.e(7600),a.e(7294),a.e(7748)]).then(a.bind(a,647400)).then(e=>e.default),{loading:()=>null,error:r.H4.NONE,componentName:"FileBrowserOverlays"})},681268:(e,t,a)=>{a.r(t),a.d(t,{EduUpgradeModal:()=>f});var r=a(411855),n=a(188507),i=a(946689),o=a(939863),l=a(80889),s=a(507877),c=a(662275),d=a(995852),m=a(672517),u=a(594901),_=a(243987),p=a(585878);function f(){let e=(0,u.FC)(),t=(0,n.wA)(),a=r.useCallback(()=>{t(c.Ce())},[t]),f=r.useCallback(e=>{a(),t(d.Vm({teamId:e.id}))},[t,a]),g=r.useCallback(()=>{a(),t(s.Dw({isEduTeam:!0}))},[t,a]),E=r.useMemo(()=>(0,_.Kg)(e),[e]);return r.useLayoutEffect(()=>{0===E.length&&g()},[t,E.length,g]),r.createElement(m.fu,{name:"Edu Team Upgrade Modal"},r.createElement(p.XV,{title:(0,o.t)("edu.upgrade_teams.headline"),onClose:a},r.createElement("div",{className:"edu_upgrade_modal--container--i-0VV"},r.createElement("p",{className:"edu_upgrade_modal--bodyText--BXu7I"},(0,o.tx)("edu.upgrade_teams.body",{link:r.createElement(i.Ph,{className:"edu_upgrade_modal--link--Toy9f",href:"/pricing",target:"_blank",trusted:!0},(0,o.tx)("edu.upgrade_teams.body_link_text"))}),E.length>1&&r.createElement(r.Fragment,null," ",(0,o.tx)("edu.upgrade_teams.body_multiple_teams"))),r.createElement(l.I,{eligibleTeams:E,selectTeam:f,showEditorCount:!1,customUpgradeText:(0,o.t)("general.next")}),r.createElement(i.Ph,{className:"edu_upgrade_modal--createTeamLink--CbJUX edu_upgrade_modal--link--Toy9f",onClick:g,trusted:!0},(0,o.tx)("edu.or_create_a_new_team")))))}},439822:(e,t,a)=>{a.r(t),a.d(t,{DowngradeSurveyModal:()=>P,DowngradeSurveyModalAdmin:()=>D,DowngradeSurveyModalLeaveTeam:()=>M});var r=a(411855),n=a(939863),i=a(898719),o=a(237870);let l="team-admin-confirm-downgrade",s=i.A.createLazyComponent(()=>Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(7481),a.e(6320),a.e(8259),a.e(9951),a.e(3630),a.e(3727),a.e(6094),a.e(4079),a.e(1839),a.e(7600),a.e(7294),a.e(7748)]).then(a.bind(a,815622)).then(e=>e.ConfirmDowngradeModal),(0,o.Ij)("ConfirmDowngradeModal"));(0,o.qK)(l,s);var c=a(662275),d=a(902957),m=a(188507),u=a(946689),_=a(611978),p=a(585878);function f({id:e,label:t,children:a,onChange:n}){let[i,o]=r.useState(!1);return r.createElement("fieldset",{name:e},r.createElement("div",{className:"survey_option--inputContainer---R-Fh"},r.createElement(u.tB,{id:e,checked:i,onChange:e=>{o(!i),n&&n(e)}}),r.createElement("label",{className:"survey_option--label--NqXEk",htmlFor:e},t)),i&&a&&r.createElement("div",{className:"survey_option--subContainer--Omjmy"},a))}var g=a(459401),E=a(629019),h=a.n(E),v=a(268537),y=a(893281),b=a(158950);function w(e){let[t,a]=r.useState(""),n=e=>{a(e.target.value)};return e.textarea?r.createElement(b.v,{value:t,onChange:n,...e}):r.createElement(u.ks,{id:e.id,className:"survey_text_input--input--Q1W-9",placeholder:e.placeholder,maxLength:100,value:t,onChange:n})}let T="downgrade_survey_modal_component_v2--surveyQuestions--E5X6t",I="downgrade_survey_modal_component_v2--researchContact--qGc3V",C="downgrade_survey_modal_component_v2--hiddenInput--04h5p",x="downgrade_survey_modal_component_v2--radio--xvUsz",N=[{id:"brl",shorthand:"BRL"},{id:"cad",shorthand:"CAD"},{id:"eur",shorthand:"EUR"},{id:"gbp",shorthand:"GBP"},{id:"jpy",shorthand:"JPY"}];function S({id:e,shorthand:t}){return r.createElement("div",{className:"downgrade_survey_modal_component_v2--currencyContainer--CoFln"},r.createElement("p",null,(0,n.tx)(`downgrade_survey.survey_option.too_expensive.${e}`)),r.createElement("p",{className:"downgrade_survey_modal_component_v2--currencyShorthand--xhQpy"},t))}let k=[{id:"too_expensive",value:"Too expensive",children:r.createElement(function(){let e="other_currency",[t,a]=r.useState(""),i=e=>{a(e.currentTarget.id)},o=[...N.map(({id:e,shorthand:t})=>r.createElement(v.c$,{id:e,key:e,onClick:i},r.createElement(S,{id:e,shorthand:t}))),r.createElement(v.wv,{key:"separator"}),r.createElement(v.c$,{id:e,onClick:i,key:e},(0,n.tx)("downgrade_survey.survey_option.too_expensive.other_currency"))];return r.createElement("fieldset",null,r.createElement(f,{id:"currency_conversion",label:(0,n.t)("downgrade_survey.survey_option.too_expensive.currency_conversion")},r.createElement("fieldset",{className:h()({"downgrade_survey_modal_component_v2--currencySelector__other--khpqx":t===e})},r.createElement(v.Ve,{label:t.length?(0,n.t)(`downgrade_survey.survey_option.too_expensive.${t}`):(0,n.t)("downgrade_survey.survey_option.too_expensive.currency_selector"),options:o}),r.createElement("input",{id:"currency",className:C,readOnly:!0,value:t}),t===e&&r.createElement(w,{id:"currency_input",placeholder:(0,n.t)("downgrade_survey.survey_option.too_expensive.specify_currency")}))))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")),a=t.find(e=>"currency_conversion"===e.id),r=t.find(e=>"currency"===e.id),n=r?.value,i=t.find(e=>"currency_input"===e.id),o=i?.value||n||void 0;return{currencyConversion:a?.checked,currency:o}}},{id:"billing_structure_unclear",value:"Billing structure is unclear"},{id:"no_longer_using_figma_products",value:"No longer using Figma's products",children:r.createElement(function(){return r.createElement("fieldset",null,r.createElement("legend",{className:"downgrade_survey_modal_component_v2--additionalQuestion--HfKNO"},(0,n.tx)("downgrade_survey.survey_option.no_longer_using_figma_products.other_products")),r.createElement(w,{id:"other_products",placeholder:(0,n.t)("downgrade_survey.survey_option.no_longer_using_figma_products.text_area")}))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"other_products"===e.id);return{products:t?.value||void 0}}},{id:"project_inactive",value:"Project is over or no longer active"},{id:"accidental_upgrade",value:"Did not mean to upgrade"},{id:"switching_plans",value:"Switching to a different plan",children:r.createElement(function(){let[e,t]=r.useState("");return r.createElement(r.Fragment,null,r.createElement(y.z,{value:e,onChange:e=>t(e)},r.createElement(y.Z,{className:x,value:"Starter plan"},(0,n.tx)("downgrade_survey.survey_option.switching_plans.starter_plan")),r.createElement(y.Z,{className:x,value:"Organization plan"},(0,n.tx)("downgrade_survey.survey_option.switching_plans.organization_plan")),r.createElement(y.Z,{className:x,value:"Enterprise plan"},(0,n.tx)("downgrade_survey.survey_option.switching_plans.enterprise_plan")),r.createElement(y.Z,{className:x,value:"Education plan"},(0,n.tx)("downgrade_survey.survey_option.switching_plans.education_plan"))),r.createElement("input",{id:"new_plan",className:C,readOnly:!0,value:e}))},null),getSubOptions:e=>{let t=Array.from(e.getElementsByTagName("input")).find(e=>"new_plan"===e.id);return{newPlan:t?.value||void 0}}}],L={id:"other",value:"Other",children:r.createElement(function(){return r.createElement(w,{className:"downgrade_survey_modal_component_v2--otherTextArea--pS5MZ",placeholder:(0,n.t)("downgrade_survey.survey_option.other.text_area"),textarea:!0})},null),getSubOptions:e=>({explanation:e.getElementsByTagName("textarea")[0].value||void 0})},A=(0,g.shuffle)(k).concat(L);var R=a(373494),F=a(663237);function O({cancelText:e,onSubmit:t}){let[a,i]=r.useState([]),o=e=>{let{id:t}=e.currentTarget;a.includes(t)?i(a.filter(e=>e!==t)):i([...a,t])},l=(0,m.wA)(),s=(0,_._6)().teamId,d=()=>{l(c.Ce())};return r.createElement(p.XV,{title:(0,n.t)("downgrade_survey.header"),fixedTop:!0,minWidth:370,maxWidth:370,onClose:d,dataTestId:"downgrade-survey-modal"},r.createElement("form",{className:"downgrade_survey_modal_component_v2--modalBody--tYceI",onSubmit:e=>{e.preventDefault();let r=Array.from(e.currentTarget.getElementsByClassName(T)[0].getElementsByTagName("fieldset")),n=a.map(e=>{let t=r.find(t=>t.name===e),{value:a,getSubOptions:n}=A.find(t=>t.id===e);return{reason:a,...n&&n(t)}});t({teamId:s,canContact:e.currentTarget.getElementsByClassName(I)[0].getElementsByTagName("input")[0].checked,selectedOptions:n})}},r.createElement("div",{className:"downgrade_survey_modal_component_v2--exitSurvey--9HRcF"},r.createElement("fieldset",{className:T},r.createElement("legend",null,(0,n.tx)("downgrade_survey.what_made_you_cancel_your_plan")),!a.length&&r.createElement("p",{className:F.Q},(0,n.tx)("downgrade_survey.select_one")),A.map(({id:e,children:t})=>r.createElement(f,{id:e,label:(0,n.t)(`downgrade_survey.survey_option.${e}`),key:e,onChange:o},t))),r.createElement("fieldset",{className:I},r.createElement("legend",null,(0,n.tx)("downgrade_survey.research_contact")),r.createElement(f,{id:"research",label:(0,n.t)("downgrade_survey.allow_research_contact")}))),r.createElement("div",{className:"downgrade_survey_modal_component_v2--buttonRow--Y15LH"},r.createElement(u.tM,{className:R.Lu,type:"button",onClick:d},e),r.createElement(u.vd,{type:"submit",disabled:!a.length,className:R.pL,autoFocus:!1},(0,n.tx)("downgrade_survey.continue")))))}function P(e){let t="admin"===e.context?(0,n.t)("downgrade_survey.go_back"):(0,n.t)("downgrade_survey.do_not_leave_team");return r.createElement(O,{onSubmit:t=>{let a=e.modalShown?.data.teamId,r=e.modalShown?.data.billingEndDate;if("admin"===e.context)e.dispatch(c.to({type:l,data:{teamId:a,billingEndDate:r,exitSurveyData:t}}));else if("leave-team"===e.context){let t=e.teams[a];e.dispatch(d.yH({team:t,userInitiated:!0})),e.dispatch(c.Ce())}},cancelText:t})}function D(e){return r.createElement(P,{...e,context:"admin"})}function M(e){return r.createElement(P,{...e,context:"leave-team"})}},726307:(e,t,a)=>{a.r(t),a.d(t,{FOLDER_DELETE_CONFIRM_MODAL:()=>m,FolderBatchAbandonedDraftDeleteConfirmModal:()=>u});var r=a(411855),n=a(188507),i=a(776250),o=a(752553),l=a(881388),s=a(939863),c=a(688083),d=a(488578);let m="folder-delete-confirm-modal";function u({folders:e}){let t=(0,n.wA)(),a=(0,o.n_)(c.U),m=e=>{e.forEach(e=>{(0,i.sx)("Folder Batch Abandoned Draft Delete Confirmation Click",{folderId:e.id,teamId:e.teamId,orgId:e.orgId})}),a({folderIds:e.map(e=>e.id)}).catch(()=>{t(l.s.error((0,s.t)("file_browser.api_folder.error_when_deleting")))})};return r.createElement(d.Rw,{confirmationTitle:(0,s.t)("file_browser.delete_project.title"),destructive:!0,confirmText:(0,s.t)("file_browser.batch_delete_project.generic_confirm_label"),onConfirm:()=>{m(e)}},(0,s.tx)("file_browser.batch_delete_projects.confirm_text_trash_section",{numProjects:e.length}))}},295543:(e,t,a)=>{a.r(t),a.d(t,{FOLDER_DELETE_CONFIRM_MODAL:()=>g,FolderDeleteConfirmModal:()=>E});var r=a(411855),n=a(188507),i=a(776250),o=a(966712),l=a(752553),s=a(901536),c=a(881388),d=a(939863),m=a(76735),u=a(688083),_=a(875847),p=a(850134),f=a(488578);let g="folder-delete-confirm-modal";function E({folder:e}){let t=(0,n.wA)(),a=(0,l.n_)(u.tO),g=e=>{(0,i.sx)("Folder Delete Confirmation Click",{folderId:e.id,teamId:e.teamId,orgId:e.orgId}),a({folderId:e.id}).catch(()=>{t(c.s.error((0,d.t)("file_browser.api_folder.error_when_deleting")))})},E=(0,p.x)(e.id),h=r.createElement("span",{className:s.cx.fontBold.$},(0,_.CI)(e));return r.createElement(f.Rw,{confirmationTitle:(0,d.t)("file_browser.delete_project.title"),destructive:!0,confirmText:"loaded"!==E.status?(0,d.t)("file_browser.delete_project.generic_confirm_label"):1===E.data?(0,d.t)("file_browser.delete_project.one_file_confirm_label"):(0,d.t)("file_browser.delete_project.plural_files_confirm_label",{numFiles:(0,m.t)(E.data)}),onConfirm:()=>{g(e)}},(0,o.kc)().pdr_trashed_section?"loaded"!==E.status?(0,d.tx)("file_browser.delete_project.generic_confirm_text_trash",{folderName:h}):1===E.data?(0,d.tx)("file_browser.delete_project.one_file_confirm_text_trash",{folderName:h}):(0,d.tx)("file_browser.delete_project.plural_files_confirm_text_trash",{folderName:h,numFiles:(0,m.t)(E.data)}):"loaded"!==E.status?(0,d.tx)("file_browser.delete_project.generic_confirm_text",{folderName:h}):1===E.data?(0,d.tx)("file_browser.delete_project.one_file_confirm_text",{folderName:h}):(0,d.tx)("file_browser.delete_project.plural_files_confirm_text",{folderName:h,numFiles:(0,m.t)(E.data)}))}},855994:(e,t,a)=>{a.r(t),a.d(t,{FolderMoveModal:()=>F});var r=a(411855),n=a(188507),i=a(629019),o=a.n(i),l=a(737947),s=a(915440),c=a(946689),d=a(355819),m=a(163023),u=a(939863),_=a(131750),p=a(662275),f=a(672517),g=a(385111),E=a(688083),h=a(594901),v=a(279453),y=a(623746),b=a(428467),w=a(206193),T=a(851363),I=a(231959),C=a(143678),x=a(585878),N=a(626296);let S="folder_move--iconContainer--nXjIY file_move--iconContainer--SWek6";var k=a(613557),L=a(450147),A=a(126815),R=a(575675);function F(e){let t,a;let i=(0,n.wA)(),o=(0,n.d4)(e=>e.currentUserOrgId),_=(0,n.d4)(e=>null!=o?e.orgById[o]:null),b=(0,s.Rs)(v.AbW,{currentOrgId:o,currentTeamId:null}),S=(0,n.d4)(t=>t.folders[e.folderId]),[L,R]=(0,r.useState)(void 0),[F,D]=(0,r.useState)(void 0),M="loaded"===b.status?{...b.data.currentUser}:null,B=g.h.useTrackingContext({trigger:w.b.FOLDER_MOVE_MODAL}),U={},V=[],H=(0,h.FC)();if(M){let e=[];(M.teamRoles??[]).forEach(t=>{if(t.team?.orgId===o&&!t.team?.deletedAt&&!t.pending){if(t.team?.id===S?.team_id){a=t;return}e.push(t),t.team?.workspace?.id?(U[t.team.workspace?.id]=U[t.team.workspace?.id]??[],U[t.team.workspace?.id].push(t)):t.team&&V.push(t)}});let r=M.baseOrgUser?.workspaceUsers;t=r?.find(e=>e?.isMainWorkspace)?.workspaceId}let W=()=>{i(p.Ce())},j=(e,t)=>{R(e),D(t)},$=(0,r.useCallback)(()=>{if(L&&!F){let e=(0,T.bL)(L?.id,L.orgId);l.Ay.redirect(e,"_blank")}},[L,F]),G=(0,r.useCallback)(e=>{if(!_)return;let t={workspaceId:e??I.O,onSubmitReturnToPrevView:!1};i(p.to({type:N.Uc,data:t}))},[_,i]),Y=e=>r.createElement(r.Fragment,null,e.map(e=>r.createElement(P,{team:e.team,key:e.id,selectedTeamId:L?.id,onSelectTeam:j,permissionsState:H}))),z=e=>r.createElement(P,{team:e.team,key:e.id,selectedTeamId:L?.id,isCurrentTeam:!0,permissionsState:H,onSelectTeam:j});if(!S)return null;let Q=Object.keys(U).length>0,K=L&&a&&a.team.id===L.id;return r.createElement(f.fu,{name:C.e0.FILE_MOVE_MODAL,properties:B},r.createElement(x.XV,{title:(0,u.t)("file_browser.folder_move.modal_header",{folderName:S.name}),fixedTop:!0,minWidth:288,maxWidth:288,onClose:W,truncateTitleText:!0},r.createElement("div",{className:"folder_move--main--TkW9w file_move--main--RCzls"},r.createElement(d.P,{className:"folder_move--teamSectionBody--LACBL file_move--teamSectionBody--YR9Lj"},r.createElement("div",{className:"folder_move--teamSection---S02k file_move--teamSection--JHso7"},Q?(function(e,t,a){let r=t?.team?.workspace?.id??null,n=[r];return a&&a!==r&&e[a]&&n.push(a),Object.keys(e).filter(e=>e!==r&&e!==a).sort((t,a)=>{let r=e[t][0]?.team?.workspace?.name?.toLocaleUpperCase()??"",n=e[a][0]?.team?.workspace?.name?.toLocaleUpperCase()??"";return r<n?-1:r>n?1:0}).forEach(e=>{n.push(e)}),null!==r&&n.push(null),n})(U,a,t).map(e=>{if(null===e){if(V.length>0)return r.createElement(r.Fragment,{key:"other_teams_key"},r.createElement(O,{headerName:(0,u.t)("sidebar.workspaces.other_teams"),onCreateNewTeamClick:G,workspaceId:null}),null!=a&&a.team?.workspace?.id==null&&z(a),Y(V))}else if(U[e]){let t=U[e],n=t?t[0].team?.workspace??null:null;return r.createElement(r.Fragment,{key:e},r.createElement(O,{headerName:n?.name??"",onCreateNewTeamClick:G,workspaceId:n?.id??null}),null!=a&&a.team?.workspace?.id===e&&z(a),Y(t))}}):r.createElement(r.Fragment,null,_&&r.createElement(O,{key:"org_teams_header",headerName:_.name,onCreateNewTeamClick:G,workspaceId:null}),null!=a&&z(a),Y(V))),L&&!F&&r.createElement("div",{className:"folder_move--warningContainer--MXpOB"},r.createElement("div",{className:"folder_move--warningSectionIcon--gOcDL"},r.createElement(m.B,{svg:A.A})),r.createElement("div",null,(0,u.tx)("file_browser.folder_move.move_project_no_edit_access_warning"),r.createElement("div",{className:"folder_move--warningCTALink--f74xo",onClick:$,role:"link",tabIndex:0},(0,u.tx)("file_browser.folder_move.view_team"),r.createElement("div",{className:"folder_move--arrowRightIcon--xIk7X"},r.createElement(m.B,{svg:k.A})))))),r.createElement("div",{className:"folder_move--footer--jcEsZ file_move--footer--Pt8L1"},r.createElement(c.nR,{onClick:W},(0,u.tx)("modal.cancel")),r.createElement(c.vd,{onClick:()=>{null!=L&&S?i((0,E.Nr)({folder:(0,y.Bp)(S),team:L,onSuccess:W})):W()},disabled:void 0===L||!F||!!K},(0,u.tx)("file_browser.folder_move.move_project"))))))}function O(e){let[t,a]=(0,r.useState)(!1);return r.createElement("div",{className:"folder_move--teamsHeaderRow--qZfbl text--fontPos12--YsUAh text--_fontBase--QdLsd",onMouseMove:()=>a(!0),onMouseLeave:()=>a(!1)},r.createElement("div",null,e.headerName),t&&r.createElement(_.f,{data_tooltip:(0,u.t)("file_browser.inline_team_creation.button_text"),data_onboarding_key:"new-team-button",innerText:(0,u.t)("file_browser.inline_team_creation.button_text"),onClick:()=>{e.onCreateNewTeamClick(e.workspaceId)}}))}function P(e){let{team:t}=e;if(null==t)return r.createElement(r.Fragment,null);let a=o()(["folder_move--teamTitle--PwZow file_move--teamTitle--ZKSP9 text--fontPos12--YsUAh text--_fontBase--QdLsd",e.isCurrentTeam&&!e.selectedTeamId||e.selectedTeamId===e.team?.id?"folder_move--selectedTeamTitle---C1u4":""]),n=(0,b.canEditTeam)(t.id,e.permissionsState);return r.createElement("div",{className:a,onClick:()=>{e.onSelectTeam&&e.onSelectTeam(t,n)},role:"button",tabIndex:0},r.createElement("div",{className:S},r.createElement(m.B,{svg:e.isCurrentTeam?L.A:R.A})),r.createElement("div",{className:"folder_move--teamTitleRow--6MpKM file_move--teamTitleRow--0tzGB"},r.createElement("div",{className:"folder_move--teamName--fvmi0 file_move--teamName--9fqeI"},t.name)),e.selectedTeamId===t.id&&!n&&r.createElement("div",{className:S},r.createElement(m.B,{svg:A.A})))}},465705:(e,t,a)=>{a.r(t),a.d(t,{FolderPermanentlyDeleteConfirmModal:()=>h});var r=a(411855),n=a(188507),i=a(862350),o=a(951792),l=a(678738),s=a(504440),c=a(776250),d=a(752553),m=a(901536),u=a(881388),_=a(939863),p=a(76735),f=a(688083),g=a(875847),E=a(850134);function h(e){var t;let a=(0,n.wA)(),h=i.hS(e),v=(0,d.n_)(f.tO),y=(0,E.x)(e.folder.id,!0),b=r.createElement("span",{className:m.cx.fontBold.$},(0,g.CI)(e.folder)),w=(0,_.t)("file_browser.delete_project.delete_project"),T="loaded"!==y.status?(0,_.tx)("file_browser.delete_project.generic_confirm_text_permanently_delete_folder",{folderName:b}):0===(t=y.data)?(0,_.tx)("file_browser.delete_project.zero_file_confirm_text_permanently_delete_folder",{folderName:b}):(0,_.tx)("file_browser.delete_project.plural_files_confirm_text_permanently_delete_folder",{folderName:b,numFiles:(0,p.t)(t)}),I="loaded"===y.status&&0===y.data?(0,_.tx)("file_browser.delete_project.once_deleted_this_project_can_no_longer_be_restored"):(0,_.tx)("file_browser.delete_project.once_deleted_this_project_and_its_files_can_no_longer_be_restored");return r.createElement(o.bL,{manager:h,width:"lg"},r.createElement(l.vo,null,r.createElement(l.Y9,null,r.createElement(l.hE,null,(0,_.tx)("file_browser.trash_project.delete_project_forever"))),r.createElement(l.nB,null,r.createElement("div",{className:m.cx.mb16.$},T),r.createElement("div",null,I)),r.createElement(l.wi,null,r.createElement(l.jk,null,r.createElement(s.$n,{variant:"secondary",onClick:e.onClose},(0,_.tx)("modal.cancel")),r.createElement(s.$n,{variant:"destructive",onClick:()=>{(0,c.sx)("Folder Permanently Delete Confirmation Click",{folderId:e.folder.id,teamId:e.folder.teamId,orgId:e.folderOrgId}),v({folderId:e.folder.id}).catch(()=>{a(u.s.error((0,_.t)("file_browser.api_folder.error_when_permanently_deleting_folder")))}),e.onClose()}},w)))))}},93144:(e,t,a)=>{a.r(t),a.d(t,{FolderTrashConfirmModal:()=>f});var r=a(411855),n=a(188507),i=a(776250),o=a(752553),l=a(901536),s=a(881388),c=a(939863),d=a(76735),m=a(688083),u=a(875847),_=a(850134),p=a(488578);function f({folder:e}){let t=(0,n.wA)(),a=(0,o.n_)(m.Ct),f=e=>{(0,i.sx)("Folder Trash Confirmation Click",{folderId:e.id,teamId:e.teamId,orgId:e.orgId}),a({folderId:e.id}).catch(()=>{t(s.s.error((0,c.t)("file_browser.api_folder.error_when_moving_to_trash")))})},g=(0,_.x)(e.id),E=r.createElement("span",{className:l.cx.fontBold.$},(0,u.CI)(e)),h=r.createElement("span",{className:l.cx.fontBold.$},(0,c.tx)("file_browser.tool_bar.trash")),v="loaded"!==g.status?(0,c.t)("file_browser.trash_project.generic_confirm_label"):(e=>{switch(e){case 0:return(0,c.t)("file_browser.trash_project.generic_confirm_label");case 1:return(0,c.t)("file_browser.trash_project.one_file_confirm_label");default:return(0,c.t)("file_browser.trash_project.plural_files_confirm_label",{numFiles:(0,d.t)(e)})}})(g.data),y="loaded"!==g.status?(0,c.tx)("file_browser.trash_project.generic_confirm_text_trash_folder",{folderName:E}):(e=>{switch(e){case 0:return(0,c.tx)("file_browser.trash_project.zero_file_confirm_text_trash_folder",{folderName:E});case 1:return(0,c.tx)("file_browser.trash_project.one_file_confirm_text_trash_folder",{folderName:E});default:return(0,c.tx)("file_browser.trash_project.plural_files_confirm_text_trash_folder",{folderName:E,numFiles:(0,d.t)(e)})}})(g.data);return r.createElement(p.Rw,{confirmationTitle:(0,c.t)("file_browser.trash_project.move_project_to_trash"),destructive:!0,confirmText:v,onConfirm:()=>{f(e)}},r.createElement("div",{className:l.cx.mb16.$},y),r.createElement("div",null,(0,c.tx)("file_browser.trash_project.description_restore",{trashStyled:h})))}},465850:(e,t,a)=>{a.r(t),a.d(t,{ChangeAnnualPlanModal:()=>N,ChangeAnnualPlanRow:()=>x,ConfirmCancelAnnualPlanModal:()=>S});var r=a(411855),n=a(188507),i=a(966712),o=a(752553),l=a(946689),s=a(881388),c=a(939863),d=a(49891),m=a(662275),u=a(995852),_=a(672517),p=a(710667),f=a(304769),g=a(720647),E=a(978779),h=a(860178),v=a(99506),y=a(820113),b=a(243987),w=a(984968),T=a(265361),I=a(488578),C=a(135079);function x(e){return r.createElement(r.Fragment,null,(0,c.tx)("change_annual_plan_modal.number_of_editors.seat_rename",{productType:(0,T.E)((0,g.vc)(e.editorType))}),r.createElement(l.ks,{"data-testid":"change-annual-plan-row-input",type:"number",name:e.editorType,step:1,min:1,max:b.m,value:e.tempNumEditors,onChange:t=>{let a=t.target.value;e.setTempEditorsValue(parseInt(a))}}))}function N(){let e=(0,w.cD)(),t=(0,h.TA)(),a=(0,n.d4)(e=>e.teamBilling.summary),l=(0,n.d4)(e=>e.payment.submitPutAnnualQuantityPending),N=(0,n.wA)(),S=(0,p.N1)(p.Fq.TEAM_ADMIN_CONSOLE),[k]=(0,o.mI)(S),L=()=>{try{if(a?.annual_subscription)return a?.annual_subscription||void 0;return}catch(e){return}},A=L(),R=A?.whiteboard_quantity||0,[F,O]=r.useState(R),[P,D]=r.useState(A?.design_quantity||A?.quantity||0),M=(t,a)=>{N(u.MV({teamId:e,annualQuantity:t,annualWhiteboardQuantity:a}))},B=!!A?.trial_end&&!!(0,b.mt)(A.trial_end),U=A?(0,c.t)("change_annual_plan_modal.plan_start_date",{startDate:new Date(A.current_period_end)}):(0,c.t)("change_annual_plan_modal.unknown_start_date"),V=B?(0,c.t)("change_annual_plan_modal.confirmation_header_plan_starting",{startDate:U}):(0,c.t)("change_annual_plan_modal.confirmation_header_plan_started",{startDate:U});return r.createElement(_.fu,{name:"Change Annual Plan Modal",properties:{teamId:e,userId:t??void 0}},r.createElement(I.Rw,{confirmationTitle:V,confirmText:(0,c.t)("change_annual_plan_modal.confirm_text"),onConfirm:()=>{isNaN(P)||isNaN(F)||P<0||F<0||0===P&&0===F?N(s.s.error((0,c.t)("change_annual_plan_modal.invalid_seats_error"))):P+F>b.m?(N(s.s.error(r.createElement("div",null,(0,c.tx)("change_annual_plan_modal.contact_support_to_purchase_more_seats_error",{maxAnnualSubscriptions:b.m,contactSupportLink:r.createElement("a",{href:`mailto:${(0,i.W4)()}`},(0,c.t)("change_annual_plan_modal.contact_support_link"))})))),D(L()?.design_quantity||L()?.quantity||0),O(L()?.whiteboard_quantity||0)):F+P>100?N(m.to({type:d.Mv,data:{numAnnualEditors:P+F,onConfirm:()=>{M(P,F)}}})):N(u.MV({teamId:e,annualQuantity:P,annualWhiteboardQuantity:F}))},onCancel:()=>{N(m.Ce())},dontClose:!0,disableConfirm:l,trackedConfirmationProperties:{teamId:e,userId:t??void 0,monthly_quantity_design:P,monthly_quantity_figjam:F}},r.createElement("br",null),(0,c.tx)("change_annual_plan_modal.change_annual_plan_grace_period.seat_rename"),r.createElement("br",null),r.createElement("br",null),(()=>{let e=a.currency,t=new y.vr(e),n=(0,E.He)(k.data,t.currency,f.ud.DESIGN),i=(0,E.He)(k.data,t.currency,f.ud.FIGJAM);return r.createElement(r.Fragment,null,(0,c.tx)("change_annual_plan_modal.instructions.seat_rename",{monthlyEditorCost:t.formatMoney(n,{showCents:!1}),editorProduct:(0,T.E)(g.Te.DESIGN),monthlyFigjamCost:t.formatMoney(i,{showCents:!1}),figJamProduct:(0,T.E)(g.Te.WHITEBOARD)}))})(),r.createElement("br",null),r.createElement("br",null),r.createElement(x,{editorType:v._Y.DESIGN,tempNumEditors:P,setTempEditorsValue:e=>D(e),dispatch:N}),r.createElement(r.Fragment,null,r.createElement("br",null),r.createElement("br",null),r.createElement(x,{editorType:v._Y.WHITEBOARD,tempNumEditors:F,setTempEditorsValue:e=>O(e),dispatch:N})),r.createElement("br",null),r.createElement("br",null),r.createElement("a",{className:"change_annual_plan_modal--link--n0jw2 blue_link--blueLink--9rlnd",onClick:()=>{N(m.to({type:C.V}))}},B?(0,c.t)("change_annual_plan_modal.remove_annual_plan"):(0,c.t)("change_annual_plan_modal.dont_renew_annual_plan"))))}function S(){let e=(0,w.ol)(),t=(0,n.d4)(e=>e.teamBilling.summary.currency),a=(0,n.d4)(e=>e.payment.submitPutAnnualQuantityPending),i=(0,n.wA)(),l=(0,p.N1)(p.Fq.TEAM_ADMIN_CONSOLE),[s]=(0,o.mI)(l),d=new y.vr(t),_=(0,E.He)(s.data,d.currency,f.ud.DESIGN),g=(0,E.He)(s.data,d.currency,f.ud.FIGJAM);return r.createElement(I.Rw,{title:(0,c.t)("change_annual_plan_modal.cancel_annual_plan_header"),confirmText:(0,c.t)("change_annual_plan_modal.confirm_cancel_annual_plan"),cancelText:(0,c.t)("change_annual_plan_modal.nevermind"),onConfirm:()=>{let t=e.id;i(u.MV({teamId:t,annualQuantity:0,annualWhiteboardQuantity:0}))},onCancel:()=>{i(m.to({type:C.X,data:{}}))},dontClose:!0,disableConfirm:a},r.createElement("br",null),r.createElement(r.Fragment,null,(0,c.tx)("change_annual_plan_modal.cancel_annual_plan_text.seat_rename",{monthlyEditorCost:d.formatMoney(_),monthlyFigJamEditorCost:d.formatMoney(g)})),r.createElement("br",null),r.createElement("br",null),(0,c.tx)("change_annual_plan_modal.cancel_annual_plan_subtext"))}},685399:(e,t,a)=>{a.r(t),a.d(t,{TeamChangePaymentModal:()=>w});var r=a(411855),n=a(188507),i=a(629019),o=a.n(i),l=a(981952),s=a(946689),c=a(493323),d=a(901536),m=a(939863),u=a(662275),_=a(843309),p=a(176824),f=a(707465),g=a(622139),E=a(668526),h=a(585878),v=a(397477),y=a(23937);function b({currency:e,customerInfo:t,defaultCountry:a,estimatedChargeCents:i,isReactivating:p,canSeeBillingAddressExp:g}){let b=p?(0,m.t)("change_payment.success.successfully_reactivated_subscription"):(0,m.t)("change_payment.success.successfully_updated_your_payment_method"),w=(0,n.d4)(e=>(0,f.Np)(e,{view:"teamAdminConsole",teamId:t.teamId,teamAdminConsoleViewTab:E.I.SETTINGS})),{createPaymentElement:T,unmountPaymentElement:I,savePayment:C,billingAddress:x,updateBillingAddress:N,nameOnPaymentMethod:S,setNameOnPaymentMethod:k,paymentMethodType:L,error:A}=(0,_.Op)({setupIntentParams:{redirect_url:w,subtotal_estimate:i,success_message:b,currency:e},paymentFlowSource:_.wn.PRO_CHANGE_PAYMENT,customerInfo:t,defaultCountry:a,currency:e,canSeeBillingAddressExp:g,isCheckout:!1}),[R,F]=r.useState(!1),[O,P]=r.useState(!1),[D,M]=r.useState(window.innerHeight),B=(0,n.wA)(),U=A?.code===_.dl.UNINITIALIZED_STRIPE_ELEMENTS_ERROR,V=()=>B(u.Ce());(0,l.P)(({height:e})=>{M(e)});let H=async e=>{e&&e.preventDefault(),P(!0),await C(),P(!1)};return r.createElement(h.XV,{title:g?(0,m.t)("change_payment.update_payment_details"):(0,m.t)("change_payment.enter_payment_method"),onClose:V,maxWidth:465,headerSize:"large"},r.createElement("div",{className:o()({[y.$J]:!R,[y.Un]:U})},r.createElement("form",{onSubmit:H},r.createElement("div",{className:y.KJ,style:{maxHeight:Math.min(D-49-65,652)}},R&&g&&r.createElement("div",{className:d.cx.mb16.$},r.createElement("label",{htmlFor:"updatePaymentDetails",className:d.cx.colorTextSecondary.$},(0,m.tx)("change_payment.update_payment_details_description"))),r.createElement(v.F,{createPaymentElement:T,unmountPaymentElement:I,billingAddress:x,updateBillingAddress:N,nameOnPaymentMethod:S,updateNameOnPaymentMethod:k,paymentMethodType:L,error:A,isCommunityCheckout:!1,paymentElementEventHandlers:{ready:()=>F(!0)},canSeeBillingAddressExp:g,isCheckout:!1})),R&&!U&&r.createElement("div",{className:y.UD},O&&r.createElement(c.kt,{className:y.u1}),r.createElement(s.tM,{onClick:V},(0,m.tx)("change_payment.cancel")),r.createElement(s.vd,{tabIndex:0,type:"submit",disabled:O},(0,m.tx)("change_payment.save")))),U&&r.createElement(s.tM,{onClick:V},(0,m.tx)("change_payment.close_window"))))}function w({currency:e,customerInfo:t,defaultCountry:a,monthlySub:n,annualSub:i,isReactivating:o,canSeeBillingAddressExp:l}){let{estimatedDesignCost:s,estimatedWhiteboardCost:c}=(0,p.Q)(),d=Math.max(s(n?.design_quantity??0,g.tY.MONTHLY,e||"usd")+c(n?.whiteboard_quantity??0,g.tY.MONTHLY,e||"usd"),s(i?.design_quantity??0,g.tY.ANNUAL,e||"usd")+c(i?.whiteboard_quantity??0,g.tY.ANNUAL,e||"usd"));return r.createElement(b,{currency:e,customerInfo:t,defaultCountry:a,estimatedChargeCents:d,isReactivating:o,canSeeBillingAddressExp:l})}},1200:(e,t,a)=>{a.r(t),a.d(t,{ChangeVatGstIdModal:()=>v});var r=a(411855),n=a(188507),i=a(629019),o=a.n(i),l=a(915440),s=a(711525),c=a(946689),d=a(455057),m=a(939863),u=a(662275),_=a(99506),p=a(279453),f=a(585878),g=a(116240),E=a(626208);function h(e,t){return e&&"loaded"===t.status?t.data.org:e||"loaded"!==t.status?null:t.data.team}let v=r.memo(function(e){let t=(0,n.wA)(),{updateVatGstId:a}=e,i=!!e.org?.id,v=(0,l.Rs)(p.Wt6,{orgId:e.org?.id||""},{enabled:i}),y=(0,l.Rs)(p.xS7,{teamId:e.team?.id||""},{enabled:!i}),b=i?v:y,w=h(i,b),T=w?.taxIdVerificationStatus,[I,C]=r.useState(),[x,N]=r.useState(""),[S,k]=r.useState(""),[L,A]=r.useState(!1),[R,F]=r.useState({country:"",state:""}),[O,P]=r.useState(!1);r.useEffect(()=>{if(!O&&"loaded"===b.status){let e=h(i,b),t=e?(0,s.oA)(e.taxInfo):null;N(e?.vatGstId||""),k(t?.regionalVatGstId||""),A(t?.canUpdateRegionalVatGst||!1),F({country:t?.country||"",state:t?.state||""}),P(!0)}},[i,b,O]);let D=()=>{t(u.Ce())};return r.createElement(f.XV,{onClose:D,title:(0,m.t)("change_vat_gst_id.input_id"),minWidth:344,maxWidth:344,fixedTop:!0},I&&r.createElement("div",{className:"change_vat_gst_id_modal--errorBanner--sqxNt","data-testid":"change-vat-gst-id-error"},r.createElement(d._,{color:d.S.ERROR,rounded:!1,text:I})),T===_.kI.VERIFIED&&r.createElement("div",{"data-testid":"change-vat-gst-id-information"},r.createElement(d._,{color:d.S.INFORMATION,rounded:!1,text:(0,m.t)("change_vat_gst_id.tax_id_verification_succeeded")})),T===_.kI.UNVERIFIED&&r.createElement("div",{"data-testid":"change-vat-gst-id-warning"},r.createElement(d._,{color:d.S.WARNING,rounded:!1,text:(0,m.t)("change_vat_gst_id.tax_id_verification_failed")})),r.createElement("div",{className:E.Dy},r.createElement("p",{className:"change_vat_gst_id_modal--description--6gdSL"},(0,m.tx)("change_vat_gst_id.description")),r.createElement("form",{onSubmit:e=>{e.preventDefault(),a(x,e=>C(e),L?S:"").then(e=>{e&&D()})},"data-testid":"change-vat-form"},O&&r.createElement(g.A,{onChange:N,country:R.country,vatId:x,isCommunityCheckout:!1}),L&&r.createElement(g.A,{onChange:k,country:R.country,region:R.state,vatId:S,isCommunityCheckout:!1,variant:"regional"}),r.createElement("div",{className:o()(E.v0,E.hF)},r.createElement(c.vd,{className:E.pL,type:"submit",disabled:!O},(0,m.tx)("change_vat_gst_id.save_id"))))))})},815622:(e,t,a)=>{a.r(t),a.d(t,{ConfirmDowngradeModal:()=>f});var r=a(411855),n=a(188507),i=a(629019),o=a.n(i),l=a(776250),s=a(946689),c=a(939863),d=a(662275),m=a(995852),u=a(585878),_=a(626208);let p=r.memo(function(e){let t=(0,n.wA)(),{teamId:a,billingEndDate:i,exitSurveyData:p}=e.modalShown.data,f=e.teams[a],g=()=>{t(d.Ce())},E=i?(0,c.tx)("confirm_downgrade.at_the_end_of_your_current_billing_period_team_name_will_be_downgraded_to_our_free_starter_plan",{teamName:f.name,billingEndDate:i}):(0,c.tx)("confirm_downgrade.on_your_next_billing_date_team_name_will_be_downgraded_to_our_free_starter_plan",{teamName:f.name});return r.createElement(u.XV,{onClose:g,title:(0,c.t)("confirm_downgrade.cancel_professional_plan"),minWidth:344,maxWidth:344,dataTestId:"downgrade-confirmation-modal",fixedTop:!0},r.createElement("div",{className:_.Dy},r.createElement("p",null,E),r.createElement("div",{className:o()(_.v0,_.hF)},r.createElement(s.tM,{onClick:g},(0,c.tx)("confirm_downgrade.go_back")),r.createElement(s.qM,{className:_.pL,onClick:()=>{p&&(0,l.sx)("Team Downgrade Survey",{...p,selectedOptions:p.selectedOptions.map(e=>JSON.stringify(e))}),t(d.Ce()),t(m.Wc({teamId:a}))}},(0,c.tx)("confirm_downgrade.finish_cancellation")))))});function f(e){return r.createElement(p,{...e})}},604019:(e,t,a)=>{a.r(t),a.d(t,{ProCostBreakdown:()=>h,ProCostBreakdownModal:()=>v});var r=a(411855),n=a(188507),i=a(752553),o=a(939863),l=a(662275),s=a(710667),c=a(304769),d=a(978779),m=a(820113),u=a(585878);let _="cost_breakdown--row--6-9Kd",p="cost_breakdown--primary--miID8",f="cost_breakdown--secondary---4QGG",g="cost_breakdown--currency--gqS1S";function E(e){let t=new m.vr(e.currency),a=t.formatMoney(e.whiteboardCostAnnual),n=t.formatMoney(e.whiteboardCostMonthly),i=(0,o.t)("org_admin_settings.cost_breakdown.seats",{seats:e.whiteboardSeatsMonthly}),l=(0,o.t)("org_admin_settings.cost_breakdown.seats",{seats:e.whiteboardSeatsAnnual}),s=(0,o.t)("org_admin_settings.cost_breakdown.12_months");return r.createElement(r.Fragment,null,e.whiteboardSeatsAnnual>0&&r.createElement("div",{className:_,"data-testid":"cost-breakdown-row-figjam-annual"},r.createElement("div",{className:p},r.createElement("span",null,(0,o.tx)("org_admin_settings.cost_breakdown.whiteboard_seats_annual_annual_fig_jam_editor_seats.seat_rename",{whiteboardSeatsAnnual:e.whiteboardSeatsAnnual})),r.createElement("span",{className:g},a)),r.createElement("div",{className:f},(0,o.tx)("org_admin_settings.cost_breakdown.cost_breakdown_string_triple",{cost:t.formatMoney(e.annualMonthlyAmount),seats:l,numMonths:s}))),e.whiteboardSeatsMonthly>0&&r.createElement("div",{className:_,"data-testid":"cost-breakdown-row-figjam-monthly"},r.createElement("div",{className:p},r.createElement("span",null,(0,o.tx)("org_admin_settings.cost_breakdown.whiteboard_seats_monthly_monthly_fig_jam_editor_seats.seat_rename",{whiteboardSeatsMonthly:e.whiteboardSeatsMonthly})),r.createElement("span",{className:g},n)),r.createElement("div",{className:f},(0,o.tx)("org_admin_settings.cost_breakdown.cost_breakdown_string_double",{cost:t.formatMoney(e.monthlyAmount),seats:i}))))}function h(e){let t=e.currency,a=new m.vr(t),n=e.nDesignEditorsMonthly,i=e.nDesignEditorsAnnual,l=e.nWhiteboardEditorsMonthly,s=e.nWhiteboardEditorsAnnual,c=e.nFigjamEditors,d=e.whiteboardCotermUpgrades,u=d?.amount||0,h=a.formatMoney(u),v=e.designCotermUpgrades,y=12*e.annualMonthlyDesignAmount*e.nDesignEditorsAnnual,b=e.monthlyDesignAmount*e.nDesignEditorsMonthly,w=y+b,T=a.formatMoney(y),I=a.formatMoney(b),C=v?.amount||0,x=a.formatMoney(C),N=12*e.annualMonthlyFigjamAmount*s,S=e.monthlyFigjamAmount*l,k=N+S,L=a.formatMoney(w+k+C+u),A=(0,o.t)("org_admin_settings.cost_breakdown.seats",{seats:n}),R=(0,o.t)("org_admin_settings.cost_breakdown.seats",{seats:i}),F=(0,o.t)("org_admin_settings.cost_breakdown.12_months");return r.createElement("div",{className:"cost_breakdown--container--wwGb0"},i>0&&r.createElement("div",{className:_,"data-testid":"cost-breakdown-row-design-annual"},r.createElement("div",{className:p},r.createElement("span",null,(0,o.tx)("org_admin_settings.cost_breakdown.design_seats_annual_annual_design_editor_seats.seat_rename",{designSeatsAnnual:i})),r.createElement("span",{className:g},T)),r.createElement("div",{className:f},(0,o.tx)("org_admin_settings.cost_breakdown.cost_breakdown_string_triple",{cost:a.formatMoney(e.annualMonthlyDesignAmount),seats:R,numMonths:F}))),n>0&&r.createElement("div",{className:_,"data-testid":"cost-breakdown-row-design-monthly"},r.createElement("div",{className:p},r.createElement("span",null,(0,o.tx)("org_admin_settings.cost_breakdown.design_seats_monthly_monthly_design_editor_seats.seat_rename",{designSeatsMonthly:n})),r.createElement("span",{className:g},I)),r.createElement("div",{className:f},(0,o.tx)("org_admin_settings.cost_breakdown.cost_breakdown_string_double",{cost:a.formatMoney(e.monthlyDesignAmount),seats:A}))),r.createElement(E,{whiteboardSeatsMonthly:l,whiteboardSeatsAnnual:s,whiteboardCostMonthly:S,whiteboardCostAnnual:N,figjamSeats:c,currency:t,annualMonthlyAmount:e.annualMonthlyFigjamAmount,monthlyAmount:e.monthlyFigjamAmount}),v&&v.quantity>0&&v.amount>0&&r.createElement("div",{className:_},r.createElement("div",{className:p},r.createElement("span",null,(0,o.tx)("org_admin_settings.cost_breakdown.design_seats_monthly_cotermed_design_editor_seats.seat_rename",{seatsCotermed:v.quantity})),r.createElement("span",{className:g},x))),d&&d.quantity>0&&d.amount>0&&r.createElement("div",{className:_},r.createElement("div",{className:p},r.createElement("span",null,(0,o.tx)("org_admin_settings.cost_breakdown.whiteboard_seats_monthly_cotermed_whiteboard_editor_seats.seat_rename",{seatsCotermed:d.quantity})),r.createElement("span",{className:g},h))),r.createElement("div",{className:"cost_breakdown--divider--GRAn-"}),r.createElement("div",{className:"cost_breakdown--total--a6sZV"},r.createElement("div",null,(0,o.tx)("org_admin_settings.cost_breakdown.total")),r.createElement("div",{className:g},L)))}function v(e){let t=(0,n.wA)(),a=(0,s.N1)(s.Fq.TEAM_ADMIN_CONSOLE),[o]=(0,i.mI)(a),_=new m.vr(e.currency),p=(0,d.He)(o.data,_.currency,c.ud.DESIGN),f=(0,d.He)(o.data,_.currency,c.ud.FIGJAM),g=(0,d.G7)(o.data,_.currency,c.ud.DESIGN),E=(0,d.G7)(o.data,_.currency,c.ud.FIGJAM);return r.createElement(u.XV,{onClose:()=>t(l.Ce()),title:e.title,minWidth:341,maxWidth:341},r.createElement(h,{currency:e.currency,nDesignEditorsAnnual:e.nDesignEditorsAnnual,nDesignEditorsMonthly:e.nDesignEditorsMonthly,nFigjamEditors:e.nFigjamEditors,nWhiteboardEditorsAnnual:e.nWhiteboardEditorsAnnual,nWhiteboardEditorsMonthly:e.nWhiteboardEditorsMonthly,designCotermUpgrades:e.designCotermUpgrades,whiteboardCotermUpgrades:e.whiteboardCotermUpgrades,monthlyDesignAmount:p,monthlyFigjamAmount:f,annualMonthlyDesignAmount:g,annualMonthlyFigjamAmount:E}))}},648139:(e,t,a)=>{a.r(t),a.d(t,{TeamPermissionsModal:()=>ek});var r=a(411855),n=a(188507),i=a(729064),o=a(634832),l=a(776250),s=a(133537),c=a(498750),d=a(915440),m=a(742808),u=a(493323),_=a(939863),p=a(824520),f=a(761273),g=a(662275),E=a(672517),h=a(594901),v=a(860178),y=a(99506),b=a(279453),w=a(216158),T=a(643067),I=a(243987),C=a(147206),x=a(297536),N=a(428467),S=a(416618),k=a(389643),L=a(206193),A=a(668860),R=a(501256),F=a(764299),O=a(585878),P=a(24791),D=a(268787),M=a(800535),B=a(479842),U=a(944175),V=a(421063),H=a(880618),W=a(794094),j=a(163023),$=a(928491),G=a(881816),Y=a(561916),z=a(816985),Q=a(553551),K=a(761382),q=a(68188);function Z(e){let t=e.canAdmin,a=r.createElement(j.B,{className:z.wk,svg:K.A});e.sharingAudienceControl===y.PQ.ORG_EDIT||e.sharingAudienceControl===y.PQ.ORG_VIEW?a=r.createElement("div",{className:z.AA},r.createElement(j.B,{svg:q.A})):(e.sharingAudienceControl===y.PQ.WORKSPACE_EDIT||e.sharingAudienceControl===y.PQ.WORKSPACE_VIEW)&&(a=r.createElement("div",{className:z.AA},e.workspace&&r.createElement($.z6,{entity:e.workspace,size:24})));let n=e.sharingAudienceControl===y.PQ.INVITE_ONLY&&e.isTeamOrgBrowsable,i=n?z.Fl:z.Jt;return r.createElement("div",{className:t?i:z.zn,onClick:t?()=>e.changeModalView(1):void 0,role:"button","data-onboarding-key":G.F,tabIndex:0},a,r.createElement("div",{className:z.$S},r.createElement("div",null,e.sharingAudienceControl&&(0,Y.ET)(e.sharingAudienceControl,e.org,e.workspace),n&&r.createElement("div",{className:z.JZ},(0,_.t)("team_creation.anyone_can_find_this_team"))),e.org&&r.createElement("div",{className:z.j7,"data-onboarding-key":G.F},e.sharingAudienceControl&&(0,Y.mi)(e.sharingAudienceControl),t&&r.createElement(j.B,{svg:Q.A,className:z.$w}),t&&r.createElement(G.j,null))))}var X=a(504440),J=a(187134),ee=a(196367),et=a(75395),ea=a(538082),er=a(297666),en=a(799569),ei=a(268537),eo=a(946689),el=a(738269),es=a(331363),ec=a(336599),ed=a(937890),em=a(498606),eu=a(237870),e_=a(298543),ep=a(488578);let ef="team_join_link_permissions--loadedViewWrapper--LjAIr";var eg=a(289298);let eE=(0,E.tf)(X.$n),eh=(0,er.s)((e,t,a)=>e(es.do({teamId:t,level:a}))),ev=(0,n.Ng)((e,t)=>({teamJoinLinks:e.teamJoinLinks,loadingState:e.loadingState,canAdmin:(0,N.hasAdminRoleAccessOnTeam)(t.teamId,e),canEdit:(0,N.hasEditorRoleAccessOnTeam)(t.teamId,e)}),null,(e,t,a)=>({isInLoadingState:function(e,t,a){let r=!(0,ec.VP)(t,(0,ed.OL)(e))&&!(0,ec.aF)(t,(0,ed.OL)(e))&&!a;return(0,ec.VP)(t,(0,ed.OL)(e))||(0,ec.VP)(t,es.ui.loadingKeyForPayload({teamId:e}))||(0,ec.VP)(t,(0,ed._M)(e))||r}(a.teamId,e.loadingState,e.teamJoinLinks),...e,...a,...t}))(function(e){let{dispatch:t,teamId:a,initialInviteLevel:n,canAdmin:i,canEdit:o}=e,[l,s]=(0,r.useState)(n);if((0,r.useEffect)(()=>(eh(t,a,n),()=>{t(es.F1(null))}),[t,a,n]),!e.isInLoadingState&&!e.teamJoinLinks||!i&&e.teamJoinLinks?.disabled)return null;let c=o&&!!e.teamJoinLinks?.url;return r.createElement(r.Fragment,null,r.createElement("div",{style:c?{justifyContent:"space-between"}:{justifyContent:"flex-start",marginTop:"8px"},className:"team_join_link_permissions--inviteLinkTitleWrapper--LSkbL"},r.createElement("span",{className:"team_join_link_permissions--inviteHeader--80xpy"},(0,_.tx)("team_join_links.invite_link")),c&&r.createElement(ey,{dropdownShown:e.dropdownShown,resetInviteLinks:()=>{t(g.$O({type:eT,data:{resetLink:()=>{t(es.Nw({teamId:a,level:l,shouldShowVisualBell:!0}))}}}))},disableInviteLinks:()=>t(es.ui({teamId:a})),loading:e.isInLoadingState,canAdmin:i})),e.isInLoadingState||e.teamJoinLinks?.url?r.createElement(eb,{dropdownShown:e.dropdownShown,setLevel:e=>{l!==e&&(s(e),t(es.do({teamId:a,level:e,shouldShowFailureMessage:!0,callbackOnFailure:()=>s(l)})))},currentLevel:l,url:e.isInLoadingState?void 0:e.teamJoinLinks?.url,inviteLevels:o?[A.e6.VIEWER,A.e6.EDITOR]:[A.e6.VIEWER],teamId:e.teamId}):r.createElement(ew,{turnOnInviteLinks:()=>t(es.Nw({teamId:a,level:l}))}))});function ey(e){let t=(0,n.wA)(),a="team-link-settings-dropdown",i=r.createRef(),o=()=>e.dropdownShown?.type===a;return r.createElement(J.o,{eventListeners:["onMouseDown"]},r.createElement("div",{ref:i},r.createElement(ee.d,{toggled:o(),disabled:e.loading,"aria-label":(0,_.t)("team_join_links.team_invite_link_settings"),onClick:()=>{let e=i.current?.getBoundingClientRect();o()?t(el.oB()):e&&t(el.j7({type:a,data:{targetRect:e}}))},htmlAttributes:{"data-tooltip-type":em.Ib.TEXT,"data-tooltip":(0,_.t)("team_join_links.team_invite_link_settings")}},r.createElement(ea.P,null))),o()&&r.createElement(e_.Cf,{targetRect:e.dropdownShown.data.targetRect,maxWidth:140,minWidth:140,lean:"left",propagateCloseClick:!0},r.createElement(ei.c$,{onClick:e.resetInviteLinks},(0,_.tx)("team_join_links.reset_invite_links")),e.canAdmin&&r.createElement(ei.c$,{onClick:e.disableInviteLinks},(0,_.tx)("team_join_links.turn_off_invite_links"))))}function eb(e){let t=(0,n.wA)(),a="join-link-permission-level-dropdown",i=e.currentLevel===A.e6.VIEWER?"-32px":"-61px";return r.createElement("div",{className:ef},r.createElement("div",{className:"team_join_link_permissions--linkAndDropdown--dOdkB"},r.createElement("span",{className:"team_join_link_permissions--urlSection--fh6VF"},!e.url&&r.createElement(u.kt,null),e.url&&r.createElement("span",{className:"team_join_link_permissions--urlText--jcjRH ellipsis--ellipsis--Tjyfa"},e.url)),r.createElement("div",null,r.createElement(et.E,{onClick:r=>{r.stopPropagation(),e.url&&(e.dropdownShown?t(el.oB()):t(el.j7({type:a})))},className:"team_join_link_permissions--permissionLevelDropdown--xuQLz role_row--select--6VpSS"},r.createElement("span",null,(0,C.C1)(e.currentLevel)),r.createElement("div",{className:"team_join_link_permissions--caretWrapper--OXpki role_row--caretWrapper--P1Mak"},r.createElement(j.B,{svg:eg.A}))),e.dropdownShown&&e.dropdownShown.type===a&&r.createElement(ei.ms,{className:"team_join_link_permissions--permissionLevelDropdownOptions--cgu-T",style:{marginTop:i}},e.inviteLevels.map((t,a)=>r.createElement(ei.MM,{key:a,checked:t===e.currentLevel,onClick:()=>e.setLevel(t)},(0,C.C1)(t)))))),r.createElement(X.IK,{onClick:()=>{e.url&&t(es.LN({teamId:e.teamId,url:e.url,source:es.Kq.TEAM_PERMISSIONS_MODAL}))},disabled:!e.url},(0,_.tx)("team_join_links.copy_link")))}function ew(e){return r.createElement("div",{className:ef},(0,_.tx)("team_join_links.share_a_secret_link_people_can_use_to_join_your_team")," ",r.createElement(eo.Us,{onClick:e.turnOnInviteLinks,trusted:!0},(0,_.tx)("team_join_links.turn_on_invite_links")))}let eT="RESET_LINKS_CONFIRMATION_MODAL";(0,eu.Ju)(function(e){let t=(0,n.wA)();return r.createElement(ep.aF,{className:"team_join_link_permissions--confirmationModal--iwmpk",size:288},r.createElement("div",{className:"team_join_link_permissions--titleAndCloseButton--5XqxG"},r.createElement(en.s_,{dispatch:t}),r.createElement("div",{className:"team_join_link_permissions--confirmationModalTitle--Htxwx"},r.createElement("span",null,(0,_.tx)("team_join_links.reset_invite_links")))),r.createElement("p",{className:"team_join_link_permissions--confirmationModalBody--qUqac"},(0,_.tx)("team_join_links.modal_description")),r.createElement("div",{className:"team_join_link_permissions--confirmationModalButtonContainer--rsNVu"},r.createElement(eE,{variant:"secondary",onClick:()=>t(g.Lo())},(0,_.tx)("team_join_links.cancel")),r.createElement(eE,{variant:"destructive",onClick:()=>{e.resetLink(),t(g.Lo())}},(0,_.tx)("team_join_links.reset_links"))))},eT);var eI=a(839957),eC=a(1700),ex=a(305312);let eN={domains:[],isFetching:!1,fetchedAt:null},eS=r.memo(function({roles:e,virtualItems:t,totalSize:a,user:n,parentOrg:i,permissionState:o,team:l,teamOrgDomains:s,canMakeAdmin:c}){let d=r.useMemo(()=>({team:l,type:y.vt.TEAM}),[l]);return r.createElement("div",{style:{height:`${a}px`,position:"relative"}},t.map(t=>{let a=t.index,m=e[a];return r.createElement(eI.O,{key:`role-row-${a}`,role:m,user:n,currentUserOrgId:i?.id??null,isOwnerOfResource:(0,N.isResourceOwner)(n.id,l.id,y.vt.TEAM,o.roles),isOrgUser:!!m.org_user,currentOrg:i,resourceName:l.name,resource:d,canEditRole:(0,N.canEditTeamRole)(m,o),canMakeAdmin:c,readOnlyOverrideWarningMessage:null,orgDomains:s,virtualRowItem:t})}))});function ek({teamId:e,initialInviteLevel:t,prepopulateEmail:a,initialView:j}){let $,G=(0,n.wA)(),Y=(0,v.Pc)(),z=(0,n.d4)(e=>e.autocomplete),Q=(0,n.d4)(e=>e.contacts),K=(0,n.d4)(e=>e.dropdownShown),q=(0,h.FC)(),X=w.M4.Team.useValue(e).data,J=(0,d.Rs)(b.GyZ,{teamId:e}),ee=(0,d.Rs)(b.H1b,{teamId:e});(0,m.I)("loaded"===J.status&&"loaded"===ee.status,e=>{let t=ee.data?.team?.roles?.length??0,a="unknown";a=t<=100?"small":t<=300?"medium":"large",(0,l.sx)("share_modal_latency",{latency_ms:e,modal_type:"team",is_outlier:e>500,role_size:a},{forwardToDatadog:!0})});let et=(0,r.useMemo)(()=>(0,x.X)(J),[J]),ea=(0,r.useMemo)(()=>(0,x.SN)(ee),[ee]),er=et&&et.org,en=et&&et.teamSharingSettings,ei=et&&et.orgUser,eo=er?er.id:null,el=et&&et.workspace,es=er&&er.org_domains?er.org_domains:eN,ec=r.useMemo(()=>ea?.sort((e,t)=>e.pending===t.pending?eC.E4(e,Q).toLocaleLowerCase()<eC.E4(t,Q).toLocaleLowerCase()?-1:1:e.pending?1:-1)??[],[Q,ea]),ed=et&&et.pendingTeamRoleRequests?et.pendingTeamRoleRequests:[];(0,r.useEffect)(()=>{G(f.um())},[G]);let em=e=>t||(!(0,I.w5)(X)&&e?A.e6.EDITOR:A.e6.VIEWER),[eu,e_]=(0,r.useState)(()=>em((0,N.canEditTeam)(e,q))),ep=(0,r.useCallback)(e=>(0,x.yI)(e,Q.usersByEmail[e]||e,er,es,Y.email),[Q.usersByEmail,es,Y.email,er]);(0,r.useEffect)(()=>{if(a){let e=ep(a);G(p.hZ({tokens:[e],inputValue:"",errorMessage:""}))}},[a,ep,G]);let ef=e=>{e_(e)},eg=e=>(0,x.t9)(e,er,es),eE=t=>{let a=(0,R.Z)(t);G((0,S.rq)({emails:a,resourceType:y.vt.TEAM,resourceIdOrKey:e,level:eu,emailsToExclude:(0,k.bp)(Q.usersByEmail,Y,ec),onSuccess:({invites:e,over_editor_limit:t})=>{if(eu>=A.e6.EDITOR&&t){let t=(0,N.getResourceTeamId)(e[0],q),a=t&&{...q.teams[t],canEdit:(0,N.canEditTeam)(t,q),canAdmin:(0,N.canAdminTeam)(t,q)};G(g.to({type:P.oE,data:{team:a,invitesSent:e.length,editorType:null,upsellSource:L.b.ADD_EDITOR}}));return}},source:"team_share_modal",orgName:er?er.name:void 0}))},eh=e=>{if(er&&er.domain_capture&&es&&es.domains.length>0){let t=(0,R.Z)(e).filter(e=>(0,s.xf)(e)&&!(0,T.H_)(es.domains,e));if(er?.invite_whitelist_guest_invite_setting==null&&t.length>0){G(g.to({type:B.F,data:{emails:t,onConfirm:()=>{eE(e)},popStack:!0,orgName:er.name}}));return}}eE(e)},ey=()=>{G(g.Ce()),G(p.cL())},eb=e=>{e.keyCode!==c.Uz.ESCAPE&&e.stopPropagation()},ew=(0,N.canEditTeam)(e,q),eT=(0,N.canViewTeam)(e,q),eI=(0,N.canAdminTeam)(e,q),[ek,eL]=r.useState(j||0),eA=()=>0===ek?r.createElement("div",{className:ex.DA},r.createElement("p",null,(0,_.tx)("team_view.team_permissions_modal.share_this_team"))):r.createElement(V.w,{title:(0,_.t)("team_view.team_permissions_modal.share_settings"),onClick:()=>eL(0)}),eR=!!X&&!X.org_id,{sharingSuggestions:eF,sharingSuggestionIdsToExclude:eO,sharingSuggestionEmailsToExclude:eP}=(0,H.$)({orgId:eo,teamId:e,contacts:Q.usersByEmail,roles:ec,user:Y,autocompleteTokens:z.tokens}),eD=r.useCallback(()=>36,[]),eM=r.useRef(null),eB=(0,i.z)({size:ec.length,parentRef:eM,estimateSize:eD,overscan:10,paddingStart:0});return $=X?0===ek?(()=>{if(!et)return r.createElement("div",{className:ex.Lq},r.createElement(u.qc,null));let t=[];return eI&&t.push(A.e6.ADMIN),ew&&t.push(A.e6.EDITOR),eT&&t.push(A.e6.VIEWER),(0,o.assertDev)(t.length>0,"there should be at least one role (the user's own)"),r.createElement(r.Fragment,null,r.createElement("div",{key:"container",className:ex.SS,onKeyDown:eb},eR&&r.createElement(r.Fragment,null,r.createElement(ev,{teamId:e,dropdownShown:K,initialInviteLevel:em(ew)}),r.createElement("div",{className:ex.Vq},(0,_.tx)("team_view.team_permissions_modal.invite_by_email"))),!!et?.canAdmin&&r.createElement(U.$i,{teamId:e,teamRoleRequests:ed,teamRoles:ec}),(0,M.r)(Y)?r.createElement(M.X,{resourceType:"team"}):r.createElement(r.Fragment,null,r.createElement("div",{className:ex.Zk},r.createElement(F.e,{autocomplete:z,buttonText:(0,_.t)("team_view.team_permissions_modal.invite"),dispatch:G,dropdownKey:"permissions-invite-dropdown",dropdownShown:K,hideDropdownOnEmpty:!0,inviteLevel:eu,getSelectText:C.C1,onInviteLevelChange:ef,options:t,onSubmit:eh,searchResultToken:eg,fetchAsyncSearchResults:t=>(0,k.Wj)(t,Q.usersByEmail,Y,ec,eo,e,null,ei?.permission===y._D.GUEST),validateToken:ep,TokenComponent:D.g,SearchResultComponent:D.o,joinLinkShown:eR,shouldAutoFocus:!eR,onHideModal:ey,placeholderText:(0,_.t)("team_creation.add_a_name_or_email")})),r.createElement(H.t,{suggestions:eF??void 0,autocomplete:z,searchResultToken:eg,resourceType:"team",resourceId:e,idsToExclude:eO??void 0,emailsToExclude:eP??void 0})),er&&r.createElement("div",{className:ex.st,ref:eM},r.createElement("div",{className:ex.d3},r.createElement("div",{className:ex.eF},(0,_.t)("file_permissions_modal.who_has_access")),r.createElement(Z,{team:X,workspace:el,org:er,changeModalView:eL,sharingAudienceControl:en?.sharingAudienceControl,isTeamOrgBrowsable:en?.orgBrowsable,canAdmin:!!et?.canAdmin}),r.createElement(eS,{roles:ec,virtualItems:eB.virtualItems,totalSize:eB.totalSize,user:Y,parentOrg:er,permissionState:q,team:X,teamOrgDomains:es,canMakeAdmin:!!et?.canAdmin})))))})():er?en&&r.createElement(W.nH,{team:X,workspace:el||void 0,org:er,teamSharingSettings:en,hideModal:ey,goBack:()=>eL(0)}):r.createElement(r.Fragment,null):r.createElement(u.qc,null),r.createElement(E.fu,{name:"Share Modal",properties:{resourceType:y.vt.TEAM,resourceId:e}},r.createElement(O.XV,{title:r.createElement(r.Fragment,null,eA()),maxWidth:eR?484:x.k4,fixedTop:!0,onClose:ey},$))}},937106:(e,t,a)=>{a.r(t),a.d(t,{TeamRenameModal:()=>c});var r=a(411855),n=a(188507),i=a(939863),o=a(964258),l=a(851363),s=a(353265);function c({team:e}){let t=(0,n.wA)();return r.createElement(s.c,{initialName:e.name,maxLength:l.qg,placeholder:(0,i.t)("resource_rename_modal.team.placeholder"),submitText:(0,i.t)("resource_rename_modal.team.submit"),onRename:a=>t((0,o.IA)({team:e,name:a}))})}},912609:(e,t,a)=>{let r;a.r(t),a.d(t,{FileBrowserView:()=>x_});var n,i,o,l=a(411855),s=a(188507),c=a(627776),d=a(517333),m=a(737947),u=a(320063),_=a(358145),p=a(966712),f=a(752553),g=a(860601),E=a(563706),h=a(218881),v=a(69267),y=a(884243),b=a(238879),w=a(966420),T=a(371740),I=a(274990),C=a(243763),x=a(634832),N=a(858977),S=a(901536),k=a(939863),L=a(809840),A=a(243058),R=a(498750),F=a(192437),O=a(687918),P=a(629019),D=a.n(P),M=a(402838),B=a(459401),U=a(448169),V=a(459826),H=a(163023),W=a(881388),j=a(635412),$=a(948118),G=a(90898),Y=a(919114),z=a(738269),Q=a(507877),K=a(198123),q=a(93536),Z=a(688083),X=a(875847),J=a(318812),ee=a(611978),et=a(164249);let ea="folder_link--folderLink--6GjCZ sidebar--folder--r4rFQ sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd";var er=a(853705);function en(e){let t=(0,s.d4)(e=>e.teams),a=(0,s.d4)(e=>e.roles),r=(0,ee._6)(),n=(0,J.Um)(),i=l.useRef(null),o=(0,s.wA)(),c=(0,s.d4)(t=>t.dragState.type===et.R.Folder&&t.dragState.data?.id===e.folder.id),[d,m]=l.useState(!1),[u,_]=l.useState(!1),p=(0,f.n_)(Z.mq),g=()=>!e.folder.teamId&&e.folder.path,E=(e,t)=>{t.stopPropagation(),t.preventDefault();let a={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};o(z.j7({type:G.B,data:{folder:{...e,isSubscribed:!0,description:e.description},targetRect:a}}))},h=t=>{let{folder:a}=e;if(t.isFigFiles()){m(!1);let r=t.getData();return!!r&&(o(K.z({files:r,folder:a,team:e.team})),!0)}if(t.isRepos()){m(!1);let r=t.getReposData();return!!r&&(o(K.z({files:r.files,repos:r.repos,folder:a,team:e.team})),!0)}return!1},v=(e,t)=>{p({folderId:e.id,folderName:t}),o(z.aK({folderId:e.id}))},y=e.folder;if(e.renamingNavFolderWithId===y.id)return l.createElement($.Z,{useSpacer:!0,text:l.createElement("div",{key:`rename-input-${y.id}`,className:ea},l.createElement(V.p,{className:"folder_link--newFolderInput--ejjd- input--input--IPk3x sidebar--sectionInput--xZUCk sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa",placeholderValue:y.path,submit:e=>{v(y,e)},cancel:()=>{let t=e.folder;o(z.aK({folderId:t.id}))}}))});let b=(0,X.CI)(y),w=e.disambiguationFolders?(0,X.pr)(y,e.disambiguationFolders,t,a):void 0,T=u||c,I=ea,C=(0,G.H)(n),x="folder"===r.view&&r.folderId===y.id;C&&C.id===y.id?I="folder_link--contextSelectedFolderLink--awSqK folder_link--folderLink--6GjCZ sidebar--folder--r4rFQ sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd":d&&(I="folder_link--folderLinkDropTarget---yg82 sidebar--dropTarget--Z-yI1 folder_link--folderLink--6GjCZ sidebar--folder--r4rFQ sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd");let N=`(${w})`;return l.createElement(l.Fragment,null,l.createElement(U.Y,{className:I,title:b.length>28?b:void 0,draggable:!0,isDragTarget:e=>{let t=new q.le(e);return t.isFigFiles()||t.isRepos()},onTargetDragEnter:e=>{g()||m(!0)},onTargetDragLeave:e=>{g()||m(!1)},onTargetDrop:e=>{if(g()){o(W.s.error((0,k.t)("file_browser.error_on_move_to_personal_project")));return}h(new q.le(e))},onDragStart:t=>{let a=e.folder;t.dataTransfer.effectAllowed="move";let r=new q.le(t.dataTransfer);r.setArbitraryData(a),i.current&&r.setDragImage(i.current),o(Y.v({type:et.R.Folder,data:a})),t.stopPropagation()},onDragEnd:e=>{o(Y.T())},onMouseOver:()=>{_(!0)},onMouseLeave:()=>{_(!1)},onMouseDown:t=>{let a=e.folder;t.metaKey||t.ctrlKey||0!==t.button||(o(Q.gN(a.id)),o(z.Oe({clickedResourceType:"folder",resourceIdOrKey:a.id})))},onContextMenu:e=>E(y,e)},l.createElement("div",{className:"folder_link--tileBorder--THtGC"}),l.createElement($.Z,{showGrabber:T,isSelected:x,icon:e.isSharedProject?l.createElement(H.B,{className:"folder_link--icon--sQkbC sidebar--icon--wMzUY",svg:er.A}):void 0,useSpacer:!0,text:l.createElement("span",{className:"folder_link--folderNameCustomSections--XN5kQ sidebar--sectionNameCustomSections--9e7LZ sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa"},b,w&&l.createElement("span",{className:"folder_link--nameDisambiguator---WkOt"},N)),badge:l.createElement(j.h,{folder:e.folder,isUserDraftFolder:!1,isContainerHovered:u})})),l.createElement("div",{className:"folder_link--dragImage--8Q9KD",ref:e=>{i.current=e}}))}var ei=a(776250),eo=a(650322),el=a(281381),es=a(67294),ec=a(134279),ed=a(656107),em=a(796933),eu=a(296447),e_=a(374626),ep=a(101505),ef=a(456104),eg=a(582947),eE=a(397065),eh=a(340514),ev=a(493364),ey=a(463546),eb=a(539665);let ew="seen_team_admin_moved_unassigned_drafts_onboarding",eT=(0,eg.r1)(ew);function eI(){let e=(0,e_.md)(eT),{show:t,isShowing:a,complete:r}=(0,ef.e)({overlay:ey.tZO,priority:eE.N.DEFAULT_MODAL},[e]);return(0,u.h)(()=>{t({canShow:e=>!e})}),l.createElement(eh.rq,{clickOutsideToHide:!0,arrowPosition:ev.F_.LEFT_TITLE,isShowing:a,targetKey:eU,trackingContextName:eb.o8,title:(0,k.tx)("team_admin.onboarding.unassigned_drafts.title"),description:(0,k.tx)("team_admin.onboarding.unassigned_drafts.description"),primaryCta:{label:(0,k.tx)("general.got_it"),type:"button",onClick:r,ctaTrackingDescriptor:ep.c.DONE},secondaryCta:{label:(0,k.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/4420549259799",ctaTrackingDescriptor:ep.c.LEARN_MORE},onClose:r,userFlagOnShow:ew,shouldCenterArrow:ev.EL.FALLBACK})}var eC=a(396147),ex=a(731706),eN=a(243987),eS=a(428467),ek=a(668526),eL=a(498606),eA=a(227795),eR=a(182550),eF=a(342691),eO=a(896474),eP=a(349410);function eD(e){let t,a;return(0,eP.Cv)()()?(t=l.createElement("div",{className:S.cx.h24.w24.$},l.createElement(eR.I,null)),a=l.createElement(eM,{badge:e.badge})):(t=l.createElement(eO.In,{icon:"settings-16"}),a=e.badge),l.createElement($.Z,{rowClassName:"go_to_admin_row--goToAdminRow--OPVDe",icon:t,text:l.createElement(L.E,{truncate:!0},(0,k.tx)("sidebar.admin_dashboard")),isSelected:e.isSelected,onClick:e.onClick,badge:a,dataTestId:e.dataTestId,"data-onboarding-key":e.dataOnboardingKey})}function eM(e){return l.createElement(l.Fragment,null,l.createElement("div",{className:"go_to_admin_row--badgeContainer--U08cW"},e.badge),l.createElement("div",{className:"go_to_admin_row--iconContainer--tEzjQ"},l.createElement(eF.a,null)))}var eB=a(131043);let eU="PRO_ADMIN_SETTINGS_LINK_ONBOARING_KEY";function eV(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.teams)[e.team.id],r=l.useCallback(r=>{r.stopPropagation(),t(z.$T({view:"teamAdminConsole",teamId:e.team.id,isProTeam:a?.pro_team})),(0,ei.sx)("Admin Console Opened",{trackingContext:e.trackingContextName,entryPoint:"sidebar"})},[t,e.team,e.trackingContextName,a?.pro_team]);return l.createElement(eA.Me,{svg:eB.A,onClick:r,"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":(0,k.t)("sidebar.admin_console"),className:"admin_console_button--button--O4Rxd addition_button--button--X9H6b"})}function eH(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.currentTeamId),r=(0,s.d4)(e=>e.teams),n=(0,s.d4)(eS.getPermissionsState);if(!a)return null;let i=r[a];if(!(0,eS.hasAdminRoleAccessOnTeam)(a,n)||!i||!(0,eN.w5)(i))return null;let o=e.selectedView&&"teamAdminConsole"===e.selectedView.view,c=l.createElement(ex.e9,{planType:eC.ps.TEAM,planId:a,isSelected:o,isDataLoaded:!0,isOrgAdmin:!1});return l.createElement(l.Fragment,null,l.createElement(eD,{badge:i?.pro_team?c:void 0,isSelected:o,dataTestId:"admin-settings-link",dataOnboardingKey:eU,onClick:()=>{t(z.$T({view:"teamAdminConsole",teamId:a,isProTeam:i.pro_team,teamAdminConsoleViewTab:i.pro_team?ek.I.DASHBOARD:ek.I.MEMBERS})),t(z.Oe({clickedResourceType:"teamAdminSettings",resourceIdOrKey:i.id}))}}),(0,p.kc)().team_abandoned_drafts_page&&l.createElement(eI,null))}var eW=a(365879),ej=a(132186),e$=a(662275),eG=a(672517),eY=a(385111),ez=a(742809),eQ=a(723245),eK=a(964258),eq=a(694687),eZ=a(594901),eX=a(7e3),eJ=a(860178),e0=a(99506),e1=a(147206),e2=a(746869),e4=a(389643),e8=a(206193),e3=a(731078),e5=a(668860),e9=a(143678),e6=a(266431);function e7(){return l.createElement(el.Ex,{color:el.zE.INFORMATIONAL,text:(0,k.t)("team_list.pro_trial"),className:"pro_trials_badge--proTrialsBadge--HmAFD team_link--freeBadge--ynTW7 team_link--badge--Ou6oy"})}var te=a(454542),tt=a(123948);let ta="team_link--lockedBadge--rfbIf team_link--badge--Ou6oy",tr="team_link--badgeButton--NRkT9",tn="team_link--teamWarningIcon--eC3Yz";function ti(e){let t;let a=(0,s.wA)(),r=(0,eJ.iZ)(),n=(0,ee._6)(),i=(0,J.Um)(),o=(0,eq.dq)(),c=(0,eZ.FC)(),d=(0,s.d4)(e=>e.teams),m=(0,s.d4)(e=>e.teamRoleRequests),u=(0,s.d4)(e=>e.avatarEditorState),_=(0,s.d4)(e=>e.renamingNavTeamWithId),[p,f]=l.useState(!1),g=e.team,E=function(e,t){if(e&&e.type===em.RQ&&e.data.teamId in t)return t[e.data.teamId]}(i,d),h=n&&"team"===n.view&&n.teamId===g.id&&_!==g.id;E&&E.id===g.id&&(t="team_link--contextSelectedTeam--Q2cQV team_link--team--qXgRE sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd");let v=(0,eS.hasAdminRoleAccessOnTeam)(g.id,c),y=(0,eS.hasEditorRoleAccessOnTeam)(g.id,c),b=(0,eS.canEditTeam)(g.id,c),w=_===g.id,T=(()=>{let t=d[e.team.id];return!!(t?.restrictions_list?.includes(e0.P4.FILES_LIMITED_LEGACY)||t?.restrictions_list?.includes(e0.P4.WHITEBOARD_FILES_LIMITED_BETA))})(),I=(0,eN.oc)(g.id,c),C=!w&&!(0,e1.R$)(r,o)&&p&&!(T||I),x=!w&&v&&(0,eN.XX)(e.team)&&!e.team.orgId,N={showReminder:!1,showAccessRestricted:!1};return c.user&&(N=(0,eo.GU)(c.userEduGracePeriods,(0,eo.cn)(c.user),g.id,!!g.studentTeamAt)),l.createElement("div",{onContextMenu:t=>{t.stopPropagation(),t.preventDefault(),e.team&&(0,e4.xN)(e.team.id,{dispatch:a});let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};a(z.j7({type:em.RQ,data:{teamId:e.team.id,targetRect:r}}))},onMouseOver:()=>{f(!0)},onMouseLeave:()=>{f(!1)},"data-onboarding-key":e.onboardingKey},l.createElement($.Z,{rowClassName:t,onClick:t=>{let r=e.team;a(Q.dm(r.id)),a(z.Oe({clickedResourceType:"team",resourceIdOrKey:r.id}))},showGrabber:!1,isSelected:h,icon:l.createElement("div",{className:S.cx.h16.w16.flex.itemsCenter.justifyCenter.$},l.createElement(es.nl,{size:{imgSize:es.Pf.SMALL,fallbackSize:es.Pf.XSMALL},fallbackDisplay:ec.U.HIDDEN,team:{...e.team,imgUrl:e.team.imgUrl||void 0}})),text:l.createElement("div",{className:S.cx.flex.flexRow.overflowHidden.flexGrow1.itemsCenter.$},w?l.createElement(V.p,{className:"team_link--teamNameInput--ZUj8d input--input--IPk3x",placeholderValue:g.name,submit:t=>{a((0,eK.IA)({team:e.team,name:t})),a(z.tw({teamId:e.team.id}))},cancel:()=>{a(z.tw({teamId:e.team.id}))}}):l.createElement(L.E,{truncate:!0},g.name),l.createElement(to,{team:g,dispatch:a,permissionsState:c,selectedView:n,shouldShowFileLimitBadge:T,eduVerificationNeeded:N})),badge:l.createElement(l.Fragment,null,C&&l.createElement(eW.I,{team:e.team,trackingContextName:e9.e0.FILE_BROWSER}),x&&l.createElement(eV,{team:e.team,trackingContextName:e9.e0.FILE_BROWSER}))}),!(0,eQ.D6)(o)&&E&&E.id===g.id&&l.createElement(ej.W,{team:{...E,canEdit:b,canEditTeamContents:y},onRenameClick:e=>{a(z.m({teamId:e.id}))},onChangeTeamIconClick:()=>{a((0,ez.o)({team:{...e.team,imgUrl:e.team.imgUrl||void 0}}))},teamRoleRequests:m}),v&&l.createElement("span",{className:"team_link--hiddenEditableAvatar--IO5YA"},l.createElement(e6.ER,{entity:{...g,imgUrl:g.imgUrl||void 0},entityType:e3.ck.TEAM,avatarEditorState:u,size:14,dispatch:a})))}function to(e){let[t,a]=l.useState(!1),r=l.useRef(),n=(0,eX.TN)(e.team.id);if(e.shouldShowFileLimitBadge)return l.createElement(eu.YR,{className:tn,dataTooltipType:eL.Ib.TEXT,dataTooltip:(0,k.t)("team_list.your_team_is_over_the_starter_plan_s_file_limit"),dataTooltipShowAbove:!0,dataTooltipMaxWidth:160,dataTooltipTimeout:50});let i=e.permissionsState,o=(0,eS.getRolesForUserAndTeam)(e.team.id,i),s=(0,eS.hasMinRole)(o,e5.e6.EDITOR);if(i.user&&(e.eduVerificationNeeded?.showReminder||e.eduVerificationNeeded?.showAccessRestricted)&&s){let t=l.createElement(eu.YR,{className:tn,dataTooltipType:eL.Ib.TEXT,dataTooltip:(0,k.t)("team_list.verify_that_youre_a_student_or_educator"),dataTooltipShowAbove:!0,dataTooltipMaxWidth:160,dataTooltipTimeout:50});return e.eduVerificationNeeded?.showReminder&&(t=l.createElement(eu.vW,{className:tn,dataTooltipType:eL.Ib.TEXT,dataTooltip:(0,k.t)("team_list.verify_that_youre_a_student_or_educator"),dataTooltipShowAbove:!0,dataTooltipMaxWidth:160,dataTooltipTimeout:50})),t}let c=i.user?.id,d=t=>{e.dispatch((0,e$.to)({type:ed.V,data:{teamId:e.team.id,upsellSource:t}}))};if((0,eN.oc)(e.team.id,e.permissionsState)){if(e.team.studentTeamAt&&(0,p.kc)().edu_onboarding_grace_period)return null;let t=e2.ng.canSeeProTrialExpiryUx(n);return(0,eS.hasEditorRoleAccessOnTeam)(e.team.id,i)?t?l.createElement(eG.fu,{name:el._Y.PRO_TRIAL_EXPIRED,properties:{userId:c,teamId:e.team.id,...e2.ng.getTrackingProperties()}},l.createElement(eG.$z,{type:"button",onClick:()=>d(e8.b.PRO_TRIAL_UPSELL_MODAL),className:tr,trackingProperties:e2.ng.getTrackingProperties("Badge Clicked")},l.createElement("span",{"data-tooltip-type":eL.Ib.SPECIAL,"data-tooltip":te.d,"data-tooltip-show-right":!0,"data-tooltip-max-width":128,"data-tooltip-timeout-delay":50},l.createElement(el.Ex,{color:el.zE.WARNING,text:(0,k.t)("team_list.pro_trial_expired"),className:ta})))):l.createElement(eG.fu,{name:el._Y.LOCKED,properties:{userId:c,teamId:e.team.id}},l.createElement(eG.$z,{type:"button",onClick:()=>d(e8.b.LOCKED_TEAM_BADGE),className:tr,trackingProperties:{text:"Badge Clicked"}},l.createElement(el.Ex,{color:el.zE.WARNING,text:(0,k.t)("team_list.locked"),className:ta}))):t?l.createElement(eG.fu,{name:el._Y.PRO_TRIAL_EXPIRED,properties:{userId:c,teamId:e.team.id,...e2.ng.getTrackingProperties()}},l.createElement(el.Ex,{color:el.zE.WARNING,text:(0,k.t)("team_list.pro_trial_expired"),className:ta})):l.createElement(el.Ex,{color:el.zE.WARNING,text:(0,k.t)("team_list.locked"),className:"team_link--badge--Ou6oy"})}if(n&&e2.ng.canSeeProTrialUx(n))return l.createElement(eG.fu,{name:el._Y.PRO_TRIAL,properties:{userId:c,teamId:e.team.id,...e2.ng.getTrackingProperties()}},l.createElement(eG.$z,{type:"button",onClick:()=>d(e8.b.PRO_TRIAL_UPSELL_MODAL),className:tr,trackingProperties:e2.ng.getTrackingProperties("Badge Clicked")},l.createElement("span",{"data-tooltip-type":eL.Ib.SPECIAL,"data-tooltip":tt.V,"data-tooltip-pro-trials-days-left":n.daysLeft,"data-tooltip-show-right":!0,"data-tooltip-max-width":195,"data-tooltip-timeout-delay":50},l.createElement(e7,null))));if(!(0,eN.XX)(e.team)&&(0,eS.hasEditorRoleAccessOnTeam)(e.team.id,i)){let n={monetization_surface:eY.h.MonetizationSurface.FILE_BROWSER,monetization_trigger:e8.b.STARTER_TEAM_BADGE};return l.createElement("button",{onClick:t=>{t.stopPropagation(),e.dispatch(Q.dm(e.team.id)),d(e8.b.STARTER_TEAM_BADGE),(0,ei.sx)("Starter Team Badge Clicked",{userId:c,teamId:e.team.id,...n})},onMouseEnter:()=>{t||(r.current=setTimeout(()=>{(0,ei.sx)("Starter Team Badge Viewed",{userId:c,teamId:e.team.id,...n}),a(!0)},1e3))},onMouseLeave:()=>{clearTimeout(r.current)},className:tr},l.createElement(el.Ex,{color:el.zE.INFORMATIONAL,text:(0,k.t)("team_list.free"),className:"team_link--freeBadge--ynTW7 team_link--badge--Ou6oy"}))}return null}var tl=a(911107),ts=a(27087),tc=a(980820);let td=(0,tc.nF)((e,t)=>{let a=e.getState().user?.id,r=e.getState().currentUserOrgId;if(t.userInitiated){let n=ts.Ay.put(`/api/file_browser_preferences/section/${t.prefs.section_type}`,{...t.prefs,org_id:r}).catch(t=>{e.dispatch(W.s.error(t.data?.message||"An error occurred.")),console.error(t)});t.prefs.id?tl.WB()?.optimisticallyUpdate({FileBrowserSectionPreferences:{[t.prefs.id]:{orderedFolderIds:t.prefs.ordered_folder_ids,sectionType:t.prefs.section_type,teamId:"team"===t.prefs.section_type?t.prefs.team_id:null,orgId:r}}},n):null!=a&&tl.WB()?.optimisticallyCreate({FileBrowserSectionPreferences:{"optimistic-id":{userId:a,orderedFolderIds:t.prefs.ordered_folder_ids||null,sectionType:t.prefs.section_type,teamId:"team"===t.prefs.section_type?t.prefs.team_id:null,updatedAt:new Date,createdAt:new Date,orgId:r}}},n)}}),tm={USER_FOLDERS:"user_folders",USER_DRAFTS:"user_drafts",TEAM:"team"},tu="nav_section--folderSeparatorBefore--RgAUv";function t_(e,t,a){let{projects:r,sidebarData:n}=a,i=n?.fileBrowserSectionPreferences||[],o=[];for(let a of i)if("team"===a.sectionType){if("team"===e&&a.teamId===(t||null)){o=a.orderedFolderIds||[];break}}else e===a.sectionType&&(o=a.orderedFolderIds||[]);return r.sort((e,t)=>{let a=o.indexOf(e.id),r=o.indexOf(t.id);return a<r?-1:r<a?1:0}),r}function tp(e,t,a,r,n,i,o,l){let s=tE(r,a),c=e.sidebarData?.fileBrowserSectionPreferences?.filter(e=>e.sectionType===n&&("team"!==n||e.teamId===i?.id)),d=c&&c.length>0?c[0].id:void 0;s===n&&(n!==tm.TEAM||r.teamId===i?.id)?tf(e,t,n,i?.id,r.id,o,l,d):i&&tg(e,t,r,n,i,o,l,d)}let tf=(e,t,a,r,n,i,o,l)=>{let s=t_(a,r,e).map(e=>e.id),c=(0,B.moveItem)(s,n,i,o);c!==s&&t(td({prefs:a===tm.TEAM?{id:l,section_type:a,team_id:r,ordered_folder_ids:c}:{id:l,section_type:a,ordered_folder_ids:c},userInitiated:!0}))},tg=(e,t,a,r,n,i,o,l)=>{if(!n)return;t((0,Z.Nr)({folder:a,team:n}));let s=t_(r,n.id,e).map(e=>e.id),c=null==i?-1:s.indexOf(i);return c<0?c=o?0:s.length:o||(c+=1),s.splice(c,0,a.id),t(td({prefs:r===tm.TEAM?{id:l,section_type:r,team_id:n.id,ordered_folder_ids:s}:{id:l,section_type:r,ordered_folder_ids:s},userInitiated:!0})),!0},tE=(e,t)=>e.teamId&&e.teamId in t.roles.byTeamId?tm.TEAM:e.id===t.user?.drafts_folder_id?tm.USER_DRAFTS:tm.USER_FOLDERS;function th(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dragState),r=(0,eZ.FC)(),n=(0,eJ.iZ)(),i=(0,eq.dq)(),o=(0,s.d4)(e=>e.renamingNavFolderWithId),[c,d]=l.useState(null),[m,u]=l.useState(!1),_=()=>{if(e.isEnterpriseSidenavEnabled&&a.data?.licenseGroupId&&a.data.licenseGroupId!==e.licenseGroup?.id)return!1;if(a.type===et.R.Folder){let t=a.data,i=tE(t,r);return!!(i===tm.USER_FOLDERS&&(0,eN.S$)(t,e.team,n))||!!i&&e.acceptDropsFrom.has(i)}return!1},p=e=>{a.type===et.R.Folder&&d(e)},f=e=>{u(e.upper)},g=e=>{d(t=>t===e?null:t)},E=n=>{tp(e,t,r,a.data,e.sectionType,e.team,n,m),d(null)},h=t_(e.sectionType,e.team?.id,e),v=(0,eQ.D6)(i)?"nav_section--folderSeparatorOffCustomSections--Z4VcU nav_section--sectionTextCustomSections--Jz4II sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa":"nav_section--folderSeparatorOff--auqlH nav_section--sectionText--oYnQA sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa",y=(0,eQ.D6)(i)?"nav_section--folderSeparatorOnCustomSections--2EgRi nav_section--folderSeparatorOffCustomSections--Z4VcU nav_section--sectionTextCustomSections--Jz4II sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa":"nav_section--folderSeparatorOn--CIaoN nav_section--folderSeparatorOff--auqlH nav_section--sectionText--oYnQA sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa";return l.createElement("div",{className:0===h.length?"nav_section--orderedFoldersEmpty--7AgI4 nav_section--orderedFolders--3ZY9c":"nav_section--orderedFolders--3ZY9c"},l.createElement("div",{className:tu},l.createElement("div",{className:e.showPrependIndicator||0===h.length&&e.showAppendIndicator?y:v})),h.length>0&&h.map(t=>l.createElement(U.Y,{key:t.id,isDragTarget:_,onTargetDragEnter:()=>p(t.id),onTargetDragQuadrantUpdate:f,onTargetDragLeave:()=>g(t.id),onTargetDrop:()=>E(t.id),style:{position:"relative"}},l.createElement("div",{className:tu},l.createElement("div",{className:c===t.id&&m?y:v})),l.createElement(en,{key:`folder-${t.id}`,folder:t,team:e.team,disambiguationFolders:e.sectionType===tm.USER_FOLDERS?h:void 0,renamingNavFolderWithId:o,isSharedProject:e.sectionType===tm.USER_FOLDERS}))),l.createElement("div",{className:"nav_section--folderSeparatorAfter--V0NpT"},l.createElement("div",{className:e.showAppendIndicator&&h.length>0?y:v})))}function tv(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dragState),r=(0,eZ.FC)(),n=(0,eJ.iZ)(),[i,o]=l.useState(!1),[c,d]=l.useState(!1);return l.createElement(U.Y,{isDragTarget:()=>{if(e.isEnterpriseSidenavEnabled&&a.data?.licenseGroupId&&a.data.licenseGroupId!==e.licenseGroup?.id)return!1;if(a.type===et.R.Folder){let t=a.data,i=tE(t,r);return!!(i===tm.USER_FOLDERS&&(0,eN.S$)(t,e.team,n))||!!i&&e.acceptDropsFrom.has(i)}return!1},onTargetDragEnter:()=>{a.type===et.R.Folder&&o(!0)},onTargetDragQuadrantUpdate:e=>{d(e.upper)},onTargetDragLeave:()=>{o(!1)},onTargetDrop:()=>{a.type===et.R.Folder&&e.team&&tp(e,t,r,a.data,e.sectionType,e.team,null,c),o(!1)}},l.createElement("div",{className:"nav_section--section--CCwMs sidebar--section--COZVK"},e.sectionType===tm.USER_FOLDERS&&l.createElement(l.Fragment,null,l.createElement(th,{showPrependIndicator:i&&c,showAppendIndicator:i&&!c,...e})),e.sectionType===tm.TEAM&&l.createElement(l.Fragment,null,l.createElement(ti,{team:e.team,projects:e.projects,onboardingKey:e.onboardingKey}),l.createElement(th,{showPrependIndicator:i&&c,showAppendIndicator:i&&!c,...e}))))}function ty(e){let t=e.projectsByTeam[tv.USER_FOLDERS]||[];return l.createElement(tv,{sectionType:tm.USER_FOLDERS,team:null,projects:t,acceptDropsFrom:new Set([tm.USER_FOLDERS]),sidebarData:e.sidebarData})}function tb(e){let t=e.team.id,a=e.projectsByTeam[t]||[];return l.createElement(tv,{sectionType:tm.TEAM,acceptDropsFrom:new Set([tm.TEAM]),projects:a,onboardingKey:e.onboardingKey,team:e.team,sidebarData:e.sidebarData,licenseGroup:e.licenseGroup})}tv.USER_FOLDERS="USER_FOLDERS",tv.USER_DRAFTS="USER_DRAFTS";var tw=a(564780),tT=a(225868),tI=a(270056),tC=a(988022),tx=a(488983),tN=a(417908),tS=a(643067),tk=a(392340),tL=a(832568),tA=a(297666),tR=a(711525),tF=a(946689),tO=a(351275),tP=a(493323),tD=a(355819),tM=a(428322),tB=a(501114),tU=a(181912),tV=a(151109),tH=a(596607);let tW="seen_org_admin_moved_unassigned_drafts_onboarding",tj=(0,tU.A)("2024-10-15").startOf("day"),t$=(0,eg.r1)(tW);function tG(){let e=(0,e_.md)(t$),{show:t,isShowing:a,complete:r}=(0,ef.e)({overlay:ey.rv,priority:eE.N.DEFAULT_MODAL},[e]),n=(0,s.d4)(e=>(0,tH.xw)(e)),i=n?.created_at,o=!!i&&(0,tU.A)(i).isSameOrAfter(tj);return(0,u.h)(()=>{t({canShow:e=>!(e||o)})}),l.createElement(eh.rq,{clickOutsideToHide:!0,arrowPosition:ev.F_.LEFT_TITLE,isShowing:a,targetKey:tV.sm,trackingContextName:tV.o8,title:(0,k.tx)("org_admin_onboarding.tooltip.moved_unassigned_drafts.title"),description:(0,k.tx)("org_admin_onboarding.tooltip.moved_unassigned_drafts.body"),primaryCta:{label:(0,k.tx)("general.got_it"),type:"button",onClick:r,ctaTrackingDescriptor:ep.c.DONE},secondaryCta:{label:(0,k.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/4420549259799",ctaTrackingDescriptor:ep.c.LEARN_MORE},onClose:r,userFlagOnShow:tW,shouldCenterArrow:ev.EL.FALLBACK})}var tY=a(647400),tz=a(309798),tQ=a(984968),tK=a(489291),tq=a(626296),tZ=a(397417),tX=a(444173),tJ=a(51924);function t0(e){let t=(0,s.d4)(e=>e.teams),a=(0,s.d4)(e=>e.roles.byTeamId),r=(0,s.d4)(e=>e.user),n=(0,tz.f)("team_creation_speed_bump_dismissed"),i=(0,h.I7)("starter_team_loophole_experiment_m0"),o=(0,h.I7)("starter_team_loophole_experiment_m1");return l.createElement("div",{className:"new_team_link--createNewTeamLink--ESx5o","data-onboarding-key":tY.CREATE_TEAM_ONBOARDING_KEY},l.createElement(t2,{currentOrgId:e.currentOrgId,onClick:()=>{if(e.currentOrgId)e.dispatch(e$.to({type:tq.Uc,data:{}}));else{let l=()=>{e.dispatch(Q.Dw({}))};r?.id&&!n&&(0,tQ.Ct)(r.id,Object.values(t),a)&&!(0,eP.e5)({userId:r.id,teams:Object.values(t),rolesByTeamId:a,getM0Config:i.getConfig,getM1Config:o.getConfig})?e.dispatch(e$.to({type:tZ.FK,data:{user:r,startTeamCreation:l,editorType:null}})):l()}},onMouseEnter:e.onMouseEnter,dimmed:e.disabled??!1,"data-tooltip-type":e.tooltipText?eL.Ib.TEXT:void 0,"data-tooltip":e.tooltipText,"data-tooltip-show-immediately":!0,disabled:e.disabled},(0,k.tx)("sidebar.create_new_team")))}function t1(e){let t=(0,s.wA)();return l.createElement("div",{className:"new_team_link--teamsListEmptyState--jFJWC sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd"},l.createElement(H.B,{className:"new_team_link--icon--UYAD3 sidebar--icon--wMzUY",svg:tJ.A}),l.createElement("div",{className:e.org&&(0,eQ.D6)(e.org.id)?"new_team_link--teamsListEmptyStateContentCustomSections--gJW6m sidebar--sectionContentCustomSections--wI9mZ":"new_team_link--teamsListEmptyStateContent--80VyB sidebar--sectionContent--NHX7b"},(0,k.tx)("sidebar.your_teams_and_favorited_projects_will_appear_here"),e.org?.id&&!e.isOrgGuest&&l.createElement("a",{className:"new_team_link--blueLink--HG5xD blue_link--blueLink--9rlnd",onClick:()=>{e.org&&t(z.$T({view:"org",orgId:e.org.id,orgViewTab:tK.X.HOME}))}},(0,k.tx)("sidebar.browse_org",{orgName:e.org.name}))))}let t2=(0,eG.tf)(function(e){let{currentOrgId:t,children:a,onClick:r,dimmed:n,disabled:i,...o}=e;return l.createElement("div",{className:i?"new_team_link--navLinkDisabled--nWmFJ new_team_link--_navLink--rQ9f- sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd":n?"new_team_link--navLinkDimmed--SNDWb new_team_link--_navLink--rQ9f- sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd":"new_team_link--navLink--wO1bP new_team_link--_navLink--rQ9f- sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd",onMouseDown:i?void 0:r,...o},l.createElement($.Z,{icon:l.createElement(H.B,{"data-onboarding-key":"new-team-icon",className:S.cx.colorIcon.$,svg:tX.A}),text:l.createElement(l.Fragment,null,a)}))});var t4=a(935938);function t8(){let e=(0,s.wA)(),t=(0,ee.z3)();return l.createElement($.Z,{onClick:()=>{e(z.$T({view:"recentsAndSharing",tab:t4.G.RECENTLY_VIEWED})),e(z.Oe({clickedResourceType:"recentsAndSharing"}))},isSelected:"recentFiles"===t||"recentsAndSharing"===t,icon:l.createElement(eO.In,{icon:"recent-16"}),text:l.createElement(L.E,{truncate:!0},(0,k.tx)("sidebar.recents"))})}var t3=a(54552),t5=a(931828),t9=a(6949),t6=a(837502),t7=a(397844),ae=a(207286),at=a(578585),aa=a(801387),ar=a(753757),an=a(698812),ai=a(227544),ao=a(421234),al=a(860529),as=a(186828),ac=a(155367),ad=a(352898);function am(e){let t=(0,s.wA)(),a=e.orgUser.permission===e0._D.ADMIN,r=(0,an.RG)(),n=(0,an.MX)(),{groupsUserIsAdminOf:i}=(0,an.EQ)(n,e.orgUser.user_id,!a),o=(0,ae.Xf)(e.org.id),c="loaded"===o.status?o.data?.invoices??[]:void 0;l.useEffect(()=>{t(at.Jt({forceRefetch:!1}))},[t,e.org.id]);let{groupsToReview:d}=(0,an.Cz)(i,c),m=i[0]?.id,u=e.org.bigma_enabled&&r&&!!m,_=(0,aa.NJ)(e.org.id).data??[],p=e.org.bigma_enabled&&_.length>0,f=(0,ao.of)(),g=(0,eC.ZY)({isIntendedAudience:e.org.bigma_enabled&&!a});if(!(a||u||p))return null;let E=function(e){switch(e.view){case"orgAdminSettings":case"billingGroupDashboard":return!0;case"licenseGroup":return e.subView===as.GN.ADMIN;case"workspace":return e.subView===ad.V0.ADMIN;default:return!1}}(e.selectedView),h=l.createElement(ex.Mn,{org:e.org,orgUser:e.orgUser,selectedView:e.selectedView,isSelected:E});return l.createElement(eD,{badge:h,onClick:()=>{let e=c&&(0,ai.hX)(c);if(a){let e=ac.J7.DASHBOARD;t(z.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:e})),t(z.Oe({clickedResourceType:"orgAdminSettings"}))}else u?g?t(z.$T({view:"billingGroupDashboard",selectedTab:al.D.REQUESTS})):(t(z.$T({view:"licenseGroup",subView:as.GN.ADMIN,licenseGroupId:e&&d.length>0?d[0].id:m,selectedTab:(0,ar.g)(e&&d.length>0?as.RM.MEMBERS:as.Uu[0])})),t(z.Oe({clickedResourceType:"licenseGroupAdminSettings"}))):p&&(t(z.$T({view:"workspace",subView:ad.V0.ADMIN,workspaceId:_[0].id,selectedTab:f()})),t(z.Oe({clickedResourceType:"workspaceAdminSettings"})))},dataTestId:"admin-settings-link",dataOnboardingKey:tV.sm,isSelected:E})}function au(e){let t=(0,s.d4)(e=>e.currentTeamId),a=(0,s.wA)();return t?l.createElement($.Z,{isSelected:e.selectedView&&"team"===e.selectedView.view,onClick:()=>{a(Q.dm(t)),a(z.Oe({clickedResourceType:"allProjects"}))},"data-onboarding-key":"ALL_PROJECTS_LINK_ONBOARIND_KEY",icon:l.createElement(eO.In,{icon:"grid-32"}),text:l.createElement(L.E,{truncate:!0},(0,k.tx)("sidebar.all_projects"))}):null}var a_=a(928491);function ap(e){let t=(0,s.wA)(),a=(0,ee._6)(),r="workspace"===a.view&&a.workspaceId===e.workspace.id&&a.subView===ad.V0.DIRECTORY;return l.createElement($.Z,{isSelected:r,onClick:()=>{t(z.$T({view:"workspace",workspaceId:e.workspace.id,selectedTab:ad.dN.TEAMS,subView:ad.V0.DIRECTORY})),t(z.Oe({clickedResourceType:"workspace",resourceIdOrKey:e.workspace.id}))},icon:l.createElement(a_.z6,{entity:e.workspace,size:16}),text:l.createElement(L.E,{truncate:!0},e.workspace.name),"data-onboarding-key":e.dataOnboardingKey})}var af=a(723239);let ag="seen_sidebar_workspace_link_onboarding",aE="sidebar_workspace_link_onboarding";function ah(){let e=(0,eg.r1)(ag),t=(0,e_.md)(e),a=(0,e_.md)(af.Fy),{show:r,isShowing:n,complete:i}=(0,ef.e)({overlay:ey.Tp6,priority:eE.N.DEFAULT_MODAL},[t,a]);return(0,u.h)(()=>{r({canShow:(e,t)=>!e&&t})}),l.createElement(eh.rq,{isShowing:n,trackingContextName:"sidebar-workspace-link-onboarding",targetKey:aE,title:(0,k.tx)("sidebar.workspaces.onboarding_title"),description:(0,k.tx)("sidebar.workspaces.onboarding_description"),emphasized:!0,primaryCta:{label:(0,k.tx)("general.done"),ctaTrackingDescriptor:ep.c.DONE,type:"button",onClick:i},secondaryCta:{label:(0,k.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/7576392133527-Guide-to-workspaces",ctaTrackingDescriptor:ep.c.LEARN_MORE},userFlagOnShow:ag,onClose:i,arrowPosition:ev.F_.LEFT_TITLE,clickOutsideToHide:!0,disableHighlight:!0})}var av=a(119735),ay=a(556261),ab=a(56099);let aw="sidebar--section--COZVK",aT="sidebar--loading--AITp2",aI="sidebar--divider--sHsz4";function aC({userStateLoaded:e,sidebarData:t}){let a=(0,ay.mp)({component:"AssignedWorkspaceLink",migrationGroup:ab.L.GROUP_4}),r=(0,av.J_)();if(!a||!r())return null;if(!e)return l.createElement("div",{className:aT},l.createElement(tP.kt,null));let n=t?.baseOrgUser?.permission===e0._D.GUEST,i=t?.baseOrgUser?.workspaceUsers?.find(e=>e.isMainWorkspace)?.workspace;return!i||n?null:l.createElement(l.Fragment,null,l.createElement(ah,null),l.createElement(ap,{workspace:i,dataOnboardingKey:aE}))}var ax=a(576996),aN=a(485858),aS=a(47506),ak=a(858212),aL=a(237870),aA=a(488578);let aR=(0,aL.Ju)(function(e){let t=(0,s.wA)(),a=l.createElement("span",{className:S.cx.fontBold.$},e.sectionName);return l.createElement(aA.Rw,{onConfirm:()=>{t(t3.de({sidebarSectionId:e.sectionId}))},confirmationTitle:(0,k.t)("sidebar.delete_section"),titleClass:"confirm_section_delete_modal--title--8Haoy text--fontPos11--2LvXf text--_fontBase--QdLsd",confirmText:(0,k.t)("sidebar.delete"),destructive:!0,autoFocusCta:!1},l.createElement("p",{className:"confirm_section_delete_modal--content--BToo-"},(0,k.tx)("sidebar.if_you_delete_section_the_section",{item:e.count>1?(0,k.t)("sidebar.items"):(0,k.t)("sidebar.item"),section:a,count:e.count,pronoun:e.count>1?(0,k.t)("sidebar.them"):(0,k.t)("sidebar.it")})))},"CONFIRM_SECTION_DELETE_MODAL",aL.ZU.YES);var aF=a(728587);let aO="custom-section-header-context-menu";function aP(){let e=(0,s.d4)(e=>e.dropdownShown);return e&&e?.type===aO?e:null}function aD(e){let t=(0,s.wA)(),a=aP();if(null==a)return l.createElement(l.Fragment,null);let r=()=>{0===a.data.favoritesCount?t(t3.de({sidebarSectionId:a.data.customSection.id})):t((0,e$.to)({type:aR,data:{sectionId:a.data.customSection.id,sectionName:a.data.customSection.name,count:a.data.favoritesCount}}))},n=()=>{e.setRenamingSectionId(a.data.customSection.id)},i=[{displayText:(0,k.t)("sidebar.rename_section"),callback:()=>n()},{displayText:(0,k.t)("sidebar.delete_section"),callback:()=>r()}];return l.createElement(aF.j,{depth:0,items:i,lean:"right",leanPadding:0,dispatch:t,minWidth:162,parentRect:a.data.targetRect,onSelectItem:(e,a)=>{e.callback&&e.callback("",null,t)},showPoint:!a.data.isFromRightClick,hidePointWhenContentOffScreen:!0})}let aM="favorited_section--emojiIcon--pDnB-",aB="favorited_section--favoriteStar--2R5nb",aU="favorited_section--isDragTarget--dQd5-",aV="favorited_section--previewContainer--4E-dF _overlayBase--_overlayBase--Rkj8l",aH="favorited_section--previewContainerNoDelay--buvES favorited_section--previewContainer--4E-dF _overlayBase--_overlayBase--Rkj8l",aW="favorited_section--favoriteClickTarget--Z9eur",aj="favorited_section--thumbnailContainer--C4PE-",a$="favorited_section--lowerContainer--9gDfQ",aG="favorited_section--lowerPartTitles--44fhW",aY="favorited_section--title--bWf4x ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd",az="favorited_section--editorTypeIndicator--OmyvY",aQ="favorited_section--svgContainer--vwRae",aK="favorited_section--icon--E7nFx";function aq(e){let t=(0,s.wA)(),a=(0,s.d4)(tS.wA);if(!a)return null;let r=l.createElement("span",{role:"link",tabIndex:0,onClick:()=>{t(z.$T({view:"org",orgId:a.id,orgViewTab:tK.X.HOME}))},className:"favorited_section--browseOrgLink--BvX0-"},(0,k.tx)("sidebar.browse_org_custom_sections"));return l.createElement("div",{className:"favorited_section--customSectionsEmptyStateContent--Z6jKH"},(0,k.tx)("sidebar.just_click_the_on_files_projects_and_teams_to_add_and_organize_them_here"),r)}function aZ(e){return l.createElement("div",{className:"favorited_section--customSectionsEmptyState--JcvfB favorited_section--customSectionsEmptyStateContent--Z6jKH"},l.createElement(aq,{setNewCustomSectionIndex:e.setNewCustomSectionIndex}))}var aX=a(722138),aJ=a(392592),a0=a(786013),a1=a(823810),a2=a(391388),a4=a(286098),a8=a(970516),a3=a(944682),a5=a(889399),a9=a(782656),a6=a(128751),a7=a(355513),re=a(67085),rt=a(477782),ra=a(499743),rr=a(132135),rn=a(892542),ri=a(623746),ro=a(216158),rl=a(451e3),rs=a(851363),rc=a(378356),rd=a(794897),rm=a(714728),ru=(e=>(e.FAVORITED_PROTOTYPE_CONTEXT_MENU="favorited-prototype-context-menu",e.FAVORITED_FILE_CONTEXT_MENU="favorited-file-context-menu",e.FAVORITED_PROJECT_CONTEXT_MENU="favorited-project-context-menu",e.FAVORITED_TEAM_CONTEXT_MENU="favorited-team-context-menu",e.FAVORITED_WORKSPACE_CONTEXT_MENU="favorited-workspace-context-menu",e))(ru||{});let r_="sidebar context menu";function rp(e,t,a,r){if(t.stopPropagation(),t.preventDefault(),"file"in e&&e.file){let t=e.file;a(a3.yJ({file:{key:t.key,team_id:t.teamId,file_repo_id:t.fileRepoId,folder_id:t.folderId}}));let r=(0,a4.QJ)(e);r&&a(a9.bE({repo:r}))}a(z.j7({type:r,data:{resource:{...e},targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1}}}))}let rf=(e,t,a,r={})=>e?[{displayText:t?t():"",callback:a,...r}]:[],rg=[{displayText:"",separator:!0}];function rE({dropdownShown:e}){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.selectedView),r=(0,s.d4)(e=>e.user?.personal_drafts_folder_id),n=(0,ra.p)(),i=(0,p.kc)().ps_benchmark,o="favorited-project-context-menu"===e.type?e.data.resource.project?.id:e.data.resource?.file?.folderId,m=e.data.resource,u=i&&!!r&&m?.file?.folderId===r,_=(a0.C7b.CAN_VIEW===a0.C7b.CAN_VIEW?function(e){let t=(0,eZ.FC)();return(0,l.useMemo)(()=>a2.Qw.loaded((0,eS.canViewFolder_DEPRECATED)(e,t)),[e,t])}(o):a2.Qw.loaded(!1)).unwrapOr(!1),f=!u&&_,g="favorited-prototype-context-menu"===e.type,E=(0,a1.As)(m?.file?.key??""),h=l.useMemo(()=>"favorited-file-context-menu"===e.type&&!!E.unwrapOr(null)?.canDelete,[e.type,E]),v=[...rf(!0,()=>(0,k.t)("tile.dropdown.open"),()=>{(0,aX.DF)("open"),"favorited-file-context-menu"===e.type?((0,aX.LP)(m.file.key,e0.bk.FILE,m.sidebarSectionId,r_,m.file.editorType),(0,a7.Tq)(t,{key:m.file.key,editor_type:m.file.editorType})):"favorited-prototype-context-menu"===e.type?((0,aX.LP)(m.prototype.fileKey,e0.bk.PROTOTYPE,m.sidebarSectionId,r_,"design"),(0,eQ.FS)(t,m)):"favorited-project-context-menu"===e.type&&(t(Q.kg({clickedResourceType:"folder",resourceIdOrKey:m.project.id})),(0,a7.U8)(m.project.id,t))}),...rf(!d.eD&&!(0,c.ce)(),()=>(0,k.t)("tile.dropdown.open_new_tab"),()=>{if("favorited-file-context-menu"===e.type)(0,a7.nz)((0,rr.jN)({...m,allowDefaulting:!0}),m.file.key,a,t),(0,aX.LP)(m.file.key,e0.bk.FILE,m.sidebarSectionId,r_,m.file.editorType),(0,aX.DF)("open_in_new_tab");else if("favorited-prototype-context-menu"===e.type){let e=m.prototype.url;(0,a7.D4)(e,m.prototype.fileKey,m.prototype.file.pageId,a),(0,aX.LP)(m.prototype.fileKey,e0.bk.PROTOTYPE,m.sidebarSectionId,r_,"design"),(0,aX.DF)("open_in_new_tab")}else"favorited-project-context-menu"===e.type&&(t(Q.kg({clickedResourceType:"folder",resourceIdOrKey:m.project.id})),(0,a7.Wq)((0,rl.EE)(m.project.id,m.project.org_id??null),t),(0,aX.LP)(m.project.id,e0.bk.FOLDER,m.sidebarSectionId,r_,"design"))}),...rg,...rf(!0,()=>(0,k.t)("tile.dropdown.copy_link"),()=>{(0,aX.DF)("copy_link"),"favorited-file-context-menu"===e.type?t(a3.S({fileKey:m.file.key,url:(0,rr.jN)({file:m.file,attributionContext:(0,rn.b)(n,rn.d.FAVORITED_FILE_CONTEXT_MENU),allowDefaulting:!0}),source:rn.d.FAVORITED_FILE_CONTEXT_MENU})):"favorited-prototype-context-menu"===e.type?t(a8.S({url:m.prototype.url})):"favorited-project-context-menu"===e.type&&t(a8.S({url:(0,rl.EE)(m.project.id,m.project.org_id??null)}))}),...rf(!g&&!u,()=>(0,k.t)("sidebar.share"),()=>{(0,aX.DF)("share"),"favorited-file-context-menu"===e.type?t((0,e$.to)({type:rd.g_,data:{fileKey:m.file.key,source:re.nk.fileBrowserFavoritedContextMenu}})):"favorited-project-context-menu"===e.type&&t((0,e$.to)({type:rm.W,data:{folderId:m.project.id}}))}),...rf(f,()=>(0,k.t)("tile.dropdown.show_in_project"),()=>{if((0,aX.DF)("show_in_project"),"favorited-file-context-menu"===e.type&&e.data.resource.file?.folderId!=null){if(t(z.$T({view:"folder",folderId:e.data.resource.file.folderId})),t(a6.an()),e.data.resource.file.repo){let a=(0,a4.QJ)(e.data.resource);null!=a&&t(a6.y$({type:rc.F.REPOS,tiles:[{type:rt.nb.REPO,repo:a,branches:[],selectedBranchKey:""}]}))}else t(a6.y$({type:rc.F.FILES,tiles:[{type:rt.nb.FILE,file:e.data.resource.file}]}))}},{disabled:!f}),...rg,...rf(!g,()=>(0,k.t)("tile.favoriting.remove_from_favorites"),()=>{"favorited-prototype-context-menu"===e.type&&m.prototype?t(t3.X7({prototype:{file_key:m.prototype.fileKey,page_id:m.prototype.pageId},entrypoint:"sidebar",favoriteId:m.id})):"favorited-file-context-menu"===e.type&&m.file?t(t3.qP({file:{key:m.file.key,editor_type:m.file.editorType.toString()??void 0},entrypoint:"sidebar",favoriteId:m.id})):"favorited-project-context-menu"===e.type&&m.project&&t(tI.ZJ({folderId:m.resourceId,folderName:m.project.path,teamId:m.project.teamId,isSubscribed:!1}))}),...rg,...rf(!g&&!u,()=>(0,k.t)("sidebar.delete"),()=>{if((0,aX.DF)("delete"),"favorited-file-context-menu"===e.type){let e=E.unwrapOr(null)?.canDelete?{[m.file.key]:m.file}:{};t(a5.U1({filesByKey:e}))}},{disabled:!h})];return l.createElement(aF.j,{items:v,parentRect:e.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{e.callback?.("",{},t,a)}})}function rh(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.selectedView),r=(0,ra.p)(),n=e.favoritedFile.file,i=ro.M4.useFile(n?.key).data,o=n?.project?.canView,m=(0,s.d4)(e=>e.dropdownShown);if(null==m||null==n)return null;let u="favorited-file-context-menu"===m.type,_=[...rf(!0,()=>(0,k.t)("tile.dropdown.open"),()=>{(0,aX.DF)("open"),(0,aX.LP)(n.key,e0.bk.FILE,e.favoritedFile?.sidebarSectionId??void 0,r_,n.editorType??void 0),(0,a7.Tq)(t,{key:n.key,editor_type:n.editorType})}),...rf(!d.eD&&!(0,c.ce)(),()=>(0,k.t)("tile.dropdown.open_new_tab"),()=>{(0,a7.nz)((0,rr.jN)({file:n,allowDefaulting:!0}),n.key,a,t),(0,aX.LP)(n.key,e0.bk.FILE,e.favoritedFile?.sidebarSectionId??void 0,r_,n.editorType),(0,aX.DF)("open_in_new_tab")}),...rg,...e.organizeFavoriteOptions,...rg,...rf(!0,()=>(0,k.t)("file_browser.copy_link"),()=>{t(a3.S({fileKey:n.key,url:(0,rr.jN)({file:n,attributionContext:(0,rn.b)(r,rn.d.FAVORITED_FILE_CONTEXT_MENU),allowDefaulting:!0}),source:rn.d.FAVORITED_FILE_CONTEXT_MENU})),t(z.oB())}),...rf(!0,()=>(0,k.t)("sidebar.share"),()=>{(0,aX.DF)("share"),t((0,e$.to)({type:rd.g_,data:{fileKey:n.key,source:re.nk.fileBrowserFavoritedContextMenu}}))}),...rf(!0,()=>(0,k.t)("tile.dropdown.show_in_project"),()=>{if((0,aX.DF)("show_in_project"),t(z.$T({view:"folder",folderId:e.folderId})),t(a6.an()),n.fileRepoId){let a=(0,a4.QJ)(e.favoritedFile);null!=a&&t(a6.y$({type:rc.F.REPOS,tiles:[{type:rt.nb.REPO,repo:a,branches:[],selectedBranchKey:""}]}))}else{if(!i)return;t(a6.y$({type:rc.F.FILES,tiles:[{type:rt.nb.FILE,file:i}]}))}},{disabled:!(u&&o)})];return l.createElement(aF.j,{items:_,parentRect:m.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorite-file-dropdown",dispatch:t,onSelectItem:(e,a)=>{e.callback?.("",{},t,a)}})}function rv(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...rg,...rf(!0,()=>(0,k.t)("file_browser.copy_link_to_team"),()=>{let a=(0,rs.bL)(e.teamId,e.orgId);t(a8.S({url:a})),t(z.oB())})];return l.createElement(aF.j,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorite-file-dropdown",dispatch:t,onSelectItem:(e,a)=>{e.callback?.("",{},t,a)}})}function ry(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...rg,...rf(null!==e.orgId,()=>(0,k.t)("file_browser.copy_link_to_workspace"),()=>{if(null!==e.orgId){let a=(0,ao.fO)(e.workspaceId,e.orgId);t(a8.S({url:a}))}t(z.oB())})];return l.createElement(aF.j,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{e.callback?.("",{},t,a)}})}function rb(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...rg,...rf(!0,()=>(0,k.t)("file_browser.copy_link_to_project"),()=>{let a=(0,rl.EE)(e.projectId,e.orgId);t(a8.S({url:a})),t(z.oB())})];return l.createElement(aF.j,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{e.callback?.("",{},t,a)}})}function rw(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dropdownShown);if(null==a)return null;let r=[...e.organizeFavoriteOptions,...rg,...rf(!0,()=>(0,k.t)("file_browser.copy_link"),()=>{let a=(0,ri._3)(e.prototype.fileKey,e.prototype.file?.name,e.prototype.pageId);t(a8.S({url:a})),t(z.oB())})];return l.createElement(aF.j,{items:r,parentRect:a.data.targetRect,showPoint:!1,lean:"right",recordingKey:"favorited-resource-dropdown",dispatch:t,onSelectItem:(e,a)=>{e.callback?.("",{},t,a)}})}var rT=a(597192),rI=a(575675);function rC(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.currentUserOrgId),r=(0,s.d4)(e=>e.currentTeamId),n=(0,s.d4)(e=>e.favorites.collapsedCustomSections),i=e.favorite.team,o=(0,eZ.FC)(),c=(0,s.d4)(e=>e.dropdownShown),d=(0,s.d4)(e=>e.avatarEditorState),u=l.useMemo(()=>c&&c.type===ru.FAVORITED_TEAM_CONTEXT_MENU&&c.data.teamId===i?.id,[c,i?.id]),_=l.useCallback((e,a)=>{(0,aX.LP)(a.team?.id,e0.bk.TEAM,a.sidebarSectionId??void 0,aX.vg);let r=(0,rs.bL)(a.resourceId,a.orgId);(0,R.oJ)(e)?(m.Ay.redirect(r,"_blank"),e.stopPropagation()):(t(Q.dm(a.resourceId)),e.preventDefault())},[t]),p=l.useCallback(e=>{if(!i)return;e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(z.j7({type:ru.FAVORITED_TEAM_CONTEXT_MENU,data:{teamId:i.id,targetRect:a}}))},[t,i]);if(!a||null===i)return l.createElement(l.Fragment,null);let f=(0,eS.canAdminTeam)(i.id,o),g=(0,rT.o)({dispatch:t,currentOrgId:a,currentTeamId:r,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:e0.bk.TEAM,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,r)=>{let n={entrypoint:"sidebar",sectionId:r,team:{id:i.id},favoriteId:e.favorite.id,resourceType:e0.bk.TEAM};a?t(t3.V1(n)):t(t3.ox(n))}});return l.createElement(l.Fragment,null,l.createElement($.Z,{isSelected:e.isSelected,rowClassName:aW,onClick:t=>_(t,e.favorite),showGrabber:e.showGrabber,onContextMenu:p,icon:i.imgUrl?l.createElement("div",{className:S.cx.colorIcon.$},l.createElement(es.nl,{shape:"ROUNDED_SQUARE",size:{imgSize:es.Pf.SMALL,fallbackSize:es.Pf.SMALL},fallbackDisplay:ec.U.HIDDEN,team:{...i,imgUrl:i.imgUrl},fallbackSvg:rI.A})):l.createElement(eO.In,{icon:"team-16"}),text:l.createElement(L.E,{truncate:!0},i.name)}),u&&l.createElement(rv,{teamId:i.id,orgId:i.orgId,organizeFavoriteOptions:g}),f&&l.createElement("span",{className:"favorited_section--hiddenEditableAvatar--MuzYX"},l.createElement(e6.ER,{entity:{...i,imgUrl:i.imgUrl||void 0},entityType:e3.ck.TEAM,avatarEditorState:d,size:14,dispatch:t})))}var rx=a(62342),rN=a(331737),rS=a(538464),rk=a(487342),rL=a(112235),rA=a(738754);function rR(e){switch(e.iconType){case rx.y1.DESIGN:case rx.y1.DESIGN_AND_DEV_MODE:case rx.y1.SLIDES:case rx.y1.SLIDES_TEMPLATE:return l.createElement(rx.oS,{type:e.iconType,size:rx.LE.SMALL});case rx.y1.SITES:return l.createElement(eO.In,{icon:"file-design-16-file-type"});case rx.y1.WHITEBOARD:return l.createElement(eO.In,{icon:"file-figjam-16-file-type"});case rx.y1.DEV_MODE:case rx.y1.DEV_MODE_SELECTED:case rx.y1.PROTOTYPE:case rx.y1.PUBLISHED:return l.createElement(rx.oS,{type:e.iconType,size:rx.LE.SMALL});case rx.y1.TEMPLATE:return l.createElement(eO.In,{icon:"file-team-template-16-file-type"});case rx.y1.REPO:return l.createElement(eO.In,{icon:"file-design-branch-16-file-type"});case rx.y1.COOPER:return l.createElement(rA.w,{inverted:!0});default:(0,x.assertNever)(e.iconType)}}let rF=e=>l.createElement("div",{className:aM},e);function rO(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.currentUserOrgId),r=(0,s.d4)(e=>e.currentTeamId),n=(0,s.d4)(e=>e.favorites.collapsedCustomSections),i=(0,s.d4)(e=>e.dropdownShown),o=e.favorite.file,c=ro.M4.useFile(o?.key).data,d=(0,rL.p)(!0),u=null!==a,_=(0,p.kc)().ps_benchmark&&r,f=l.useMemo(()=>i&&i.type===ru.FAVORITED_FILE_CONTEXT_MENU&&i.data.fileKey===o?.key,[i,o]),g=l.useMemo(()=>i&&i.type===aO,[i]),E=l.useCallback(e=>{if(!o)return;c||t(a3.yJ({file:{key:o.key,team_id:o.teamId,file_repo_id:o.fileRepoId,folder_id:o.folderId}})),e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(z.j7({type:ru.FAVORITED_FILE_CONTEXT_MENU,data:{fileKey:o.key,targetRect:a}}))},[t,o,c]);if(null===o)return l.createElement(l.Fragment,null);let h=(0,rr.jN)({file:o,allowDefaulting:!0}),v=(e,a)=>{(0,aX.LP)(a.file?.key,e0.bk.FILE,a.sidebarSectionId??void 0,aX.vg,a.file?.editorType??void 0),(0,R.oJ)(e)?(t(Q.UN({fileKey:a.file?.key??"",entrypoint:aX.vg})),e.stopPropagation()):e.preventDefault(),a.file&&(m.Ay.redirect(h,"_blank"),t(Q.UN({fileKey:a.file.key,entrypoint:aX.vg})))},y=()=>{null!==o&&t(t3.qP({file:{key:o.key,editor_type:o.editorType??e0._Y.DESIGN},repoId:o.fileRepoId??void 0,entrypoint:"sidebar",favoriteId:e.favorite.id}))},b=(0,rT.o)({dispatch:t,currentOrgId:a,currentTeamId:r,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:e0.bk.FILE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,r)=>{if(a&&c){let a={entrypoint:"sidebar",sectionId:r,favoriteId:e.favorite.id,resourceType:e0.bk.FILE};t(t3.V1(a))}else a||null===o||y()}}),w=o?.name,T=(0,rk.AE)(w),I=d(e.favorite.file),C=T?rF(T):l.createElement(rR,{iconType:I}),x=T?(0,rk.Nn)(w,T):w,N=e.favorite.file?.project?.path,S=(0,X.S)(N),A=S?aY:"favorited_section--titleWithoutSubtitle--BXdOW ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd";return l.createElement(l.Fragment,null,l.createElement($.Z,{isSelected:e.isSelected,rowClassName:aW,showGrabber:e.showGrabber,onContextMenu:u||_?E:a=>{rp(e.favorite,a,t,ru.FAVORITED_FILE_CONTEXT_MENU)},onClick:t=>v(t,e.favorite),icon:C,text:""!==x?l.createElement(L.E,{truncate:!0,showTooltipWhenTruncated:!1},x):l.createElement(L.E,{truncate:!0},(0,k.tx)(e.favorite.file?.editorType==="whiteboard"?"sidebar.fig_jam_file":e.favorite.file?.editorType==="slides"?"sidebar.slides_file":"sidebar.design_file")),badge:e.isHover&&!(u||_)?l.createElement("div",{className:aB},l.createElement(rS.r,{favoriteType:e0.bk.FILE,resourceId:e.favorite.resourceId,favoriteId:e.favorite.id,size:rS.m.MEDIUM,setFavorite:y,orgId:e.favorite.orgId})):void 0,isFavoritesToMove:e.isFavoritesToMove}),!f&&!g&&l.createElement("div",{className:e.showPreviewDelay?aV:aH,style:{transform:`translateY(${-e.previewYOffset}px)`}},l.createElement("div",{className:aj},l.createElement(rN.NM,{file:o,noBorder:!0})),l.createElement("div",{className:a$},l.createElement(rx.oS,{svgOptions:{id:"sidebar-thumbnail"},className:az,type:I}),l.createElement("div",{className:aG},l.createElement("div",{className:A},e.favorite.file?.name),S&&l.createElement("div",{className:"favorited_section--subtitle--sQ1zI ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},S)))),(u||_)&&f&&o?.folderId&&l.createElement(rh,{favoritedFile:e.favorite,folderId:o.folderId,organizeFavoriteOptions:b}))}var rP=a(619942);let rD=e=>l.createElement("div",{className:aM},e);function rM(e){let t=(0,s.wA)(),a=e.favorite.project,r=(0,s.d4)(e=>e.currentTeamId),n=(0,s.d4)(e=>e.currentUserOrgId),i=(0,s.d4)(e=>e.favorites.collapsedCustomSections),o=(0,ak.S)(),c=(0,s.d4)(e=>e.dropdownShown),d=l.useMemo(()=>c&&c.type===ru.FAVORITED_PROJECT_CONTEXT_MENU&&c.data.projectId===a?.id,[c,a]),m=l.useCallback(e=>{if(!a)return;e.stopPropagation(),e.preventDefault();let r={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(z.j7({type:ru.FAVORITED_PROJECT_CONTEXT_MENU,data:{projectId:a.id,targetRect:r}}))},[t,a]),u=(0,rP.E)(),_=l.useCallback((e,a)=>{(0,aX.LP)(a.project?.id,e0.bk.FOLDER,a.sidebarSectionId??void 0,aX.vg),(0,p.kc)().enable_open_projects_in_new_tab?u(a.resourceId,e):t(Q.gN(a.resourceId))},[u,t]);if(!o||null==a)return null;let f=(0,rT.o)({dispatch:t,currentOrgId:n,currentTeamId:r,collapsedCustomSections:i,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:e0.bk.FOLDER,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(r,n)=>{let i={entrypoint:"sidebar",sectionId:n,folder:a,favoriteId:e.favorite.id};r?t(t3.Mv(i)):t(t3.jv(i))}}),g=(0,rk.AE)(a.path),E=g?(0,rk.Nn)(a.path,g):a.path;return l.createElement(l.Fragment,null,l.createElement($.Z,{rowClassName:aW,onContextMenu:m,isSelected:e.isSelected,onClick:t=>_(t,e.favorite),icon:g?l.createElement("div",null,rD(g)):l.createElement(eO.In,{icon:"folder-16"}),showGrabber:e.showGrabber,text:l.createElement(L.E,{truncate:!0},E),isFavoritesToMove:e.isFavoritesToMove}),d&&l.createElement(rb,{projectId:a.id,orgId:a.orgId,organizeFavoriteOptions:f}))}var rB=a(261902),rU=a(320733),rV=a(869381);function rH({thumbnailUrl:e,isLocked:t,...a}){return t?l.createElement(rB.N,{thumbnailType:rV.F.PROTOTYPE,...a}):l.createElement(rU.V,{thumbnailUrl:e,thumbnailType:rV.F.PROTOTYPE,...a})}let rW=l.createElement(rx.oS,{type:rx.y1.PROTOTYPE,size:rx.LE.SMALL});function rj(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.currentTeamId),r=(0,s.d4)(e=>e.currentUserOrgId),n=(0,s.d4)(e=>e.favorites.collapsedCustomSections),i=(0,s.d4)(e=>e.dropdownShown),o=l.useMemo(()=>i&&i.type===ru.FAVORITED_PROTOTYPE_CONTEXT_MENU&&i.data.resource.prototype.id===e.favorite.prototype?.id,[i,e.favorite.prototype]),c=l.useMemo(()=>i&&i.type===aO,[i]),d=(0,ak.S)();if(null===e.favorite.prototype)return l.createElement(l.Fragment,null);let u=(0,ri._3)(e.favorite.prototype.fileKey,e.favorite.prototype.file?.name,e.favorite.prototype.pageId),_=(e,t)=>{if((0,aX.LP)(t.prototype?.fileKey,e0.bk.PROTOTYPE,t.sidebarSectionId??void 0,aX.vg),(0,R.oJ)(e)){e.stopPropagation();return}e.preventDefault(),m.Ay.redirect(u,"_blank")},p=(a,r)=>{a||null===e.favorite.prototype||t(t3.X7({prototype:{file_key:e.favorite.prototype.fileKey,page_id:e.favorite.prototype.pageId},entrypoint:"sidebar",favoriteId:r}))},f=(0,rT.o)({dispatch:t,currentOrgId:r,currentTeamId:a,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:e0.bk.PROTOTYPE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,r)=>{if(a){let a={entrypoint:"sidebar",sectionId:r,favoriteId:e.favorite.id,resourceType:e0.bk.PROTOTYPE};t(t3.V1(a))}else p(!1,e.favorite.id)}});return l.createElement(l.Fragment,null,l.createElement($.Z,{isSelected:e.isSelected,rowClassName:aW,onContextMenu:a=>{rp(e.favorite,a,t,ru.FAVORITED_PROTOTYPE_CONTEXT_MENU)},showGrabber:e.showGrabber,onClick:t=>_(t,e.favorite),icon:rW,text:l.createElement(L.E,{truncate:!0,showTooltipWhenTruncated:!1},e.favorite.prototype.file?.name),badge:e.isHover&&!d?l.createElement("div",{className:aB},l.createElement(rS.r,{favoriteType:e0.bk.PROTOTYPE,resourceId:e.favorite.resourceId,favoriteId:e.favorite.id,size:rS.m.MEDIUM,setFavorite:p,orgId:e.favorite.orgId})):void 0,isFavoritesToMove:e.isFavoritesToMove}),!o&&!c&&l.createElement("div",{className:e.showPreviewDelay?aV:aH,style:{transform:`translateY(${-e.previewYOffset}px)`}},l.createElement("div",{className:aj},l.createElement(rH,{isLocked:!!e.favorite.prototype.file?.hasProtoLinkPassword&&e.favorite.prototype.file?.hasProtoLinkPassword,thumbnailUrl:e.favorite.prototype.thumbnailUrl,noBorder:!0})),l.createElement("div",{className:a$},l.createElement(rx.oS,{type:rx.y1.PROTOTYPE,className:az}),l.createElement("div",{className:aG},l.createElement("div",{className:aY},e.favorite.prototype.file?.name)))),d&&o&&e.favorite.prototype&&l.createElement(rw,{prototype:e.favorite.prototype,organizeFavoriteOptions:f}))}var r$=a(9821);function rG(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.currentUserOrgId),r=(0,s.d4)(e=>e.currentTeamId),n=(0,s.d4)(e=>e.favorites.collapsedCustomSections),i=(0,s.d4)(e=>e.dropdownShown),o=e.favorite.workspace,c=l.useMemo(()=>i&&i.type===ru.FAVORITED_WORKSPACE_CONTEXT_MENU&&i.data.workspaceId===o?.id,[i,o?.id]),d=l.useCallback((e,a)=>{let r=a.workspace;(0,aX.LP)(r?.id,e0.bk.WORKSPACE,a.sidebarSectionId??void 0,aX.vg),r&&t(z.$T({view:"workspace",subView:ad.V0.DIRECTORY,workspaceId:r.id,selectedTab:ad.dN.TEAMS}))},[t]),m=l.useCallback(e=>{if(!o)return;e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};t(z.j7({type:ru.FAVORITED_WORKSPACE_CONTEXT_MENU,data:{workspaceId:o.id,targetRect:a}}))},[t,o]);if(!a||null===o)return l.createElement(l.Fragment,null);let u=(0,rT.o)({dispatch:t,currentOrgId:a,currentTeamId:r,collapsedCustomSections:n,isFavorited:!0,resourceId:e.favorite.resourceId,resourceType:e0.bk.WORKSPACE,currentSectionId:e.favorite.sidebarSectionId??void 0,sections:e.sections,updateFavorite:(a,r)=>{let n={workspace:{id:o.id,name:o.name??"",imgUrl:e.favorite.workspace?.imgUrl??null},entrypoint:"sidebar",sectionId:r,favoriteId:e.favorite.id};a?t(t3.ZW(n)):t(t3.if(n))}}),_=e.favorite.workspace?l.createElement(a_.z6,{entity:e.favorite.workspace,size:16}):l.createElement(H.B,{svg:r$.A,className:S.cx.colorIcon.$});return l.createElement(l.Fragment,null,l.createElement($.Z,{isSelected:e.isSelected,showGrabber:e.showGrabber,rowClassName:aW,onClick:t=>d(t,e.favorite),onContextMenu:m,icon:_,text:l.createElement(L.E,{truncate:!0}," ",o.name)}),c&&l.createElement(ry,{workspaceId:o.id,orgId:e.favorite.orgId,organizeFavoriteOptions:u}))}var rY=a(408409);let rz=(e,t)=>{let a=e.cloneNode(!0),r=document.createElement("div");return r.className="favorited_generic_row--favorite--vFcy4 favorited_generic_row--_favorite--jiaJX sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd",Object.assign(r.style,{position:"absolute",top:"-100%",left:"-100%",width:`${e.clientWidth}px`,height:`${e.clientHeight}px`,overflow:"hidden",zIndex:-1}),t&&(a.classList.add(t),a.classList.add(S.cx.colorText.$)),r.appendChild(a),document.body.appendChild(r),r};function rQ(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dragState),[r,n]=l.useState(!1),i=e.favorite.resourceType,o=(0,ee._6)(),[c,d]=l.useState(!1),m=e.rearrangeDragState?.draggedOverFavoriteId===e.favorite.resource.id&&!c,[u,_]=l.useState(!1),p=l.useRef(null),f=(0,ak.S)(),g=r&&!f,E=e.isSelected||(()=>{switch(i){case e0.bk.FOLDER:return"folder"===o.view&&o.folderId===e.favorite.resource.resourceId;case e0.bk.TEAM:return"team"===o.view&&o.teamId===e.favorite.resource.resourceId;case e0.bk.WORKSPACE:return"workspace"===o.view&&o.subView===ad.V0.DIRECTORY&&o.workspaceId===e.favorite.resource.resourceId;default:return!1}})();return l.createElement("div",{className:m?e.rearrangeDragState?.dropBefore?"favorited_generic_row--dropBefore--xZvBN sidebar--dropBefore--wZDYO":e.rearrangeDragState?.dropInto?"favorited_generic_row--dropInto--VKuX5":"favorited_generic_row--dropAfter--a64Ax sidebar--dropAfter--JEX7d":void 0},l.createElement(U.Y,{key:e.favorite.resource.resourceId,isDragTarget:e=>{let t=new q.le(e);return d(t.isFile()),a.type!==et.R.SidebarSection&&!t.isFile()},onTargetDragEnter:(t,r)=>{let n=new q.le(t),i=!1;(a.type===et.R.Favorite||n.isFigFiles()||n.isRepos()||n.isPrototypes()||n.isTiles())&&((n.isFigFiles()||n.isRepos()||n.isTiles())&&(i=e.favorite.resourceType===e0.bk.FOLDER),e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:i?r.upperQuarter:r.upper,dropInto:i&&r.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId}),_(i))},onTargetDragLeave:t=>{let r=new q.le(t);(a.type===et.R.Favorite||r.isFigFiles()||r.isRepos()||r.isPrototypes()||r.isTiles()&&m)&&(e.clearRearrangeDragState(e.favorite.resource.id),_(!1))},onTargetDrop:r=>{let n=new q.le(r);if(e.rearrangeDragState?.dropInto&&e.favorite.resourceType===e0.bk.FOLDER&&e.favorite.resource.project)(0,rY.A)(t,e.favorite.resource.project,e.favorite.resource.project.team,n),t(Y.T());else if(n.isFigFiles()||n.isRepos()||n.isPrototypes()||n.isTiles())e.onSetResourceFavoriteDragDrop(r);else if(a.type===et.R.Favorite&&m){let r=a.data;e.reorderOrInsertFavorite(r.resource.id,r.resourceType),t(Y.T())}e.clearRearrangeDragState(e.favorite.resource.id),_(!1)},onTargetDragQuadrantUpdate:t=>{e.updateRearrangeDragState({draggedOverFavoriteId:e.favorite.resource.id,dropBefore:u?t.upperQuarter:t.upper,dropInto:u&&t.middleVerticalHalf,draggedOverSectionId:e.favorite.resource.sidebarSectionId})},draggable:!1},l.createElement("div",{onMouseEnter:()=>{e.preventHoverStyle||n(!0)},onMouseLeave:()=>{e.setShowPreviewDelay(!1),n(!1)},onDragStart:a=>{a.dataTransfer.effectAllowed="move";let r=new q.le(a.dataTransfer);r.setArbitraryData(e.favorite.resource.id);let n=a.currentTarget.firstElementChild;if(null===n)return;let i=n.getBoundingClientRect(),o=a.clientX-i.left,l=a.clientY-i.top;p.current=rz(n,"favorited_generic_row--draggable--QinZd"),r.setDragImage(p.current,o,l),t(Y.v({type:et.R.Favorite,data:e.favorite}))},onDragEnd:a=>{p.current&&p.current.remove(),t(Y.T()),e.clearRearrangeDragState(e.favorite.resource.id),_(!1)},draggable:!e.isFavoritesToMove},(()=>{switch(i){case e0.bk.FILE:return l.createElement(rO,{favorite:e.favorite.resource,isHover:r,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case e0.bk.PROTOTYPE:return l.createElement(rj,{favorite:e.favorite.resource,isHover:r,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case e0.bk.FOLDER:return l.createElement(rM,{favorite:e.favorite.resource,isHover:r,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections,isFavoritesToMove:e.isFavoritesToMove});case e0.bk.TEAM:return l.createElement(rC,{favorite:e.favorite.resource,isHover:r,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections});case e0.bk.WORKSPACE:return l.createElement(rG,{favorite:e.favorite.resource,isHover:r,showGrabber:g,isSelected:E,previewYOffset:e.previewYOffset,showPreviewDelay:e.showPreviewDelay,sections:e.sections});default:(0,x.assertNever)(i)}})())))}var rK=a(949207),rq=a(432023),rZ=a(604771),rX=a(501191);function rJ(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.currentTeamId),r=function(){let e=(0,s.d4)(e=>e.dropdownShown),t=(0,s.d4)(e=>e.currentUserOrgId),a=(0,s.d4)(e=>e.currentTeamId),r=(0,p.kc)().ps_benchmark&&a;return!e||e?.type!=="favorited-file-context-menu"&&e?.type!=="favorited-prototype-context-menu"||t||r?null:e}(),n=(0,eq.sZ)(),i=n?.id??null,o=(0,eQ.sb)(e.favorites,e.order),c=(0,ee._6)(),[d,m]=l.useState(!1),u=(0,s.d4)(e=>e.favorites.movingResource),f=(0,ak.S)(),g=(0,s.d4)(e=>e.favorites.collapsedCustomSections),E=f&&e.section?!g.has(e.section?.id):!g.has("favorited"),[h,v]=l.useState(!1),[y,b]=l.useState(),[w,T]=l.useState(),I=(0,s.d4)(e=>e.dragState),C=(0,_.ZC)(I);l.useEffect(()=>{I.type===et.R.None&&C&&C.type!==et.R.None&&T(void 0)},[I,C]),l.useEffect(()=>{!e.isCurrentHoveredSection&&I.type===et.R.SidebarSection&&w&&T(void 0)},[e.isCurrentHoveredSection,w,I]);let[x,N]=l.useState(void 0),[L,A]=l.useState(!0),R=l.useRef(null),F=aP();l.useEffect(()=>{x===w?.draggedOverFavoriteId&&T(void 0),N(void 0)},[w,T,x,N]);let O=l.useCallback(a=>{e.section?.id&&(a.dataTransfer.effectAllowed="move",new q.le(a.dataTransfer).setArbitraryData(e.section.id),t(Y.v({type:et.R.SidebarSection,data:e.section.id})))},[t,e.section]),P=l.useCallback(()=>{(0,aX.xs)(!E);let a=new Set(g);f&&e.section?(t7.Fp({type:"topLevel",id:"custom",orgId:i,sectionId:e.section?.id},!E),E?a.add(e.section.id):a.delete(e.section.id)):(t7.Fp({type:"topLevel",id:"favorited",orgId:i},!E),E?a.add("favorited"):a.delete("favorited")),t(t3.U6({collapsedCustomSections:a}))},[E,i,e.section,g,f,t]),M=(a,r)=>{let n;let i=o.map(e=>e.resource.id);if(!w?.draggedOverFavoriteId)return i;let l=-1!==i.indexOf(a);if(l)n=(0,B.moveItem)(i,a,w.draggedOverFavoriteId,w.dropBefore);else{let e=i.indexOf(w.draggedOverFavoriteId);w.dropBefore||(e+=1),n=[...i.slice(0,e),a,...i.slice(e)]}if((0,aX.hp)(),b(a),e.section?.id){l?t(t3.vg({sectionId:e.section.id,orderedFavoriteIds:n})):t(t3.V1({favoriteId:a,sectionId:e.section.id,resourceType:r,orderedFavoriteIds:n}));return}l||t(t3.V1({favoriteId:a,sectionId:void 0,resourceType:r})),t(tT.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:n,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds},userInitiated:!0}))},W=l.useCallback(e=>{e.stopPropagation(),y&&b(void 0)},[y]),j=l.useCallback(()=>{A(!0)},[]),$=l.useCallback(e=>{let t=new q.le(e);return m(t.isFile()),t.isFigFiles()||t.isRepos()||t.isPrototypes()||t.isTiles()},[]),G=r=>{let n=new q.le(r),l=[],s=[],d=[];if(v(!1),n.isFigFiles()){if(!(l=n.getData()))return!1}else if(n.isPrototypes()){if(!(d=n.getData()))return!1}else if(n.isRepos()){let e=n.getReposData();if(!e)return!1;s=e.repos}else if(n.isTiles()){let e=n.getTilesData();if(!e)return!1;l=e.files,s=e.repos,d=e.prototypes}l=l.filter(e=>!e.is_favorited),s=s.filter(e=>!e.is_favorited),d=d.filter(e=>!e.is_favorited);let m=o.map(e=>e.resource.id),u=l.length+s.length+d.length,_=(0,eQ.kK)(i);if(u+o.length>_)return t(aJ.F.enqueue({message:(0,k.t)("tile.favoriting.max_favorites",{maxFavorites:_})})),!1;let p=null;return w&&(p=m.indexOf(w.draggedOverFavoriteId)+(w.dropBefore?0:1)),t(t3.N9({files:l,repos:s,prototypes:d,orgId:i,teamId:a,selectedView:c.view,entrypoint:"sidebar",insertAtIndex:p,orderedFavorites:m,sectionId:e.section?.id,fileBrowserPrefs:e.fileBrowserPreferences})),!0},Q=l.useCallback(()=>{v(!0)},[]),K=l.useCallback(()=>{v(!1)},[]),Z=D()([S.cx.relative.$,"favorited_section--showsCaret--vjo7-",h||w?.draggedOverSectionId&&e.section&&!d&&w.draggedOverSectionId===e.section.id?aU:""]),X=f?e.section?.name===""||e.section?.name===void 0?(0,k.tx)("sidebar.starred"):e.section.name:(0,k.tx)("sidebar.favorite_files"),J=F?.data?.customSection?.id===e.section?.id,ea=e.isCreatingNewSection||e.isRenaming,er=D()({"favorited_section--sectionHeaderContainer--otgqF sidebar--sectionHeaderContainer--TcvBb sidebar--sectionHeaderName--xToHG sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa":!0,"favorited_section--actionButtonsVisibleOnHover--AOJ8E":!ea,"favorited_section--actionButtonsVisible--Ey4QI":J&&!ea}),en=e.section?.name===void 0?(0,k.t)("sidebar.new_section"):(0,eQ.R3)(e.section)?(0,k.t)("sidebar.starred"):e.section.name;return l.createElement(U.Y,{className:Z,isDragTarget:$,draggable:!1,onTargetDrop:G,onTargetDragEnter:Q,onTargetDragLeave:K},l.createElement("div",null,l.createElement("div",{draggable:!0,onDragStart:O,className:er,onClick:P,onContextMenu:a=>{a.stopPropagation(),a.preventDefault();let r={top:a.clientY,right:a.clientX,bottom:a.clientY,left:a.clientX,width:1,height:1};t(z.j7({type:aO,data:{customSection:e.section,favoritesCount:o.length,isFromRightClick:!0,targetRect:r}}))},role:"button",tabIndex:0},l.createElement(H.B,{className:f?"favorited_section--expandCaretCustomSections--SUjwA":"favorited_section--expandCaret--LgAK5 sidebar--expandCaret--eXGWm",svg:E?rK.A:rq.A}),l.createElement("div",{className:"favorited_section--sectionName--PrU2k ellipsis--ellipsis--Tjyfa","data-onboarding-key":1===e.allSections.length?null:"FAVORITES_ONBOARDING_KEY"},e.isRenaming?l.createElement(V.p,{className:"favorited_section--input--8x-Vh",placeholderValue:en,submit:a=>{e.isCreatingNewSection?(u?t(t3.yH({name:a,insertAtIndex:e.sectionIndex,currentOrderedSections:e.allSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0,newResourceForSection:u})):t(t3.YI({name:a,insertAtIndex:e.sectionIndex,currentOrderedSections:e.allSections.map(e=>e.id),prefs:e.fileBrowserPreferences??void 0})),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0)):e.section&&(t(t3.vg({sectionId:e.section.id,name:a.trim()})),e.setRenamingSectionId&&e.setRenamingSectionId(void 0))},cancel:()=>{e.isCreatingNewSection?(e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(void 0),u&&t(t3.to({movingResource:void 0}))):e.setRenamingSectionId&&e.setRenamingSectionId(void 0)},maxLength:25}):X),i&&l.createElement("div",{className:"favorited_section--actionButtons--VZ6Er"},l.createElement("div",{role:"button",tabIndex:0,className:aQ,"data-tooltip-max-width":200,ref:R,onClick:a=>{F?t(z.oB()):R.current&&t(z.j7({type:aO,data:{targetRect:R.current.getBoundingClientRect(),customSection:e.section,favoritesCount:o.length}})),a.stopPropagation(),a.preventDefault()},onContextMenu:e=>e.stopPropagation()},l.createElement(H.B,{svg:rZ.A,className:aK})),l.createElement(r0,{newCustomSectionIndex:e.sectionIndex,setNewCustomSectionIndex:e.setNewCustomSectionIndex})))),l.createElement("div",{className:E?void 0:S.cx.hidden.$},(()=>{if(0===o.length){let t=1===e.allSections.length&&(0,eQ.R3)(e.allSections[0]);return f||e.isCreatingNewSection?f&&t&&!e.isCreatingNewSection?l.createElement(aq,{setNewCustomSectionIndex:e.setNewCustomSectionIndex}):l.createElement(l.Fragment,null):l.createElement(r1,{setNewCustomSectionIndex:e.setNewCustomSectionIndex})}return l.createElement("div",{onMouseMove:W,onMouseLeave:j},o.map(t=>{let a=y===t.resource.id||t.resource.resourceId===r?.data?.resource.resourceId;return l.createElement(rQ,{key:t.resource.resourceId,favorite:t,isSelected:a,onSetResourceFavoriteDragDrop:G,reorderOrInsertFavorite:M,clearRearrangeDragState:N,updateRearrangeDragState:T,rearrangeDragState:w,previewYOffset:e.previewYOffset,showPreviewDelay:L,setShowPreviewDelay:A,sections:e.allSections,preventHoverStyle:void 0!==y})}),r&&l.createElement(rE,{dropdownShown:r}))})()))}function r0(e){return l.createElement("div",{role:"button",tabIndex:0,className:aQ,"data-tooltip-max-width":200,"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":(0,k.t)("favorited_resources.create_a_new_section_tooltip"),onClick:t=>{t.stopPropagation(),e.setNewCustomSectionIndex&&e.setNewCustomSectionIndex(e.newCustomSectionIndex)},onContextMenu:e=>e.stopPropagation()},l.createElement(H.B,{svg:rX.A,className:aK}))}function r1(e){return l.createElement("div",{className:"favorited_section--favoritedSectionEmptyState--Xhxgt sidebar--emptySection--SKfhv sidebar--sidebarSection---c9jn text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.tx)("sidebar.to_favorite_files_you_use_often"))}function r2(e){let t=(0,eQ.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces);return l.createElement(rJ,{favorites:t,order:e.fileBrowserPreferences?.orderedFavoritedResourceIds??void 0,fileBrowserPreferences:e.fileBrowserPreferences,isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,allSections:e.userSidebarSections??[],sectionIndex:0,previewYOffset:e.previewYOffset})}function r4(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dragState),r=(0,s.d4)(e=>e.favorites.newCustomSectionIndex),n=(0,s.d4)(e=>e.favorites.favoritesCount),i=(0,eQ.ds)(e.favoritedFiles,e.favoritedPrototypes,e.favoritedProjects,e.favoritedTeams,e.favoritedWorkspaces),[o,c]=l.useState(),[d,m]=l.useState(),[u,_]=l.useState(!1),p=(0,ak.S)(),f=l.useMemo(()=>(0,eQ.t$)(e.userSidebarSections??[],e.fileBrowserPreferences?.orderedSidebarSections??void 0),[e.userSidebarSections,e.fileBrowserPreferences?.orderedSidebarSections]);l.useMemo(()=>{n&&n<15&&i.length>=15&&(0,aS.YQ)({id:tY.FAVORITES_COUNT_CROSSED_THRESHOLD_EVENT}),t(t3.lF({favoritesCount:i.length}))},[n,i.length,t]);let g={},E=[];i.forEach(e=>{e.resource.sidebarSectionId?g[e.resource.sidebarSectionId]?g[e.resource.sidebarSectionId].push(e):g[e.resource.sidebarSectionId]=[e]:E.push(e)});let h=l.useCallback(()=>a.type===et.R.Favorite||a.type===et.R.SidebarSection,[a]),v=l.useCallback(e=>{a.type===et.R.SidebarSection&&_(e.upper)},[a]),y=l.useCallback(()=>{let r="starred"===o?void 0:o;if(a.type===et.R.Favorite){let e=a.data;t(t3.V1({favoriteId:e.resource.id,sectionId:r,resourceType:e.resourceType}))}else if(a.type===et.R.SidebarSection&&r){let n=f.map(e=>e.id)??[],i=(0,B.moveItem)(n,a.data,r,u);t(tT.yJ({prefs:{id:e.fileBrowserPreferences?.id||"optimistic-id",orderedFavoritedResourceIds:e.fileBrowserPreferences?.orderedFavoritedResourceIds,orderedTeamIds:e.fileBrowserPreferences?.orderedTeamIds,orderedLicenseGroupIds:e.fileBrowserPreferences?.orderedLicenseGroupIds,orderedSidebarSections:i},userInitiated:!0}))}_(!1),c(void 0),t(Y.T())},[o,t,a,u,f,e.fileBrowserPreferences]),b=l.useCallback(e=>()=>{c(e)},[]),w=l.useCallback(()=>{c(void 0)},[]),T=l.useCallback(e=>{t(t3.pS({newCustomSectionIndex:e}))},[t]);if(0===f.length&&p&&void 0===r)return l.createElement(aZ,{setNewCustomSectionIndex:T});let I=l.createElement("div",{className:S.cx.mb8.$},l.createElement(rJ,{favorites:[],order:[],allSections:f,isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,isRenaming:!0,setRenamingSectionId:m,sectionIndex:r||0,isCreatingNewSection:!0,setNewCustomSectionIndex:T,fileBrowserPreferences:e.fileBrowserPreferences,previewYOffset:e.previewYOffset}));return l.createElement("div",{className:S.cx.mt8.$},0===r&&I,f.map((t,n)=>{let i=a.type===et.R.Favorite?aU:u?"favorited_section--dropBefore--6poyi sidebar--dropBefore--wZDYO":"favorited_section--dropAfter--7G6L7 sidebar--dropAfter--JEX7d",s=D()([o===t.id?i:"",S.cx.mb8.$]);return l.createElement("div",{key:t.id},l.createElement(U.Y,{className:s,isDragTarget:h,draggable:!1,onTargetDragQuadrantUpdate:v,onTargetDrop:y,onTargetDragEnter:b(t.id),onTargetDragLeave:w},l.createElement(rJ,{favorites:g[t.id]??[],sectionIndex:n,section:t,allSections:f,order:t.orderedFavoritedResourceIds??[],isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,isRenaming:d===t.id,setRenamingSectionId:m,setNewCustomSectionIndex:T,previewYOffset:e.previewYOffset,isCurrentHoveredSection:o===t.id})),r===n+1&&I)}),p&&l.createElement(aD,{setRenamingSectionId:m}))}var r8=a(768137),r3=a(372038),r5=a(660656),r9=a(838329),r6=a(585878),r7=a(533600);let ne=(0,aL.Ju)(function(e){let[t,a]=(0,l.useState)(null),r=(0,s.wA)(),n=(0,r3.Gs)(),i=(0,eJ.TA)(),o=(0,s.d4)(e=>e.teamUserByTeamId),c=(0,s.d4)(e=>i?e.authedUsers.byId[i]?.plans?.filter(e=>!e.is_org):null),d=(0,k.t)("file_browser.planless_favorites.add_favorites_to_modal_title"),m=()=>r(e$.Ce()),u={};i&&(0,r9._)(o,i).forEach(e=>{e.drafts_folder_id&&(u[e.team_id]=e.drafts_folder_id)});let _=(e,t)=>{t&&r(r5.C({files:e,folderName:"",folderId:t,isDraftsToMove:!0,fromFileModal:!0}))};return l.createElement(r6.XV,{title:d,fixedTop:!0,minWidth:480,maxWidth:480,onClose:m,truncateTitleText:!0},l.createElement("div",{className:"move_favorites_modal--modalBody---Rdx2"},c&&l.createElement(tD.P,{width:480},l.createElement("div",{className:S.cx.pl8.pr8.$},c.map(e=>l.createElement(nt,{key:e.plan_id,planId:e.plan_id,name:e.name,imgUrl:e.img_url,checked:t?.plan_id===e.plan_id,onSelect:()=>a(t?.plan_id===e.plan_id?null:e)})))),l.createElement("div",{className:"move_favorites_modal--footer--ERUeX"},l.createElement(tF.nR,{onClick:m},(0,k.tx)("modal.cancel")),l.createElement(tF.vd,{disabled:!t,onClick:()=>{let a=t?.is_org?null:t?.plan_id,i=e.favorites.reduce((e,t)=>t.resourceType===e0.bk.FILE&&t.resource.file?.key?{...e,[t.resource.file?.key]:!0}:e,{}),o={},l=n.filter(e=>{let t=!!i[e.key];return t&&(o[e.key]=!0),t}),s=e.favorites.filter(e=>!(e.resourceType===e0.bk.FILE&&e.resource.file?.key)||!o[e.resource.file?.key]).map(e=>e.resource.id);r(t3.Ic({favoriteIds:s,teamId:a})),a&&_(l,u[a]),m()}},(0,k.t)("modal.confirm")))))},"MoveFavoritesModal");function nt(e){return l.createElement("button",{"data-testid":`${e.name}-button`,className:D()("move_favorites_modal--teamRow--qNRGf",e.checked?S.cx.colorBgSelected.$:""),onClick:e.onSelect},l.createElement("div",{className:"move_favorites_modal--iconContainer--oDATP"},e.checked?l.createElement(H.B,{className:S.cx.colorIcon.$,svg:r7.A}):l.createElement(es.nl,{size:es.Pf.MEDIUM,shape:"CIRCLE",fallbackDisplay:ec.U.HIDDEN,team:{id:e.planId,imgUrl:e.imgUrl}})),l.createElement("div",{className:"move_favorites_modal--teamName--pVqcu ellipsis--ellipsis--Tjyfa"},l.createElement("span",{className:"move_favorites_modal--destinationHeading--mwxLX"},e.name)))}var na=a(842232);let nr="favorited_drafts_to_move";function nn(e){let t=(0,s.wA)(),[a,r]=l.useState(!0),n=(0,s.d4)(e=>e.favorites.collapsedCustomSections),i=e.teamUser?.planlessFavoritedFiles?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedFilesKeySet.has(t.resourceId)),o=e.teamUser?.planlessFavoritedPrototypes?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedPrototypesIdSet.has(t.resourceId)),c=e.teamUser?.planlessFavoritedProjects?.filter(t=>!e.dataDriftCorrectedTeamResources?.favoritedFoldersIdSet.has(t.resourceId)),d=(0,eQ.ds)(i,o,c),m=!n.has(nr),u=l.useCallback(()=>{t7.Fp({type:"topLevel",id:nr,orgId:null},!m),m?n.add(nr):n.delete(nr),t(t3.U6({collapsedCustomSections:n}))},[m,n,t]),_=l.useCallback(()=>{t(t3.vr({favoriteIds:d.map(e=>e.id)}))},[t,d]);if(0===d.length)return l.createElement(l.Fragment,null);let p=d.map(t=>l.createElement(rQ,{key:t.resource.resourceId,favorite:t,isSelected:!1,onSetResourceFavoriteDragDrop:g.lQ,reorderOrInsertFavorite:g.lQ,updateRearrangeDragState:g.lQ,clearRearrangeDragState:g.lQ,rearrangeDragState:void 0,previewYOffset:e.previewYOffset,showPreviewDelay:a,setShowPreviewDelay:r,sections:[],preventHoverStyle:!1,isFavoritesToMove:!0}));return l.createElement(l.Fragment,null,l.createElement("div",{className:"favorited_section--divider--o9WjE favorited_section--divider--o9WjE"}),l.createElement("div",{className:D()("favorited_section--moveFavoritesContainer--qp39R",S.cx.pt4.pb4.ml8.mr8.mb8.$)},l.createElement("div",{className:D()(S.cx.flex.itemsCenter.justifyBetween.pl8.pr8.$,"favorited_section--favoriteToMoveHeaderContainer--2RB9p favorited_section--sectionHeaderContainer--otgqF sidebar--sectionHeaderContainer--TcvBb sidebar--sectionHeaderName--xToHG sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa")},l.createElement("div",{onClick:u,className:S.cx.flex.itemsCenter.justifyBetween.$,role:"button",tabIndex:0},l.createElement(H.B,{className:D()(S.cx.flex.itemsCenter.p6.mr12.colorIcon.$,"favorited_section--moveFavoritesContainerHeaderLeftBlockItems--pl1Hf"),svg:m?rK.A:rq.A}),(0,k.tx)("sidebar.move_these_starred_items"),l.createElement(H.B,{svg:na.A,className:D()("favorited_section--helpIcon--vfl5Y",S.cx.flex.itemsBaseline.ml4.$),"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":(0,k.t)("file_browser.planless_favorites.your_favorited_items_tooltip"),"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200})),m?null:l.createElement(el.Ex,{text:d.length>99?"99+":`${d.length}`,color:el.zE.DEFAULT,className:S.cx.mr8.colorText.colorBgSelectedSecondary.$})),m?l.createElement("div",{className:"favorited_section--favoritesToMoveContentContainer--xYv6p"},p,l.createElement("div",{className:S.cx.flex.justifyBetween.m8.h24.$},l.createElement(r8.$$,{className:"favorited_section--favoritesToMoveActionButtons--FUt77",onClick:()=>{t(e$.to({type:ne,data:{favorites:d}}))}},(0,k.tx)("file_browser.planless_favorites.add_to_sidebar")),l.createElement(r8.nR,{className:"favorited_section--unstarAllButton--Rhy3- favorited_section--favoritesToMoveActionButtons--FUt77",onClick:_},(0,k.tx)("file_browser.planless_favorites.unstar_all")))):null))}function ni(e){let t=(0,s.d4)(e=>e.currentTeamId),a=(0,s.wA)();return t?l.createElement($.Z,{isSelected:e.selectedView&&"limitedTeamSharedProjects"===e.selectedView.view,onClick:()=>{a(Q.eP()),a(z.Oe({clickedResourceType:"limitedTeamSharedProjects"}))},icon:l.createElement(eO.In,{icon:"grid-32"}),text:l.createElement(L.E,{truncate:!0},(0,k.tx)("sidebar.all_shared_projects"))}):null}var no=a(11861);function nl(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dragState),r=(0,eq.dq)(),[n,i]=l.useState(null),[o,c]=l.useState(!1),d=l.useRef(null),m=(r,n)=>{a.type!==et.R.Team&&console.error("Expected Team");let i=a.data;if(!i)return;let o=i.id,l=n.upper,s=(0,tQ.n$)(e.sidebarData?.teamRoles?.map(e=>e.team)?.filter(e=>!!e)||[],e.sidebarData?.fileBrowserPreferences?.orderedTeamIds||[]),c=(0,B.moveItem)(s,o,r,l),d=e.sidebarData?.fileBrowserPreferences?.orderedFavoritedResourceIds;c!==s&&t(tT.yJ({prefs:{id:e.sidebarData?.fileBrowserPreferences?.id||"optimistic-id",orderedTeamIds:c,orderedFavoritedResourceIds:d,orderedLicenseGroupIds:e.sidebarData?.fileBrowserPreferences?.orderedLicenseGroupIds},userInitiated:!0}))},u=(e,a)=>{a.dataTransfer.effectAllowed="move";let r=new q.le(a.dataTransfer);r.setArbitraryData(e),d.current&&r.setDragImage(d.current),t(Y.v({type:et.R.Team,data:e})),a.stopPropagation()},_=()=>{t(Y.T())},p=()=>(!(e.isEnterpriseSidenavEnabled&&a.data?.licenseGroupId)||a.data.licenseGroupId===e.licenseGroup?.id)&&a.type===et.R.Team,f=e=>{a.type===et.R.Team&&i(e)},g=e=>{c(e.upper)},E=e=>{i(t=>t===e?null:t)},h=(e,t)=>{m(e,t),i(null)},v=1!==e.orderedTeams.length;return l.createElement(l.Fragment,null,l.createElement("div",null,e.orderedTeams.map((t,a)=>l.createElement(U.Y,{key:t.id,className:n===t.id?o?"sidebar--dropBefore--wZDYO":"sidebar--dropAfter--JEX7d":"",isDragTarget:p,onTargetDragEnter:()=>f(t.id),onTargetDragQuadrantUpdate:g,onTargetDragLeave:()=>E(t.id),onTargetDrop:(e,a)=>h(t.id,a),draggable:v,onDragStart:e=>u(t,e),onDragEnd:_},l.createElement(tb,{key:t.id,team:t,sidebarData:e.sidebarData,projectsByTeam:e.projectsByTeam,onboardingKey:0===a?tY.TEAM_FILES_ONBOARDING_KEY:void 0,licenseGroup:e.licenseGroup}))),l.createElement("div",{className:"sidebar--dragImage--HwlFW",ref:d})),!(0,eQ.D6)(r)&&e.contextSelectedFolder&&l.createElement(no.p,{folder:e.contextSelectedFolder,onRenameClick:e.onFolderRenameClick}))}function ns(){let e=(0,s.d4)(e=>e.currentUserOrgId),t=(0,s.d4)(t=>e?t.orgById[e]:null),a=(0,aa.c4)(e).data??!1;return t&&e?a?(0,k.t)("sidebar.browse.all_workspaces"):(0,k.t)("sidebar.browse.all_teams"):null}function nc(){let e=ns();return l.createElement(l.Fragment,null,e)}var nd=a(499893);function nm(){let e=(0,s.wA)(),t=(0,s.d4)(e=>e.currentUserOrgId),a=(0,s.d4)(e=>e.selectedView),r=(0,ak.S)(),n=(0,s.d4)(e=>t?e.orgById[t]:null),i="org"===a.view&&a.orgId===t,o=ns();return n&&t&&o?l.createElement($.Z,{isSelected:i,onClick:()=>{e(z.$T({view:"org",orgId:t,orgViewTab:tK.X.HOME})),e(z.Oe({clickedResourceType:"org",resourceIdOrKey:t}))},icon:l.createElement(H.B,{className:S.cx.colorIcon.$,svg:r?r$.A:nd.A}),text:l.createElement(L.E,{truncate:!0},o)}):null}var nu=a(807749),n_=a(675678),np=a(915440),nf=a(408462),ng=a(279453),nE=a(74592),nh=a(799569);function nv(){return l.createElement("div",{className:"base_upgrade_section--divider--k-uOp sidebar--divider--sHsz4"})}function ny(e){return l.createElement(eG.fu,{name:e.trackingContext,properties:e.trackingProperties},l.createElement("div",{className:e.demure?"base_upgrade_section--contentMindful--eOyhd base_upgrade_section--content--95XrT":"base_upgrade_section--content--95XrT"},e.onDismiss&&l.createElement(nh.Jn,{className:"base_upgrade_section--closeButton--cbjWt",onClick:e.onDismiss}),e.header&&l.createElement("div",{className:S.cx.wFull.if(e.demure,S.cx.font13.lh24,S.cx.mb12).$},e.header,!e.demure&&l.createElement(nv,null)),e.svg&&l.createElement(H.B,{className:`base_upgrade_section--icon--B3S9V ${e.svgStyles??""}`,svg:e.svg}),e.countDownDaysLeft&&l.createElement("div",{className:"base_upgrade_section--countdownTicker--6YLVt"},l.createElement(L.E,{children:e.countDownDaysLeft,fontWeight:"medium",fontSize:14})),l.createElement("div",{className:e.demure?"base_upgrade_section--textContainerMindful--CttjJ":"base_upgrade_section--textContainer--ObHaO"},e.titleText&&l.createElement("p",{className:"base_upgrade_section--title--MLhT1"},e.titleText),l.createElement("p",null,e.bodyText)),l.createElement(tF.vd,{className:"base_upgrade_section--ctaButton--B1ywj",onClick:e.onClickCTA,dataTestId:e.ctaDataTestId,disabled:e.disabled,trackingProperties:e.ctaTrackingProperties},e.ctaText)))}let nb="upgrade_section--upgradeTextEmphasized--aQCr9";var nw=a(491095),nT=a(247866),nI=(e=>(e[e.UPGRADE=0]="UPGRADE",e[e.CREATE=1]="CREATE",e))(nI||{});function nC(e){let t=(0,s.wA)(),a=l.createElement("span",{className:nb},(0,k.t)("edu.sidebar_section.verified"));return l.createElement(ny,{trackingContext:0===e.type?"Edu Upgrade Section":"Edu Create Section",svg:nw.A,bodyText:l.createElement(l.Fragment,null,a," ",0===e.type?(0,k.t)("edu.sidebar_section.upgrade"):(0,k.t)("edu.sidebar_section.create_team")),ctaText:0===e.type?(0,k.t)("edu.choose_team"):(0,k.t)("edu.create_free_team"),onClickCTA:0===e.type?()=>{t((0,e$.to)({type:nf.q}))}:()=>{t(Q.Dw({isEduTeam:!0}))},onDismiss:()=>{t(t5.b({dismissed_edu_sidebar:!0}))},ctaDataTestId:"edu-upgrade-cta"})}function nx({daysLeft:e}){let t=(0,s.wA)(),a=(0,np.Rs)(ng.UpR,{},{enabled:!(0,p.kc)().edu_bootcamps_reverification}),r=(0,eP.H5)(),n=!!(0,tz.f)("edu_hide_verification");if((0,p.kc)().edu_bootcamps_reverification||(n=(a.data?.currentUser?.schoolType?.status===tR.tT.Loaded?a.data.currentUser.schoolType.data:null)===nE.h6.BOOTCAMP_OR_ONLINE&&r()),e<0)return null;let i=()=>{t((0,e$.to)({type:ed.V,data:{upsellSource:e8.b.EDU_UPGRADE_SECTION}}))},o=l.createElement(tF.eM,{onClick:()=>m.Ay.redirect("/education/apply",E.Ay.isIpadNative?void 0:"_blank")},(0,k.tx)("edu.sidebar_section.verify_your_education_status"));return e>0?l.createElement(ny,{trackingContext:"Universal Upgrade Section Education Plan Countdown",countDownDaysLeft:e,titleText:(0,k.tx)("edu.sidebar_section.education_plan_expires_in_days",{daysLeft:e}),bodyText:n?(0,k.tx)("edu.sidebar_section.bootcamp_users_after_that_you_ll_need_to_upgrade_your_team"):(0,k.tx)("edu.sidebar_section.after_that_you_ll_need_to_upgrade_your_team_or_verify",{verify:o}),ctaText:(0,k.tx)("upgrade.upgrade_to_professional"),onClickCTA:i}):l.createElement(ny,{trackingContext:"Universal Upgrade Section Education Plan Expired",svg:nT.A,titleText:(0,k.tx)("edu.sidebar_section.education_plan_expired"),bodyText:n?(0,k.tx)("edu.sidebar_section.bootcamp_users_to_keep_editing_upgrade_your_team"):(0,k.tx)("edu.sidebar_section.to_keep_editing_upgrade_your_team",{verify:o}),ctaText:(0,k.tx)("upgrade.upgrade_to_professional"),onClickCTA:i})}var nN=a(138020),nS=a(760824),nk=a(845213);let nL="dismissed_limited_team_space_uub";function nA(e){let t=(0,s.wA)(),[a,r]=l.useState(!1),n=(0,np.Rs)(ng.qOl,{teamId:e.team.id}),i=(0,eJ.iZ)(),o="loaded"===n.status&&(0,nN.oA)(n.data?.teamRoleRequest),c=!!o&&"pending"===o.status,d=!!o&&"approved"===o.status,m=!!o&&"denied"===o.status;if(l.useEffect(()=>{c&&r(!0)},[c]),"loaded"!==n.status||d||m)return null;let u=async()=>{try{await nk.$.requestTeamRole({teamId:e.team.id}),t(aJ.F.enqueue({message:(0,k.t)("view_permissions.request_sent"),type:"request-team-membership"})),(0,tC.uE)("limited_team_plan_request_upgrade_clicked",{user:i},{teamId:e.team.id}),r(!0)}catch(e){t(W.s.error("Failed to request team role",e))}};return l.createElement(ny,{trackingContext:"Limited Team Space Dismissable Upgrade Section",trackingProperties:{teamId:e.team.id},disabled:c||a,header:(0,k.tx)("upgrade.limited_access_in_this_team"),bodyText:(0,k.tx)("upgrade.to_get_unlimited_files_must_be_member",{currentTeamName:e.team.name}),ctaText:a?(0,k.tx)("upgrade.access_requested"):(0,k.tx)("upgrade.request_full_access"),onClickCTA:u,ctaTrackingProperties:{},onDismiss:()=>{t(nS.bE({all_team_flags:[{team_id:e.team.id,flags:{[nL]:!0}}]}))},demure:"very"})}var nR=a(898211),nF=a(724838),nO=a(990546);function nP({orgUpsellEligibility:e}){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.userFlags),r=e===nF.VY.SINGLE_TEAM?(0,k.tx)("upgrade.access_cross_team_design_libraries_sso_and_more"):(0,k.tx)("upgrade.centralize_your_teams_and_share_design_libraries"),n=`${e===nF.VY.SINGLE_TEAM?"Single-Team":"Multi-Team"} Dismissible Org Upgrade Section`;return l.createElement(ny,{trackingContext:n,svg:nO.A,bodyText:r,ctaText:(0,k.tx)("upgrade.view_plans"),onClickCTA:()=>{e===nF.VY.SINGLE_TEAM&&t((0,e$.to)({type:nR.HS,data:{upsellSource:e8.b.ORG_UPGRADE_SECTION}})),e===nF.VY.MULTIPLE_TEAMS&&t((0,e$.to)({type:nR.u3,data:{upsellSource:e8.b.ORG_UPGRADE_SECTION}}))},onDismiss:()=>t((0,nF.CJ)(a)),ctaDataTestId:"org-upgrade-cta"})}var nD=a(317372),nM=a(942244);let nB="dismissed_paid_free_space_uub";function nU(e){let t=(0,s.wA)(),a=(0,e_.md)(nD.A),r=eY.h.useTrackingContext({trigger:e8.b.UNIVERSAL_UPGRADE_SECTION}),n=l.createElement(tF.eM,{onClick:()=>{t(z.j7({type:nM.ER,data:{targetRect:a}}))},trackingProperties:{trackingDescriptor:ep.c.WORK_IN_ONE_OF_YOUR_PAID_TEAMS}},(0,k.tx)("upgrade.work_in_one_of_your_paid_teams")),i=(0,k.tx)("upgrade.to_get_unlimited_files_and_features_link_switch_teams_or_upgrade_this_team_s_plan",{linkSwitchTeams:n});return l.createElement(ny,{trackingContext:"Paid Free Space Dismissible Upgrade Section",trackingProperties:{teamId:e.team.id,...r},header:(0,k.tx)("upgrade.this_team_is_on_a_free_plan"),bodyText:i,ctaText:(0,k.tx)("upgrade.view_all_plans"),onClickCTA:()=>{t((0,e$.to)({type:ed.V,data:{upsellSource:e8.b.UNIVERSAL_UPGRADE_SECTION}}))},ctaTrackingProperties:{trackingDescriptor:ep.c.VIEW_ALL_PLANS},onDismiss:()=>{t(nS.bE({all_team_flags:[{team_id:e.team.id,flags:{[nB]:!0}}]}))},demure:"very"})}var nV=a(175290),nH=a(378459);let nW="pro_trials_upgrade_section--divider--0tBoX sidebar--divider--sHsz4";var nj=a(707990);function n$(){let e=(0,s.wA)();return l.createElement(ny,{trackingContext:"Universal Upgrade Section Pro Trial Entry",trackingProperties:e2.ng.getTrackingProperties(),svg:nj.A,titleText:l.createElement(L.E,null,(0,k.tx)("upgrade.free_professional_team_trial")),bodyText:l.createElement(L.E,null,(0,k.tx)("upgrade.enjoy_our_best_design_features_for_14_days")),ctaText:l.createElement(L.E,null,(0,k.tx)("upgrade.try_the_professional_plan")),onClickCTA:()=>e((0,e$.to)({type:nH.m})),ctaDataTestId:"redesigned-upgrade-button-pro-trial-entry-upgrade",ctaTrackingProperties:e2.ng.getTrackingProperties("Try the Professional Plan"),svgStyles:"pro_trials_upgrade_section--sparkleIcon--ybCKo"})}function nG({team:e}){return l.createElement(nV.Y,{spacing:8,dataTestId:"team-info"},l.createElement(es.nl,{size:es.Pf.SMALL,team:e,fallbackDisplay:ec.U.HIDDEN,shape:"ROUNDED_SQUARE"}),l.createElement(L.E,{children:e.name,fontWeight:"medium",fontSize:11,truncate:"end"}))}function nY({daysLeft:e,trialTeam:t,onClickCTA:a}){var r;let n=l.createElement(tF.eM,{onClick:a,dataTestId:"pro_trial_inline_upgrade",trackingProperties:e2.ng.getTrackingProperties()},(0,k.tx)("upgrade.pro_trial_inline_upgrade_cta"));return l.createElement(eG.fu,{name:"Universal Upgrade Section Pro Trial Countdown",properties:e2.ng.getTrackingProperties()},l.createElement("div",{className:nW}),l.createElement("div",{className:"pro_trials_upgrade_section--redesignedUpgradeSection--E-f1E"},l.createElement("div",{className:"pro_trials_upgrade_section--countdownInfo--sN5Pd"},l.createElement(nG,{team:t})),l.createElement("div",{className:nW}),l.createElement("div",{className:"pro_trials_upgrade_section--countdownDaysTicker--rDpWO"},l.createElement(L.E,{children:e,color:e<=2?"danger":"default",fontWeight:"medium",fontSize:24})),l.createElement("div",{className:"pro_trials_upgrade_section--countdownDaysLeftText--a-ppM"},l.createElement(L.E,{color:e<=2?"danger":"default",fontWeight:"medium",fontSize:13},(0,k.tx)("upgrade.days_left_in_trial",{days:e}))),l.createElement("div",{className:"pro_trials_upgrade_section--redesignedUpgradeText--ho-7F"},l.createElement(L.E,{children:(r=e)>=14?l.createElement(L.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.this_counter_will_help_you_keep_track",{upgrade:n})):r>=10?l.createElement(L.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.if_you_are_enjoying_your_trial",{upgrade:n})):r>=4?l.createElement(L.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.try_out_these_features")):r>=2?l.createElement(L.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.you_will_miss_these_files")):r>=1?l.createElement(L.E,null,(0,k.tx)("upgrade.pro_trial_uub_countdown.just_a_memory")):null})),e<=9&&l.createElement(tF.vd,{className:"pro_trials_upgrade_section--redesignedUpgradeButton--SP1nz",onClick:a,dataTestId:"redesigned-upgrade-button-pro-trial-countdown-upgrade",trackingProperties:e2.ng.getTrackingProperties()},l.createElement(L.E,null,(0,k.tx)("upgrade.upgrade_to_professional")))))}function nz(e){return l.createElement(ny,{trackingContext:"Universal Upgrade Section Pro Trial Expired",trackingProperties:e2.ng.getTrackingProperties(),titleText:l.createElement(L.E,null,(0,k.tx)("upgrade.currently_on_starter_plan")),bodyText:l.createElement(L.E,null,(0,k.tx)("upgrade.your_trial_has_ended")),ctaText:l.createElement(L.E,null,(0,k.tx)("upgrade")),onClickCTA:e.onClickCTA,ctaDataTestId:"redesigned-upgrade-button-pro-trial-expired-upgrade",ctaTrackingProperties:e2.ng.getTrackingProperties(),header:l.createElement(nG,{team:e.team})})}function nQ(e){let t=(0,s.wA)(),{ongoingUpgradableTrials:a,expiredUpgradableTrials:r}=e,n=(0,s.d4)(e=>e.teams),i=e=>{t((0,e$.to)({type:ed.V,data:{teamId:e,upsellSource:e8.b.PRO_TRIAL_UPSELL_MODAL}}))};return r.length>0?l.createElement(nz,{team:n[r[0].teamId],onClickCTA:()=>i(r[0].teamId)}):a.length>0?l.createElement(nY,{trialTeam:n[a[0].teamId],daysLeft:a[0].daysLeft,onClickCTA:()=>i(a[0].teamId)}):null}var nK=(e=>(e.PRO_TRIALS_ENTRY="Pro Trials Entry",e.PRO_TRIALS_UPGRADE="Pro Trials Upgrade",e.LIMITED_TEAM_SPACE="Limited Team Space",e.EDU_EXPIRY="EDU Expiry",e.EDU_UPGRADE="EDU Upgrade",e.ORG_UPGRADE="Org Upgrade",e.PAID_FREE_SPACE="Paid Free Space",e.UNIVERSAL="Universal",e))(nK||{}),nq=(e=>(e.BETWEEN_CONTENT="between_content",e.AFTER_CONTENT="after_content",e.IN_FOOTER="in_footer",e))(nq||{});function nZ({onTeam:e,hitFileLimit:t}){let a=(0,s.wA)(),r=eY.h.useTrackingContext({trigger:e8.b.UNIVERSAL_UPGRADE_SECTION}),n=t?l.createElement(l.Fragment,null,l.createElement("span",{className:nb},(0,k.tx)("upgrade.running_out_of_files_in_your_free_team"))," ",(0,k.tx)("upgrade.upgrade_to_give_your_ideas_and_designs_room_to_grow_without_limits")):(0,k.tx)("upgrade.ready_to_go_beyond_free_plan_upgrade_for_premium_features");return l.createElement(ny,{trackingContext:"Universal Upgrade Section",trackingProperties:{onTeam:e,hitFileLimit:t,...r},svg:nO.A,bodyText:n,ctaText:(0,k.tx)("upgrade.view_plans"),ctaTrackingProperties:{trackingDescriptor:ep.c.UPGRADE},ctaDataTestId:"redesigned-upgrade-button",onClickCTA:()=>{a((0,e$.to)({type:ed.V,data:{upsellSource:e8.b.UNIVERSAL_UPGRADE_SECTION}}))}})}var nX=a(794272),nJ=a(205548),n0=a(38580),n1=a(529928),n2=a(693223);let n4=(0,n0.eU)(e=>{let t=e(n2.m),a=e(n8),r=(0,p.kc)().ps_benchmark;if(!a)return!1;let n=[e0.P4.FILES_LIMITED,e0.P4.FILES_LIMITED_LEGACY,e0.P4.WHITEBOARD_FILES_LIMITED,e0.P4.WHITEBOARD_FILES_LIMITED_BETA,e0.P4.SLIDE_FILES_LIMITED,e0.P4.SLIDE_FILES_LIMITED_BETA].some(e=>a?.restrictions_list?.includes(e));return r?n:Object.values(t).some(e=>[e0.P4.FILES_LIMITED,e0.P4.FILES_LIMITED_LEGACY,e0.P4.WHITEBOARD_FILES_LIMITED,e0.P4.WHITEBOARD_FILES_LIMITED_BETA,e0.P4.SLIDE_FILES_LIMITED,e0.P4.SLIDE_FILES_LIMITED_BETA].some(t=>e.restrictions_list&&e.restrictions_list.includes(t)))}),n8=(0,n1.bt)(e=>{let t=e.currentTeamId;return t?e.teams[t]:null});function n3(){return l.createElement(F.tH,{boundaryKey:"SidebarUpgradeSection",fallback:F.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:n_.FigmaTeam.MONETIZATION_UPGRADES}},l.createElement(n5,null))}function n5(){let e=n6();return null===e?null:l.createElement(n9,{...e})}function n9(e){switch(e.type){case nK.PRO_TRIALS_ENTRY:return l.createElement(n$,null);case nK.PRO_TRIALS_UPGRADE:return l.createElement(nQ,{ongoingUpgradableTrials:e.props.ongoingUpgradableTrials,expiredUpgradableTrials:e.props.expiredUpgradableTrials});case nK.EDU_EXPIRY:return l.createElement(nx,{daysLeft:e.props.daysLeft});case nK.EDU_UPGRADE:return l.createElement(nC,{type:e.props.type});case nK.ORG_UPGRADE:return l.createElement(nP,{orgUpsellEligibility:e.props.orgUpsellEligibility});case nK.PAID_FREE_SPACE:return l.createElement(nU,{team:e.props.team});case nK.LIMITED_TEAM_SPACE:return l.createElement(nA,{team:e.props.team});case nK.UNIVERSAL:default:return l.createElement(nZ,{onTeam:e.props.onTeam,hitFileLimit:e.props.hitFileLimit})}}function n6(){let e=function(){let e=(0,eZ.FC)(),t=(0,eJ.TA)(),a=(0,tz.f)(e2.Jy),r=(0,eX.xX)(),n=(0,s.d4)(e=>e.userTeamFlags),i=(0,ay.mp)({component:"useProTrialsUpgradeSectionProps",migrationGroup:ab.L.GROUP_4});if(e2.ng.uxEnabled()&&!i){let{ongoingTrials:i,expiredTrials:o}=e2.ng.getUpgradableProTrials(n,e),l=o.filter(e2.ng.canSeeProTrialExpiryUx);if(i.length>0||l.length>0)return{type:nK.PRO_TRIALS_UPGRADE,props:{ongoingUpgradableTrials:i,expiredUpgradableTrials:l}};if(a&&r.length>0&&e2.ng.isUserInVariant(t))return{type:nK.PRO_TRIALS_ENTRY}}return null}(),t=function(){let e=(0,eJ.iZ)(),t=(0,tQ.ol)(),a=(0,eZ.FC)(),r=(0,np.Rs)(ng.UpR,{}),n=r.data?.currentUser?.eduPeriodEnd,i=(0,s.d4)(e=>e.userFlags),o=(0,ay.mp)({component:"useEduUpgradeSectionProps",migrationGroup:ab.L.GROUP_4});if(!e||"loaded"!==r.status)return null;let l=(0,eo.x$)(n,(0,eo.cn)(e)),c=l>0&&l!==1/0&&(0,eo.cn)(e)&&t?.student_team_state===rs.kU.STUDENT_TEAM_CURRENT,d=0===l&&t?.student_team_state===rs.kU.STUDENT_TEAM_EXPIRED&&(0,eN.oc)(t.id,a);if((0,p.kc)().edu_offboarding_experience&&(c||d))return{type:nK.EDU_EXPIRY,props:{daysLeft:l}};if(!i.dismissed_edu_sidebar&&(0,eo.cn)(e)&&!o){let e=(0,eN.Kg)(a).length>0;return{type:nK.EDU_UPGRADE,props:{type:e?nI.UPGRADE:nI.CREATE}}}return null}(),a=function(){let e=(0,eJ.iZ)(),t=0===Object.keys((0,s.d4)(e=>e.orgById)).length,a=(0,s.d4)(e=>e.teams),r=(0,tQ.ol)(),n=(0,e_.md)(n4),i=!Object.values(a).some(e=>null!==e.subscription||e.student_team_at),o=!!(0,p.kc)().ps_benchmark,l=(0,e_.md)(af.Lm),c=(0,np.Rs)(ng.kQI,{id:r?.id??""},{enabled:!!r&&o}),d=(0,tL.vt)(),m=(0,eP.Yz)();if(!e||o&&!r||o&&("loaded"!==c.status||!c.data.team?.hasPermission||"loaded"!==l.status||!l.data))return null;let u=r&&o&&!(0,eo.cn)(e)&&!(0,eN.w5)(a[r.id])&&!m(d);return!o&&t&&!(0,eo.cn)(e)&&i||u?{type:nK.UNIVERSAL,props:{onTeam:Object.keys(a).length>0,hitFileLimit:n}}:null}(),r=function(){let e=(0,eZ.FC)(),t=(0,s.d4)(e=>e.userFlags),a=(0,nX.R)(e=>({orgUsersByOrgId:e.orgUsersByOrgId,user:e.user,userFlags:e.userFlags,teams:e.teams,currentTeamId:e.currentTeamId})),r=(0,nF.hF)(a,e),n=(0,nF.j)(t);return r===nF.VY.NONE||n?null:{type:nK.ORG_UPGRADE,props:{orgUpsellEligibility:r}}}(),n=function(){let e=(0,eJ.iZ)(),t=(0,s.d4)(e=>e.teams),a=(0,tQ.ol)(),r=!!(0,p.kc)().ps_benchmark,n=(0,e_.md)(af.Lm),i=(0,s.d4)(e=>e.userTeamFlags),o=(0,np.Rs)(ng.kQI,{id:a?.id??""},{enabled:!!a&&r}),l=(0,eP.Mi)();return!e||!a||!r||"loaded"!==n.status||n.data||(0,eo.cn)(e)||(0,eN.w5)(t[a.id])||"loaded"!==o.status||!o.data.team?.hasPermission||!l()?null:(0,nJ.gY)(i,nB,a.id,7776e6)?null:{type:nK.PAID_FREE_SPACE,props:{team:a},overrideLocation:nq.IN_FOOTER}}(),i=function(){let e=(0,eJ.iZ)(),t=(0,tQ.ol)(),a=(0,tN.d)(),r=(0,s.d4)(e=>e.userTeamFlags);return e&&t&&a?(0,nJ.gY)(r,nL,t.id,7776e6)?null:{type:nK.LIMITED_TEAM_SPACE,props:{team:t},overrideLocation:nq.IN_FOOTER}:null}();return null!==e?e:null!==i?i:null!==t?t:null!==a?a:null!==r?r:null!==n?n:null}var n7=a(913270),ie=a(195907);function it(){let e=(0,s.wA)(),t=()=>{(0,ei.sx)("community_browser_sidebar_action_clicked"),e(z.$T({view:"communityHub",subView:"searchAndBrowse",data:(0,n7.Gu)()}))};return l.createElement(eG.L0,{trackingEventName:"community_browser_sidebar_action_clicked",className:D()(S.cx.flex.flexRow.itemsCenter.gap12.h48.pl16.pr16.colorText.cursorDefault.$,"explore_community_button--hoverColor--mDUIs"),"data-onboarding-key":ie.vM,onClick:e=>{e.preventDefault(),e.stopPropagation(),t()}},l.createElement(eO.In,{icon:"community-16"}),l.createElement(L.E,null,(0,k.tx)("sidebar.explore_community")))}function ia(e){return l.createElement("div",{className:S.cx.sticky.bottom0.colorBg.zIndex1.if(e.hasTopBorder,S.cx.bt1.colorBorder.bSolid).$},e.shouldShowUUBInFooter&&l.createElement("div",{className:S.cx.pb10.pt12.$},l.createElement(n3,null)),l.createElement(it,null))}var ir=a(396040),ii=a(765612);function io(e){return l.createElement("div",{className:S.cx.colorBg.if(e.hasBottomBorder,S.cx.bb1.colorBorder.bSolid).$},l.createElement(ii.Xg,null),l.createElement(ir.Zn,null))}var il=a(900581),is=a(278362);function ic(e){let t=(0,s.wA)(),a=(0,ee._6)(),r=(0,s.d4)(e=>e.currentUserOrgId),n=(0,ak.S)(),i=(0,s.d4)(e=>e.teamFeedBellStates),o=!!(r&&i[r]),c="teamFeed"===a.view;return l.createElement($.Z,{onClick:()=>{t(z.$T({view:"teamFeed"})),t(z.Oe({clickedResourceType:"teamFeed"}))},isSelected:c,icon:l.createElement(H.B,{className:S.cx.colorIcon.$,svg:n?is.A:il.A}),text:l.createElement("span",{className:"team_feed_page_link--sectionNameCustomSections--dPwog sidebar--sectionNameCustomSections--9e7LZ sidebar--sectionTextCustomSections---1KFn sidebar--sectionContentCustomSections--wI9mZ ellipsis--ellipsis--Tjyfa"},l.createElement("div",{className:"team_feed_page_link--sectionNameCustomSectionsLeft--MLMFK"},(0,k.tx)("fig_feed.feed"),o&&l.createElement("div",{className:"team_feed_page_link--redDot--t6QPY red_dot--baseRedDot--pgZV7"})))})}function id({selectedView:e,teamFolderId:t,teamFolderName:a}){let r=(0,s.wA)();return t&&a?l.createElement($.Z,{isSelected:e&&"folder"===e.view&&e.folderId===t,onClick:()=>{r(Q.gN(t)),r(z.Oe({clickedResourceType:"folder"}))},icon:l.createElement(eO.In,{icon:"folder-32"}),text:l.createElement(L.E,{truncate:!0,showTooltipWhenTruncated:!1},a),"data-onboarding-key":em.Jo}):null}(0,eg.r1)("seen_trash_in_sidebar_onboarding_overlay");var im=a(699575);function iu(){let e=(0,s.wA)(),t="deletedFiles"===(0,s.d4)(e=>e.selectedView).view;return l.createElement(l.Fragment,null,l.createElement($.Z,{isSelected:t,onClick:()=>{e(z.$T({view:"deletedFiles"})),e(z.Oe({clickedResourceType:"deletedFiles"}))},icon:l.createElement(H.B,{className:S.cx.colorIcon.$,svg:im.A}),text:l.createElement("div",{className:S.cx.pr36.$,"data-onboarding-key":"TRASH_LINK_IN_SIDEBAR_ONBOARDING_KEY"},l.createElement(L.E,null,(0,k.tx)("file_browser.tool_bar.trash")))}))}var i_=a(630834);function ip(e){let t=(0,s.wA)(),a=(0,eJ.iZ)(),r=(0,eq.dq)(),n=(0,s.d4)(e=>e.currentTeamId),i=(0,J.Um)(),o=(0,s.d4)(e=>e.userFlags),c=(0,eZ.FC)(),d=(0,s.d4)(e=>e.userStateLoaded),m=(0,ee._6)(),u=(0,s.d4)(e=>e.dragState),_=r&&o.show_create_new_section_banner,f=l.createRef(),g=(0,tA.s)(ei.sx,tC.WL,!0),[h,v]=l.useState(!_&&t7.hG({type:"topLevel",id:"teamsOrLicenseGroups",orgId:r})),[y,b]=l.useState(0),[w,T]=l.useState(!1),[I,C]=l.useState(!1),[x,N]=l.useState(!1),A=e=>{t(z.z5({folderId:e.id}))},R=e=>{t(t5.b({show_create_new_section_banner:!1}))},F=e=>{t(t3.pS({newCustomSectionIndex:0})),R(e)},O=()=>{t7.Fp({type:"topLevel",id:"teamsOrLicenseGroups",orgId:r},!h),v(!h)},P=(0,p.kc)().ps_benchmark&&n,M=(0,tN.d)(),B=e.projectsByTeam[tv.USER_DRAFTS],U=B?B[0]:null,V=(0,G.H)(i),W=0===(e.sidebarData?.teamRoles?.map(e=>e.team).filter(e=>e)||[]).map(e=>e.id).length,j=(0,tS.wA)(c),$=(0,t9.a9)(),Y=$&&$.permission===e0._D.ADMIN,Q=(0,eQ.D6)(r),K=()=>d?l.createElement(n3,null):null,q=(0,t6.l2)(j,Y??!1,!1),Z=l.createElement(l.Fragment,null,l.createElement(t0,{dispatch:t,notOnAnyTeams:W,currentOrgId:r,tooltipText:q?(0,k.t)("license_group_view.toolbar.create_team_disabled"):void 0,disabled:q||(0,e1.R$)(a,j?.id),onMouseEnter:q?()=>{g(tC.jd,{orgId:r,orgName:j?.name,placement:"teamsSidebar"})}:void 0})),X=()=>!(0,eS.canMemberOrg)(r,c)&&r||E.Ay.mobile?null:Z,ea=()=>{let e=!(0,eS.canMemberOrg)(r,c);return l.createElement(l.Fragment,null,W&&l.createElement(l.Fragment,null,l.createElement(t1,{org:j,isOrgGuest:e,dispatch:t})))},er=()=>l.createElement("div",{onClick:O,role:"button",tabIndex:0,className:"sidebar--sectionHeaderContainer--TcvBb sidebar--sectionHeaderName--xToHG sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa"},l.createElement(H.B,{className:"sidebar--expandCaret--eXGWm",svg:h?rK.A:rq.A,onClick:O}),l.createElement("div",null,e.isEnterpriseSidenavEnabled?l.createElement(l.Fragment,null,l.createElement("span",null,(0,k.tx)("sidebar.workspaces"))):(0,k.tx)("sidebar.teams"))),en=l.createElement(ty,{sidebarData:e.sidebarData,projectsByTeam:e.projectsByTeam}),eo=!r&&e.projectsByTeam[tv.USER_FOLDERS],el=e.sidebarData,es=(0,p.kc)().ps_benchmark&&P?e.dataDriftCorrectedTeamResources?.favoritedFiles:el?.favoritedFiles,ec=(0,p.kc)().ps_benchmark&&P?e.dataDriftCorrectedTeamResources?.favoritedPrototypes:el?.favoritedPrototypes,ed=(0,p.kc)().ps_benchmark&&P?e.dataDriftCorrectedTeamResources?.favoritedProjects:el?.favoritedProjects;ed&&e.FBGNavigationUpdatesTreatment!==eP.ih.CONTROL&&(ed=ed.filter(t=>t.project?.id!==e.teamFolderId));let em=es?.length===0&&ec?.length===0&&ed?.length===0,eu=e.FBGNavigationUpdatesTreatment===eP.ih.CONTROL||!em,e_=n6(),ep={[eP.ih.CONTROL]:nq.BETWEEN_CONTENT,[eP.ih.VARIANT_A]:nq.IN_FOOTER,[eP.ih.VARIANT_B]:nq.AFTER_CONTENT}[e.FBGNavigationUpdatesTreatment],ef=e_?.overrideLocation??ep,eg=!!u.data&&(u.type===et.R.Folder||u.type===et.R.Team||u.type===et.R.Favorite),eE=j&&l.createElement("div",{className:aw},o.show_create_new_section_banner?l.createElement("div",{className:"sidebar--betaAnnouncementContainer--FfmFT"},l.createElement("div",{className:"sidebar--betaAnnouncementHeader--g6Qzz"},l.createElement("div",{className:"sidebar--betaAnnouncementHeaderTitle--AyDjm"},(0,k.tx)("favorited_resources.custom_sections_banner_header")),l.createElement("div",{role:"button",tabIndex:0,className:"sidebar--closeX---nRcN",onClick:e=>R(e)},l.createElement(H.B,{svg:i_.default}))),l.createElement("div",{className:"sidebar--betaAnnouncementBodyContainer--8u60g"},l.createElement("p",null,(0,k.tx)("favorited_resources.custom_sections_banner_body")),l.createElement("br",null),l.createElement("p",null,l.createElement(tF.tM,{className:"sidebar--betaAnnouncementButton--RCpKp",onClick:e=>F(e)},(0,k.tx)("favorited_resources.custom_sections_banner_create_new_section_button"))))):null),eh=!(e.showLoadingState||e.showingFileBrowserLoader);return l.createElement(tO.A,{loadingElementId:"filebrowser-loading-sidebar",loaded:eh,backgroundColor:"default"},l.createElement("div",{className:S.cx.flex.flexColumn.wFull.$},l.createElement(io,{hasBottomBorder:x}),l.createElement(tD.P,{className:"sidebar--sidebarScrollContainer--Z95XT",innerClassName:S.cx.hFull.$,scrollingDisabled:!1,onScroll:e=>b(e)},l.createElement(tM.a,{onIntersectionChange:t=>{N(!t.isIntersecting),t.isIntersecting||w||(e.trackScroll(),T(!0))}}),l.createElement("div",{className:D()("sidebar--navContent--15V3f",{"sidebar--grabbingCursor--6rbhU":eg})},l.createElement("div",{className:S.cx.flexGrow1.flex.flexColumn.$},l.createElement(l.Fragment,null,l.createElement(t8,null),!1,(0,p.kc)().ps_benchmark&&l.createElement(aN.r,{selectedView:m,dispatch:t}),l.createElement("div",{className:aI}),l.createElement("div",{className:S.cx.ml8.mr8.mt2.mb2.$},l.createElement(nu.b,null)),(0,p.kc)().xr_debounce_threshold&&j&&$&&$.permission!==e0._D.GUEST?l.createElement(ic,null):null,U&&l.createElement(ax.s,{folder:U,selectedView:m,dispatch:t,shouldHideCreateFileButton:e.isShowingLockedRedesign}),l.createElement(aC,{userStateLoaded:d,sidebarData:e.sidebarData}),P&&l.createElement(l.Fragment,null,M?l.createElement(l.Fragment,null,l.createElement(ni,{selectedView:m}),(0,p.kc)().pdr_trashed_section&&l.createElement(iu,null)):l.createElement(l.Fragment,null,l.createElement(au,{selectedView:m}),(0,p.kc)().pdr_trashed_section&&l.createElement(iu,null),l.createElement(eH,{selectedView:m}),e.FBGNavigationUpdatesTreatment!==eP.ih.CONTROL&&l.createElement(id,{selectedView:m,teamFolderId:e.teamFolderId,teamFolderName:e.teamFolderName}))),ef===nq.BETWEEN_CONTENT&&l.createElement("div",{className:aw},!!e_&&l.createElement("div",{className:S.cx.my8.mx0.h1.$,style:tB.sx.add({backgroundColor:"var(--color-border)"}).$}),K()),!($&&j)&&eu&&l.createElement("div",{className:aI}),$&&j&&(d?l.createElement(l.Fragment,null,l.createElement(nm,null),(0,p.kc)().pdr_trashed_section&&l.createElement(iu,null),j&&$&&!E.Ay.mobile&&l.createElement(l.Fragment,null,l.createElement(am,{selectedView:m,org:j,orgUser:$}),Y&&(0,p.kc)().org_admin_settings_abandoned_drafts&&l.createElement(tG,null))):l.createElement("div",{className:aT},l.createElement(tP.kt,null))),Q&&eE,d?l.createElement(l.Fragment,null,r?l.createElement(r4,{fileBrowserPreferences:e.sidebarData?.fileBrowserPreferences,favoritedFiles:es,favoritedPrototypes:ec,favoritedProjects:ed,favoritedTeams:el?.favoritedTeams,favoritedWorkspaces:el?.favoritedWorkspaces,userSidebarSections:el?.userSidebarSections?(0,tR.oA)(el.userSidebarSections):[],isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,previewYOffset:y}):l.createElement(l.Fragment,null,eu&&l.createElement(r2,{fileBrowserPreferences:e.sidebarData?.fileBrowserPreferences,favoritedFiles:es,favoritedPrototypes:ec,favoritedProjects:ed,favoritedTeams:null,favoritedWorkspaces:null,isEnterpriseSidenavEnabled:e.isEnterpriseSidenavEnabled,previewYOffset:y}),!P&&eo&&l.createElement(l.Fragment,null,l.createElement("div",{className:aI}),l.createElement("div",{className:D()(["sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa","sidebar--sharedProjectsSectionHeaderContainer--yEyoT sidebar--sectionHeaderContainer--TcvBb sidebar--sectionHeaderName--xToHG sidebar--sectionName--4N7hT sidebar--sectionText--KAGhn sidebar--sectionContent--NHX7b ellipsis--ellipsis--Tjyfa"])},l.createElement(L.E,null,(0,k.tx)("file_browser.shared_projects"))),en)),(0,p.kc)().ps_benchmark&&P&&l.createElement(nn,{teamUser:el?.currentTeamUser,dataDriftCorrectedTeamResources:e.dataDriftCorrectedTeamResources,previewYOffset:y}),(()=>{if(P||(0,eQ.D6)(r))return l.createElement(l.Fragment,null);let t=(0,tQ.yR)(e.sidebarData?.teamRoles?.map(e=>e.team).filter(e=>!!e)||[],e.sidebarData?.fileBrowserPreferences?.orderedTeamIds||[]);return l.createElement(l.Fragment,null,l.createElement("div",{className:aI}),er(),!e.isEnterpriseSidenavEnabled&&l.createElement("div",{className:S.cx.if(!h,S.cx.hidden).$},l.createElement(nl,{sidebarData:e.sidebarData,projectsByTeam:e.projectsByTeam,isEnterpriseSidenavEnabled:!1,orderedTeams:t,contextSelectedFolder:V,onFolderRenameClick:e=>A(e)}),ea(),l.createElement("div",{ref:f}),X()))})()):l.createElement("div",{className:aT},l.createElement(tP.kt,null)),ef===nq.AFTER_CONTENT&&l.createElement("div",{className:S.cx.sticky.bottom0.colorBg.pb10.pt12.$},K()))),l.createElement(tM.a,{onInitialLoad:e=>{C(!e)},onIntersectionChange:e=>{C(!e.isIntersecting)}}))),l.createElement(ia,{hasTopBorder:ef===nq.BETWEEN_CONTENT&&(I||x),shouldShowUUBInFooter:ef===nq.IN_FOOTER})))}function ig(e){let t;let a=(0,eJ.iZ)(),r=(0,eq.dq)(),n=(0,tN.d)(),i=(0,eq.sZ)(),o=(0,s.d4)(e=>e.currentTeamId),c=(0,eZ.FC)(),d=(0,s.wA)(),m=(0,tk.Q)({currentOrgId:r,currentTeamId:(0,p.kc)().ps_benchmark&&o||null}),u=(0,eJ.TA)(),_=(0,s.d4)(e=>u?e.authedUsers.byId[u]?.plans:null),[{status:g,data:E}]=(0,f.IT)((0,Z.Xg)({teamId:o||void 0}),{enabled:!n}),h="loaded"===g&&E?.length===1?E[0]:null,v=h?.id,y=h?.name,b=!(0,eS.canMemberOrg)(i?.id??null,c),w="loaded"===m.status?m.data:null,T="loaded"!==m.status,I={},C={},x=[],N=(w?.currentUser?.sharedProjectRolesWithoutOrgDeletedDrafts||[]).filter(e=>{let{project:t}=e;if(!t)return!1;let a=t.team?.orgId||t.orgId;return r?a===r:!a}),S=(0,tL.vt)(o),k=(0,eP.Yz)(),L=N.length>0,A=(0,l.useMemo)(()=>w?{...w.currentUser}:null,[w]),R=l.useMemo(()=>{if(A&&A.currentTeamUser&&o)return(0,eQ.TF)(A,o,_)},[A,o,_]),F=e.showingFileBrowserLoader;if(l.useEffect(()=>{if((0,p.kc)().ps_benchmark&&o&&A&&A?.currentTeamUser){let e=A.currentTeamUser;!e.fileBrowserPreferences&&A.fileBrowserPreferences&&d(tT.Sh({prefs:A.fileBrowserPreferences,orderedFolderSubscriptions:A.fileBrowserSectionPreferences?.filter(e=>e.teamId===o)[0]?.orderedFolderIds??[],teamUser:e}))}},[o,A,d]),A){let e;t=A.privilegedOrgUser?.licenseGroupMember?.licenseGroup;let a=[],n=new Set;for(let e of A.teamRoles||[])e.team?.orgId!==r||e.team?.deletedAt||e.pending||(a.push(e),n.add(e.team.id),e.team?.licenseGroupId?(C[e.team.licenseGroupId]=C[e.team.licenseGroupId]||[],C[e.team.licenseGroupId].push(e)):e.team&&x.push(e));if(A.teamRoles=a,r&&A.baseOrgUser){let e=A.baseOrgUser;A.fileBrowserPreferences=e.fileBrowserPreferences,A.fileBrowserSectionPreferences=e.fileBrowserSectionPreferences}else(0,p.kc)().ps_benchmark&&o&&A.currentTeamUser&&(A.fileBrowserPreferences=A.currentTeamUser?.fileBrowserPreferences);let i=(A.projectSubscriptions||[]).sort((e,t)=>e.projectV2?.path?.toLowerCase()<t.projectV2?.path?.toLowerCase()?-1:1),l={};for(let e of i){let t=e.projectV2;if(!t||(l[t.id]=e.id,(t.team?t.team.orgId!==r:t.orgId!==r)||!t.team&&""===t.path||t.team&&""===t.path&&(0,p.kc)().ps_benchmark))continue;let a=n.has(t.teamId)?t.teamId:tv.USER_FOLDERS;I[a]=I[a]||[],I[a].push(t)}tI.zL(l),e=(0,p.kc)().ps_benchmark&&o?w?.currentUser.currentTeamUser?.draftsProject:r?w?.currentUser.baseOrgUser?.draftsProject:w?.currentUser.draftsProject,I[tv.USER_DRAFTS]=e?[e]:[]}return l.createElement(ip,{showingFileBrowserLoader:F,hasSharedProjects:L,sidebarData:A,projectsByTeam:I,teamRolesByLicenseGroup:C,teamsUnassignedToLicenseGroup:x,mainLicenseGroup:t,isEnterpriseSidenavEnabled:(0,tS.LU)(i??void 0,b,A??void 0),dataDriftCorrectedTeamResources:R,showLoadingState:T,trackScroll:()=>(0,tC.uE)("Sidebar Scrolled",{user:a}),isShowingLockedRedesign:k(S),FBGNavigationUpdatesTreatment:(0,eP.fn)(),teamFolderId:v,teamFolderName:y})}var iE=(e=>(e.FILE_BROWSER="FileBrowserSidebar",e.ADMIN="AdminSettingsSidebar",e))(iE||{});function ih(e){let t=(0,s.d4)(e=>e.mobileNavShown),a=(0,eP.Cv)(),r=(0,M.A)()&&a()?"AdminSettingsSidebar":"FileBrowserSidebar";return l.createElement("nav",{className:D()("sidebar--navDefault--pYuzm",{"sidebar--showMobileNav--YiFit":t})},l.createElement(F.tH,{boundaryKey:r,fallback:l.createElement(tw.R,null),hasCustomWASMBuild:tx.y4},"FileBrowserSidebar"===r?l.createElement(ig,{...e}):l.createElement(A.ay,null)))}var iv=a(697551),iy=a(411916),ib=a(935757),iw=a(435011),iT=a(637590),iI=a(757782),iC=a(726732),ix=a(355025),iN=a(929018),iS=a(809838),ik=a(91408),iL=a(170588),iA=a(29914),iR=a(587670),iF=a(539321),iO=a(568214),iP=a(138392),iD=a(168039),iM=a(231959),iB=a(42173);let iU=(0,n0.eU)(void 0),iV=(0,iO.H0)("#2c2c2c");function iH(e){let t=(0,e_.md)(iU);if(!e||"unset"===t)return;let a=(e.colorConfig?.colors??[])[0];return t?(0,iF.colorToHex)(t):a}function iW(e){return!!e&&"unset"!==e}function ij(e){return e&&e!==iM.O&&"colorConfig"in e?e:void 0}function i$(e){return void 0!==e.team_id}function iG(e,t){if(e!==iM.O){if("team_id"in e&&e.team_id)return t.teams[e.team_id];if("workspace_id"in e)return e}}var iY=a(383986),iz=a(127391);function iQ(e){return l.createElement(nV.Y,{spacing:4},l.createElement(iz.H,{entityId:e.planEntity.id,entityName:e.planEntity.name,imgUrl:e.planEntity.img_url}),l.createElement(L.E,{fontSize:13,color:"secondary"},e.planEntity.name))}let iK={folder:e=>e?{view:"folder",folderId:e}:void 0,team:e=>e?{view:"team",teamId:e}:void 0,workspace:e=>({view:"workspace",subView:ad.V0.DIRECTORY,workspaceId:e??null,selectedTab:ad.dN.TEAMS}),org:e=>e?{view:"org",orgId:e,orgViewTab:tK.X.HOME}:void 0};function iq({resource:e}){let t=(0,s.wA)(),a=(0,eZ.FC)(),r=(0,eq.sZ)(),n=iH(ij(e)),i=(0,np.Rs)(ng.bUn,{orgId:r?.id??null},{enabled:!!r}),o="loaded"!==i.status,c=i.data?.org?.workspaces??[],d=function(e,t){let a=(0,nX.R)(e=>({currentUserOrgId:e.currentUserOrgId,teams:e.teams,orgById:e.orgById}));return(0,l.useMemo)(()=>({folder:i$(e)?e:void 0,team:iG(e,a),workspace:function(e,t,a){let r=iG(e,t);if(e===iM.O);else if(r&&r.workspace_id)return a?.find(e=>e.id===r.workspace_id);else if(r&&!r.workspace_id&&r.org_id){let e=t.orgById[r.org_id];return e?.workspaces_count?iM.O:void 0}else if("domain_capture"in e||i$(e)||"workspace_id"in e)return;return e}(e,a,t),org:function(e,t){let a=iG(e,t);return a?.org_id?t.orgById[a.org_id]:e===iM.O?t.currentUserOrgId?t.orgById[t.currentUserOrgId]:void 0:"org_id"in e?e.org_id?t.orgById[e.org_id]:void 0:"orgId"in e?e.orgId?t.orgById[e.orgId]:void 0:"domain_capture"in e?e:void 0}(e,a)}),[e,a,t])}(e,o?[]:[...c]);if(r||d.org?r?.id!==d.org?.id:!d.team||!(0,eS.canViewTeam)(d.team.id,a)){let e=d.org??d.team;return e?l.createElement(iQ,{planEntity:e}):null}let m=e===iM.O?void 0:e.id,u=(e,a)=>{let n=a===iM.O?void 0:a.id,i=iK[e](n);(0,tC.Cu)({clickedResourceType:e,clickedResourceId:n,currentResource:m,orgId:r?.id}),i&&t(z.$T(i))},_=["org","workspace","team","folder"].reduce((e,t)=>{let a=d[t];if(a){let r="workspace"===t&&!a.canView,i=a===iY.s?(0,k.t)("breadcrumbs.unassigned_license_group"):r?(0,k.t)("breadcrumbs.private_workspace_ellipses"):a?.name;e.push({text:i,onClick:()=>{r||u(t,a)},parentBackgroundColor:n,isHoverable:!(a===iY.s||r)})}return e},[]);return _.pop(),l.createElement(N.B,{items:_})}function iZ(e){return e.rightSideActions?l.createElement(iX,{headerLabel:e.label,rightSideActions:e.rightSideActions}):e.label}function iX(e){let t=(0,np.Rs)(ng.RIo,{orgId:null});return((0,np.ap)(t,"file_creation_defaults_latency"),"loaded"!==t.status)?null:l.createElement("div",{className:S.cx.flex.justifyBetween.wFull.itemsCenter.columnGap16.$},e.headerLabel,l.createElement("div",{className:S.cx.flex.gap8.$},e.rightSideActions))}function iJ(e){let t=iH(ij(e.resource));return l.createElement("div",{className:S.cx.if(e.showNavigationChevrons,S.cx.pl20,S.cx.pl32).if(!!e.pageHeaderContent,S.cx.bb1.colorBorder.bSolid).flex.flexRow.flexShrink0.gap8.itemsCenter.h48.pr32.$,style:{backgroundColor:t},"data-testid":"file-browser-desktop-header"},e.showNavigationChevrons&&l.createElement(iS.J,{parentBackgroundColor:t}),e.pageHeaderContent?l.createElement("span",{className:S.cx.minW0.wFull.$},l.createElement(iZ,{label:e.pageHeaderContent,rightSideActions:e.pageHeaderActions})):e.resource&&l.createElement(iq,{resource:e.resource}))}var i0=a(837746);let i1=(0,ik.jz)(i0.tgj);function i2(e){return l.createElement(l.Fragment,null,l.createElement(iL.z,{query:`(min-width: ${i1}px)`,defaultClass:S.cx.sticky.top0.colorBg.zIndexTopBar.$},l.createElement(iJ,{resource:e.breadcrumbResource,pageHeaderContent:e.pageHeaderContent?l.createElement(L.E,{fontSize:13,truncate:!0},e.pageHeaderContent):void 0,pageHeaderActions:e.pageHeaderActions,showNavigationChevrons:e.showNavigationChevrons})),e.pageHeaderContent&&l.createElement(iA.i,{tabs:[l.createElement(L.E,{key:"mobilePageHeaderKey",truncate:!0},e.pageHeaderContent)]}))}function i4(e){let t=l.useRef(null),a=(0,s.d4)(({selectedView:e})=>e),r=(0,eq.dq)(),n=(0,iS.E)(),i=(0,s.d4)(iw.iy),o=(0,aa.P)(r,(0,s.d4)(iw.o$)),m=(0,eP.Cv)(),u=(0,ix.K)(),_=(0,eq.sZ)(),f=u&&_&&!iT.T8.includes(a.view);!function(){let e=(0,p.kc)().ps_benchmark,t=(0,s.Pj)();l.useEffect(()=>{if(!e)return;let a=t.getState(),r=(0,eS.getPermissionsState)(a),n=(0,iy.vp)(r.user,r.currentUserOrgId,r.currentTeamId);n&&(0,ib.Y9)(n.userId,(0,iv.d9)(a.selectedView),n.orgId,void 0,n.teamId)},[t,e])}();let g=i||o.data||void 0,E="orgAdminSettings"===a.view||"licenseGroup"===a.view&&a.subView===as.GN.ADMIN||"workspace"===a.view&&a.subView===ad.V0.ADMIN||"billingGroupDashboard"===a.view||("teamAdminConsole"===a.view||"abandonedDraftFiles"===a.view||"orgDomainManagement"===a.view)&&m(),h=!e.showingFileBrowserLoader&&!E&&(!!d.eD||(0,c.ce)()||g||e.pageHeaderContent);return l.useEffect(()=>{let e=e=>{e.keyCode===R.Uz.PERIOD&&document.activeElement?.tagName==="BODY"&&(0,p.kc)().internal_only_debug_tools&&(0,p.kc)().figment_debugger&&(0,iC.Y)()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),l.createElement("div",{className:S.cx.flex.flexRow.flexGrow1.$,ref:t},l.createElement(ih,{showLoadingState:!1,showingFileBrowserLoader:e.showingFileBrowserLoader}),l.createElement("div",{className:"file_browser_layout--fileBrowserPageViewContainer--m7oe2"},h&&l.createElement(F.tH,{boundaryKey:"FileBrowserPageHeader",fallback:F.H4.NONE_I_KNOW_WHAT_IM_DOING,hasCustomWASMBuild:tx.y4},l.createElement(i2,{pageHeaderContent:e.pageHeaderContent,pageHeaderActions:e.pageHeaderActions,breadcrumbResource:g,showNavigationChevrons:n})),l.createElement(F.tH,{boundaryKey:"FileBrowserLayout-content",fallback:l.createElement(tw.R,null),hasCustomWASMBuild:tx.y4},!e.showingFileBrowserLoader&&(f?l.createElement(iN.H,{org:_,isInFileBrowser:!0}):l.createElement(O.z,{layoutRef:t},e.children)))),l.createElement(iI.G,{entryPoint:iI.Q.FILE_BROWSER}))}var i8=a(90885);a(461816),(n||(n={})).filter=function(e,t){return"loaded"!==e.status?e:(0,tR.gB)(e.data.filter(t))};var i3=a(676485),i5=a(981911),i9=a(124423),i6=a(516724);function i7(e){let[t,a]=l.useState(!1),r=(0,s.wA)(),n=(0,s.d4)(e=>e.selectedView),i=(0,eZ.FC)(),o=e.team,c=()=>{(0,tC._J)("file_browser_team_click",o.id,i,{selectedView:"recentsAndSharing"===n.view?n.tab||t4.G.RECENTLY_VIEWED:n.view,viewMode:"grid"}),r(Q.kg({clickedResourceType:"team",resourceIdOrKey:o.id})),r(z.$T({view:"team",teamId:o.id}))},d=e.selectedTeamId===e.team.id,m=t||d;return l.createElement(i9.a,{name:o.name,description:o.description,headerLeft:l.createElement(a_.Ro,{className:i6.rP,entity:o,size:40}),headerRight:l.createElement(i5.m,{team:o,onLeave:e.onLeave,isCardActive:m}),onClick:t=>{1===t.detail?e.setSelectedTeamId(e.team.id):2===t.detail&&c()},canView:!0,isCardActive:m,isSelected:d,onMouseOver:()=>{a(!0)},onMouseOut:()=>{a(!1)}})}function oe(e){let t=e.teams;(0,B.sortAlphabeticallyByProperty)(t,"name");let[a,r]=l.useState(void 0);return l.createElement(i3.X,{emptyView:(0,k.tx)("team_tile.guest.no_teams.info",{orgName:e.orgName})},t.map(t=>l.createElement(i7,{key:t.id,team:t,onLeave:e.onLeave,selectedTeamId:a,setSelectedTeamId:r})))}var ot=a(502972),oa=a(257862);function or(e){let t=[...e.orgTeams.data||[]],a=t.length<B.REASONABLE_LOCALE_SORT_CUTOFF;(0,B.sortAlphabeticallyByProperty)(t,"name",{useExpensiveNaturalComparison:a});let r="loaded"!==e.orgTeams.status,[n,i]=l.useState(void 0),o=(0,s.wA)(),c=(e,t)=>{e.stopPropagation(),e.preventDefault();let a={top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX,width:1,height:1};i(t.id),o(z.j7({type:em.RQ,data:{teamId:t.id,targetRect:a}}))};return l.createElement(i3.X,{isLoading:r,emptyView:e.emptyView??l.createElement(ot.C,{onCreateTeam:e.onCreateTeam})},t.map(t=>l.createElement(oa.mc,{key:t.id,team:t,onJoin:e.onJoin,onLeave:e.onLeave,setSelectedTeamId:i,selectedTeamId:n,onContextMenu:c})))}var on=a(377090),oi=a(937294),oo=a(626322),ol=a(590564);let os=(0,n0.eU)(()=>(0,tR.gB)([])),oc=(0,s.Ng)(e=>({teamRoleRequests:e.teamRoleRequests,currentOrgUser:e.orgUsersByOrgId[e.currentUserOrgId][e.user.id],teams:e.teams,user:e.user,roles:e.roles,org:e.orgById[e.currentUserOrgId],orgId:e.currentUserOrgId,orgName:e.orgById[e.currentUserOrgId].name,permissionsState:(0,eS.getPermissionsStateMemoized)(e)}))(function(e){let t=(0,s.wA)(),a=e.currentOrgUser&&e.currentOrgUser.permission===e0._D.GUEST,r=Object.keys((0,oo.t)(e.roles.byTeamId,e.user.id)).filter(t=>e.teams[t]);if(a){let{orgId:a}=e,n=r.map(t=>e.teams[t]).filter(e=>e.org_id===a);return l.createElement(oe,{teams:n,onLeave:e=>{t(e$.to({type:ol.p,data:{teamId:e.id}}))},orgName:e.orgName})}let i=e.workspace?.id??iM.O,o=n.filter(e.orgTeams,t=>{if(e.onlyJoinedTeams)return(0,eS.hasViewerRoleAccessOnTeam)(t.id,e.permissionsState);if(i===iM.O){if(t.workspace_id)return!1}else if(i&&t.workspace_id!==i)return!1;return(0,oi.dP)(t,e.permissionsState,e.orgId)});return l.createElement(or,{orgTeams:o,onJoin:e=>(0,on.GR)(t,e)(),onLeave:e=>{t(e$.to({type:ol.p,data:{teamId:e.id}}))},onCreateTeam:e.canCreateTeam?()=>{let a={workspaceId:e.workspace?.id??iM.O};t(e$.to({type:tq.Uc,data:a}))}:void 0,emptyView:i&&!e.canCreateTeam?(0,k.t)("team_tile.no_teams.empty_workspace"):void 0})});function od(e){let t=(0,eq.sZ)(),a=(0,eZ.FC)(),r=!(0,eS.canMemberOrg)(t?.id??null,a),n=(0,e_.md)(r?os:i8.E),{canCreateTeam:i}=(0,aa.l6)(t,e.workspace?.id);return l.createElement(oc,{orgTeams:n,workspace:e.workspace,canCreateTeam:i,onlyJoinedTeams:e.onlyJoinedTeams})}var om=a(776551),ou=a(481373),o_=a(939683);function op(e){return l.createElement(r8.nR,{className:"button_custom--buttonSecondaryDisabled--9JtXq","data-tooltip-type":eL.Ib.TEXT,"data-tooltip":e.tooltipText,"data-tooltip-show-immediately":!0,onMouseEnter:e.onMouseEnter},e.text)}function of({backgroundColor:e}){let t=(0,o_.NV)(tC.WL),a=(0,s.d4)(e=>e.selectedView.view),r=(0,k.t)("license_group_view.toolbar.new_team_button"),n=()=>{t(tC.jd,{placement:a})};return e?l.createElement("button",{className:D()("button_custom--buttonBase--H2KEL button--buttonBase---72nl",(0,iO.kx)(e)?"button_custom--buttonColorsForDarkBackground--CiydL":"button_custom--buttonColorsForLightBackground--wejKf","button_custom--buttonHugContents--Ntibj"),"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":(0,k.t)("license_group_view.toolbar.create_team_disabled"),"data-tooltip-show-immediately":!0,onMouseEnter:n,disabled:!0},l.createElement(L.E,{fontSize:11,fontWeight:"medium",truncate:!0},r)):l.createElement(op,{text:r,tooltipText:(0,k.t)("license_group_view.toolbar.create_team_disabled"),onMouseEnter:n})}var og=a(895945),oE=a(798099),oh=a(292164);function ov(e){let t=(0,s.wA)(),a=l.useRef(null),r=(0,s.d4)(({dropdownShown:e})=>e),n=e.dropdownKey&&e.dropdownOptions&&r&&r.type===e.dropdownKey&&r.data&&r.data.targetRect,i=(0,eG.j6)();return l.createElement("button",{ref:a,onClick:()=>{a.current&&t(z.j7({type:e.dropdownKey,data:{targetRect:a.current.getBoundingClientRect()}}))},onMouseDown:oE.dG,className:S.cx.bgNone.ml8.$,"aria-label":e.buttonAriaLabel},l.createElement(H.B,{svg:oh.A,className:D()("page_header_dropdown--dropdownIcon--tr-Wo",e.dropdownColorClassName?e.dropdownColorClassName:"page_header_dropdown--dropdownIconColor--kMRsm")}),n&&l.createElement(aF.j,{parentRect:r.data.targetRect,minWidth:224,rootAndSubmenuMaxWidth:224,items:e.dropdownOptions,dispatch:t,onSelectItem:e=>{e.callback&&e.callback("",null,t),e.trackingProperties&&(0,tC.Cu)({...i.properties,trackingContext:i.name,...e.trackingProperties})},showPoint:!0}))}var oy=a(96796),ob=a(46481),ow=a(553015);let oT=l.forwardRef(function({disabled:e,onClick:t,onKeyDown:a,icon:r,children:n,onFocus:i,onBlur:o},s){let c=l.useCallback(e=>{a?.(e),e.keyCode===R.Uz.ESCAPE&&e.currentTarget.blur()},[a]);return l.createElement("button",{disabled:e,onClick:t,onKeyDown:c,className:D()("inverted_inverse_button--buttonBase--P39G5 button--buttonBase---72nl","inverted_inverse_button--buttonColors--7P1RD","inverted_inverse_button--buttonHugContents--PlfBM"),onFocus:i,onBlur:o,ref:s},r&&l.createElement("div",{className:"inverted_inverse_button--iconContainer--nR8Kk"},l.createElement(eO.In,{icon:r})),n&&l.createElement(L.E,{fontSize:11,fontWeight:"medium",truncate:!0},n))});var oI=a(783423),oC=a(740998);let ox=(e,t)=>{if(t)return S.cx.colorIconDisabled.$;switch(e){case"primary":case"destructive":case"success":case"toolbar-secondary":return S.cx.colorIconOnbrand.$;case"inverse":return S.cx.colorIconOninverse.$;default:return S.cx.colorIcon.$}},oN=l.forwardRef((e,t)=>{let a=l.createElement("div",{className:S.cx.flex.gap6.itemsCenter.$,"data-testid":e.dataTestId},l.createElement(H.B,{className:ox(e.variant,e.disabled),svg:oC.A}),l.createElement(L.E,null,e.text),e.hasDropdown&&l.createElement(ob.U,{className:ox(e.variant,e.disabled),svg:oI.A},l.createElement(oy.O,{className:"plus_button--icon--zl7Xl"})));return"inverted-inverse"===e.variant?l.createElement(oT,{onMouseDown:e.onMouseDown?e.onMouseDown:g.lQ,onClick:e.onMouseDown?g.lQ:e.onClick,disabled:e.disabled},a):l.createElement(ow.$,{"data-onboarding-key":e["data-onboarding-key"],variant:e.variant,onMouseDown:e.onMouseDown?e.onMouseDown:g.lQ,onClick:e.onMouseDown?g.lQ:e.onClick,disabled:e.disabled,ref:t},a)});var oS=a(895379),ok=a(268537),oL=a(56342),oA=a(300587),oR=a(677859),oF=a(662599),oO=(e=>(e.SOLID="solid",e.NO_FILL="no_fill",e))(oO||{});function oP({selectedFillOption:e,onSelectFillOption:t}){let a={solid:(0,k.t)("workspace_view.toolbar.solid"),no_fill:(0,k.t)("workspace_view.toolbar.no_fill")};return l.createElement(ok.Ve,{className:S.cx.ml8.colorTextMenuSecondary.colorIconMenuSecondary.$,dropdownButton:function({onClick:t}){return l.createElement(oR.$n,{className:S.cx.ml4.mr4.$,role:"combobox",onClick:t,caret:"down"},l.createElement("span",{className:S.cx.minW32.mr8.$},a[e]))},dropdownOptionsClassName:S.cx.mt4.$,options:["solid","no_fill"].map((e,r)=>l.createElement(ok.c$,{className:S.cx.colorTextMenuSecondary.$,key:r,id:e,onClick:()=>{t(e)}},a[e])),optionsBelowSelector:!0,noBorder:!0})}let oD=ro.M4.Mutation(async e=>{await oL.u.updateColor(e)});function oM({workspace:e,onClose:t}){let a=(0,s.wA)(),r=(0,ro.n_)(oD),n=[{option:iV},...(0,iB.TS)("base").filter(e=>!(0,iO.DA)(e,(0,iB.BV)(iR.daH.BLACK,"base"))).map(e=>({option:e})),...(0,iB.TS)("baseLight").map(e=>({option:e}))],i=l.useRef(null),[o,c]=l.useState(!1),d=(0,iD.DP)(),m=function(e){try{if(e)return(0,iO.H0)(e)}catch(e){console.error(e)}}((e?.colorConfig?.colors??[])[0]),[u,_]=l.useState(m?"solid":"no_fill"),[p,f]=(0,e_.fp)(iU);return l.useEffect(()=>(f(m),()=>{f(void 0)}),[]),l.useEffect(()=>{if(!o){let e=e=>{"Escape"===e.key&&t()},a=e=>{i.current&&!i.current.contains(e.target)&&t()};return document.addEventListener("keydown",e),document.addEventListener("pointerdown",a),()=>{document.removeEventListener("keydown",e),document.removeEventListener("pointerdown",a)}}},[o,t]),l.createElement(l.Fragment,null,l.createElement("div",{role:"button","aria-label":(0,k.t)("common.close"),tabIndex:0,className:S.cx.absolute.wFull.hFull.top0.left0.zIndexTertiaryModal.$,onClick:t}),l.createElement("div",{className:S.cx.absolute.flex.h40.justifyCenter.alignCenter.flexShrink0.bRadius4.colorBgMenu.elevation400.mt8.ml32.zIndexModal.$,ref:i},l.createElement(oP,{selectedFillOption:u,onSelectFillOption:e=>{if(_(e),"solid"===e){let e="dark"===d?iV:iO.UE;f(m??e)}else f("unset")}}),iW(p)&&l.createElement(l.Fragment,null,l.createElement(oR.wv,null),l.createElement(oA.qW,{buttonClassName:S.cx.ml2.mr2.$,options:n,value:{option:p},onColorChange:e=>{f(e.option)},paletteType:"base",numColumns:9,optionSize:"medium",buttonSize:"xsmall",shouldDisableDataTooltip:!0,dropperDisabled:!0,positionX:()=>0,positionY:(e,t)=>(0,oF.DH)(e,t,4),shouldCustomColorPopoverCloseOnEscape:!0,isColorPopoverOpen:o,setIsColorPopoverOpen:c,hasNonWhiteboardColors:!0})),l.createElement(oR.wv,null),l.createElement(oR.$n,{className:S.cx.ml4.mr2.$,onClick:t},l.createElement("span",{className:S.cx.mr1.colorTextToolbarSecondary.$},(0,k.t)("workspace_view.color.toolbar.cancel"))),l.createElement(oR.$n,{className:S.cx.mr8.$,onClick:()=>{r({workspaceId:e.id,colors:iW(p)?[(0,iF.colorToHex)(p)]:[],onfulfilled:()=>a(aJ.F.enqueue({message:(0,k.t)("workspace_view.toolbar.workspace_color_updated")})),onrejected:()=>{let e=(0,k.t)("workspace_view.toolbar.workspace_color_update_error");a(W.s.error(e)),console.error(e)}}),t()}},l.createElement("span",{className:S.cx.colorTextOnbrand.$},(0,k.t)("workspace_view.color.toolbar.save")))))}var oB=a(353265);let oU=ro.M4.Mutation(async e=>{await oL.u.updateDescription(e)}),oV=(0,aL.Ju)(function({workspace:e}){let t=(0,s.wA)(),a=(0,ro.n_)(oU);return l.createElement(oB.c,{title:(0,k.t)("workspace_view.description_modal.title"),subtitle:l.createElement("div",{className:S.cx.mb16.$},l.createElement(L.E,{color:"secondary"},(0,k.tx)("workspace_view.description_modal.subtitle",{allWorkspacesText:l.createElement("span",{className:S.cx.fontSemiBold.$},(0,k.t)("sidebar.browse.all_workspaces"))}))),initialName:e.description??"",placeholder:(0,k.t)("workspace_view.description.placeholder"),submitText:(0,k.t)("workspace_view.description.save"),onRename:r=>a({workspaceId:e.id,description:r}).then(()=>t(aJ.F.enqueue({message:(0,k.t)("workspace_view.description_update_updated")})),()=>{let e=(0,k.t)("workspace_view.description_update_error");t(W.s.error(e)),console.error(e)})})},"UpdateWorkspaceDescriptionModal");var oH=a(32863),oW=a(797804);let oj=(0,s.Ng)(e=>({currentUserId:e.user?.id}))(function(e){let t=t=>{t.stopPropagation(),e.canLeave&&e.onLeaveClick()},a=e.members.length,r=e.membersToShow||10;return l.createElement("div",null,!e.removeHeader&&l.createElement("div",{className:S.cx.font13.fontMedium.mb12.$},e.label||(0,k.t)("file_browser.team_overview.member_label")),e.members.slice(0,r).map(a=>{let r=a.id===e.currentUserId,n=e.showAdminBadge&&e.showAdminBadge(a);return l.createElement(a_.az,{key:a.id,size:24,entity:a,className:e.customAvatarRowStyle?e.customAvatarRowStyle:S.cx.font13.mb16.$,showIsMe:r,onClick:e.onMemberClick,badge:n?{color:el.zE.DEFAULT,text:(0,k.t)("file_browser.badge_label.admin")}:void 0,includeUserEmailAddress:e.shouldIncludeUserEmailAddress},e.canLeave&&r&&l.createElement("span",{onClick:t,className:"members_preview--leaveLink--v8vxs text--fontPos13--xW8hS text--_fontBase--QdLsd blue_link--blueLink--9rlnd"},(0,k.tx)("file_browser.team.leave_confirm")))}),a>r&&(e.customOverflowRow||l.createElement("div",{className:"members_preview--totalMemberCountContainer--wYQwX",onClick:e.onClickShowMore},l.createElement(H.B,{svg:oW.A,className:"members_preview--teamIcon--UFW2s"}),l.createElement("div",{className:"members_preview--totalMemberCount--D3Q8a text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("file_browser.team_overview.num_others",{numMembers:a-r})))))});var o$=a(589640),oG=a(548593),oY=(e=>(e.MEMBERS="MEMBERS",e.ADMINS="ADMINS",e))(oY||{});function oz(e){let t=(0,oG.rw)(),a=new Map([["MEMBERS",(0,k.t)("workspace_view.members_modal.members")],["ADMINS",(0,k.t)("workspace_view.members_modal.admins")]]),r=[];return a.forEach((a,n)=>{r.push(l.createElement(t,{tab:n,mobileNavTabTitle:a,selectedTab:e.selectedTab,key:n,onClick:()=>e.setTab(n)},a))}),l.createElement("div",{className:"workspace_members_modal--tabsContainer--DBh33"},r)}function oQ(e){return l.createElement("div",{className:"workspace_members_modal--searchContainer--KGPrU modal--searchContainer--EA8ib"},l.createElement(oH.IW,{className:"workspace_members_modal--searchBar--z110d",focusOnMount:!0,query:e.query,clearSearch:()=>{e.onChange("")},onChange:e.onChange,hideXIcon:!0,hasTransparentBackground:!0,iconClassName:"workspace_members_modal--searchIcon--7DSd4",placeholder:(0,k.t)("workspace_view.members_modal.search_placeholder")}))}function oK(e){return l.createElement("div",{className:"workspace_members_modal--emptyContainer--bTf-s"},l.createElement("div",{className:"workspace_members_modal--emptyState--IwqA2 text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.content))}let oq=(0,aL.Ju)(function(e){let t=(0,s.wA)(),a=(e,t)=>null===e.baseOrgUser?-1:null===t.baseOrgUser?1:e.baseOrgUser.user.handle.localeCompare(t.baseOrgUser.user.handle),r=(e.workspace?.members||[]).slice().sort(a),n=(e.workspace?.admins||[]).slice().sort(a),i={};r.forEach(e=>{e.baseOrgUser&&(i[e.baseOrgUser.user.id]=e.permission)});let[o,c]=(0,l.useState)("MEMBERS"),[d,m]=(0,l.useState)(r),[u,_]=(0,l.useState)(""),p=l.createElement(oz,{dispatch:t,selectedTab:o,setTab:e=>{_(""),c(e),m("MEMBERS"===e?r:n)}}),f=d.filter(e=>{let t=e.baseOrgUser?.user,a=u.toLocaleLowerCase();return!!t?.email?.toLocaleLowerCase().includes(a)||!!t?.handle.toLocaleLowerCase().includes(a)}).map(e=>{let t=e.baseOrgUser.user;return{id:t.id,handle:t.handle,img_url:t.imgUrl,email:t.email}})||[],g=l.createElement(oQ,{query:u,onChange:e=>_(e)}),E=l.createElement(oK,{content:(0,k.tx)("workspace_view.members_modal.no_members",{workspaceName:e.workspace?.name})}),h=l.createElement(oK,{content:(0,k.tx)("workspace_view.members_modal.no_admins",{workspaceName:e.workspace?.name})}),v=l.createElement(oK,{content:(0,k.tx)("workspace_view.members_modal.no_results",{query:u})}),y=l.createElement(tD.P,{className:"workspace_members_modal--outerContainer--in03x",innerClassName:"workspace_members_modal--membersContainer--16pMi"},l.createElement(oj,{members:f,showAdminBadge:e=>"ADMINS"!==o&&i[e.id]===e0.bp.ADMIN,membersToShow:f.length,canLeave:!1,removeHeader:!0,customAvatarRowStyle:"workspace_members_modal--memberPopup--y5bbv text--fontPos13--xW8hS text--_fontBase--QdLsd admin_settings_page--avatarWithHandle--awCiS ellipsis--ellipsis--Tjyfa",shouldIncludeUserEmailAddress:!0,onMemberClick:(e,a)=>{t(z.$T({view:"user",userId:a.id,userViewTab:o$.o.INTERNAL_PROFILE})),t(e$.Ce())}}));return"MEMBERS"===o?0===r.length?y=E:0===f.length&&(y=v):"ADMINS"===o&&0===n.length&&(y=h),l.createElement(r6.XV,{title:p,headerSize:"large",fixedTop:!0,onClose:()=>{t(e$.Ce())}},l.createElement("div",{className:"workspace_members_modal--modalContainer--3d9wu"},l.createElement(nV.Y,{direction:"vertical",height:"fill-parent",width:"fill-parent",spacing:0},"MEMBERS"===o&&r.length>0&&g," ",y)))},"WORKSPACE_MEMBERS_MODAL",aL.ZU.YES);var oZ=a(247576);function oX(e){let{workspace:t,org:a}=e,r=(0,s.wA)(),n=(0,s.d4)(e=>e.currentUserOrgId),i=(0,s.d4)(e=>e.avatarEditorState),o=(0,ee._6)(),c=t?.canAdmin??!1,[d,m]=l.useState(!1),{canCreateTeam:u,cannotCreateTeamReason:_}=(0,aa.l6)(a,t?.id),p=(0,ak.S)(),f=window.innerWidth<=(0,ik.hG)(i0.tgj),g=t?t.id:iM.O,E=function(e){let t=(0,iD.DP)(),a=iH(e);if(a&&("light"===t||"dark"===t))return(0,iO.kx)(a)!==("dark"===t)}(t),h=iH(t),v=t?.members||[],y=()=>{n?r(e$.to({type:tq.Uc,data:{workspaceId:g}})):r(Q.Dw({previousView:o}))},b=l.useCallback((e,a,n)=>{if(t){let i={workspace:{id:t.id,name:t.name??"",imgUrl:t.imgUrl},entrypoint:"workspace_page_view",sectionId:n,favoriteId:a};e?r(t3.ZW(i)):r(t3.if(i))}},[r,t]),w=()=>{r(e$.to({type:oq,data:{workspace:e.workspace,tab:oY.MEMBERS}}))},T={kind:oS.A.ICON_TEXT_BUTTON,key:oS.D.VIEW_MEMBERS,displayText:v.length.toString(),onClick:e=>w(),icon:oZ.A,svgStyleClass:D()(h?(0,iO.kx)(h)?"workspace_page_header--iconTextButtonSvgForDarkBackground--Sq5Fx workspace_page_header--iconTextButtonSvg--zStD-":"workspace_page_header--iconTextButtonSvgForLightBackground--pL63t workspace_page_header--iconTextButtonSvg--zStD-":"workspace_page_header--iconTextButtonSvg--zStD-"),styleClass:D()(h?(0,iO.kx)(h)?"workspace_page_header--membersButtonForDarkBackground--2IRgt workspace_page_header--favoriteStarContainerForDarkBackground--MXtIt":"workspace_page_header--membersButtonForLightBackground--N75P8 workspace_page_header--favoriteStarContainerForLightBackground--AKL23":void 0),isLoading:e.isWorkspaceMembersLoading},I=l.useMemo(()=>l.createElement(rS.r,{setFavorite:b,favoriteType:e0.bk.WORKSPACE,resourceId:g,isFavoriteHeaderStar:!0,orgId:n,parentBackgroundColor:h}),[g,b,n,h]),C=function(){let e=(0,s.wA)(),t=(0,eJ.TA)(),a=(0,ao.of)();return r=>{let n=r.workspace.admins.some(e=>e.baseOrgUser?.user.id===t),i=[];return n&&i.push({displayText:(0,k.t)("workspace_view.toolbar.admin_settings"),callback:()=>{e(z.$T({view:"workspace",subView:ad.V0.ADMIN,workspaceId:r.workspace.id,selectedTab:a()}))}}),i.length>0&&i.push({displayText:"",separator:!0}),i.push({displayText:(0,k.t)("file_browser.copy_link"),callback:()=>{let t=(0,ao.fO)(r.workspace.id,r.org.id);e(a8.S({url:t}))}}),r.workspace.canAdmin&&(i.push({displayText:(0,k.t)("license_group_view.toolbar.change_icon"),callback:()=>{e((0,ez.X)({entity:r.workspace,entityType:e3.ck.WORKSPACE,shape:"SQUARE"}))}}),i.push({displayText:(0,k.t)("workspace_view.toolbar.change_color"),callback:r.onWorkspaceChangeColorClick}),i.push({displayText:(0,k.t)("workspace_view.description.title"),callback:()=>{e(e$.to({type:oV,data:{workspace:r.workspace}}))}})),i}}(),x=t&&a?C({workspace:t,org:a,onWorkspaceChangeColorClick:()=>m(!0)}):u&&f?[{displayText:(0,k.t)("org_view.new_team"),callback:y}]:void 0,N=[];if(_===aa.z4.TEAM_CREATION_CONTROL?N.push({kind:oS.A.CUSTOM,key:oS.D.NEW_TEAM,element:l.createElement(of,{backgroundColor:h})}):u&&N.push({kind:oS.A.CUSTOM,key:oS.D.NEW_TEAM,element:l.createElement(oN,{onClick:y,variant:E?"inverted-inverse":"inverse",text:(0,k.t)("license_group_view.toolbar.new_team_button")})}),e.showMembersButton&&N.push(T),p&&t&&N.push({kind:oS.A.CUSTOM_BUTTON,key:oS.D.FAVORITE,element:I,styleClass:D()(h?(0,iO.kx)(h)?"workspace_page_header--favoriteStarContainerForDarkBackground--MXtIt":"workspace_page_header--favoriteStarContainerForLightBackground--AKL23":void 0)}),!t)return l.createElement(og.z,{title:(0,k.t)("license_group_view.meta.unassigned_title",{orgName:a.name}),rightSideActions:N});let S=x?{kind:oS.A.CUSTOM,key:oS.D.DROPDOWN,element:l.createElement(ov,{buttonAriaLabel:(0,k.t)("org_view.page_header_dropdown_label"),dropdownKey:`workspace-context-${t.id}`,dropdownOptions:x,dropdownColorClassName:h?(0,iO.kx)(h)?"workspace_page_header--dropdownColorsForDarkBackground--OIHSt":"workspace_page_header--dropdownColorsForLightBackground--uH-aL":void 0})}:void 0;return l.createElement("div",{style:{backgroundColor:e.headerColor}},l.createElement(og.z,{avatar:c?l.createElement(e6.j,{avatarEditorState:i,entityType:e3.ck.WORKSPACE,entity:t,dispatch:r,size:og.I}):l.createElement(a_.z6,{entity:t,size:og.I}),title:h&&(0,iO.kx)(h)?l.createElement("span",{className:"workspace_page_header--titleColorForDarkBackground--Qnjvi"},t.name):t.name,badge:t.orgAccess===e0.bU.SECRET?l.createElement("div",{"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":(0,k.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,k.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},l.createElement(eO.In,{icon:"lock-16"})):void 0,rightSideActions:N,rightSideOfTitleAction:S,belowHeaderItem:d?l.createElement(oM,{workspace:t,onClose:()=>m(!1)}):void 0,textColor:E?"oninverse":void 0}))}function oJ(e){let t=(0,s.wA)(),a=e.workspace?.members,r=l.useMemo(()=>a||[],[a]),n=l.useMemo(()=>r.slice(0).sort(()=>Math.random()-.5),[r]),i={};return r.forEach(e=>{e.baseOrgUser&&(i[e.baseOrgUser.user.id]=e.permission)}),l.createElement("div",{className:S.cx.my24.mr8.ml24.$},l.createElement("div",{className:"workspace_page_meta_content--membersHeader--0jaJ3 text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.t)("workspace_view.sidebar.members")),l.createElement(oj,{removeHeader:!0,members:n.map(e=>e.baseOrgUser?.user).filter(e=>!!e),onMemberClick:(e,a)=>{t(z.$T({view:"user",userId:a.id,userViewTab:o$.o.INTERNAL_PROFILE}))},canLeave:!1,showAdminBadge:e=>i[e.id]===e0.bp.ADMIN,customOverflowRow:l.createElement(l.Fragment,null,l.createElement("button",{className:"workspace_page_meta_content--seeAllMembers--mIOar text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>{t(e$.to({type:oq,data:{workspace:e.workspace,tab:oY.MEMBERS}}))}},(0,k.t)("workspace_view.sidebar.see_all_members")))}))}var o0=a(330654);function o1({isExpanded:e,fill:t,onClick:a}){return l.createElement("div",{role:"button",tabIndex:-1,className:D()("expand_caret--animation--GOE8s",{"expand_caret--expanded--MmsW9":e}),onClick:a},l.createElement(eO.In,{icon:"caret-right-16",fill:t}))}function o2({isOpen:e,toggleIsOpen:t,collapseHeader:a,content:r}){return l.createElement("div",{className:S.cx.flex.flexColumn.wFull.$},l.createElement("div",{className:S.cx.flex.flexRow.gap4.itemsCenter.wFull.$},l.createElement(o1,{isExpanded:e,fill:"secondary",onClick:t}),a),l.createElement("div",{className:S.cx.grid.ml20.$,"aria-hidden":!e,style:tB.sx.add({transition:"grid-template-rows 0.3s ease"}).if(e,tB.sx.add({gridTemplateRows:"1fr"}),tB.sx.add({gridTemplateRows:"0fr"})).$},l.createElement("div",{className:S.cx.if(!e,S.cx.overflowHidden).$},r)))}var o4=a(126049),o8=a(586459),o3=a(635344),o5=a(883913),o9=a(433676),o6=a(550163),o7=a(172522),le=a(441192),lt=a(445092),la=a(967409),lr=a(206736);function ln({title:e,confirmText:t,emptyStateText:a,onSelectFile:r,onSubmit:n,files:i,tileClassName:o,renderFileTile:s,renderTileFooter:c,query:d,setQuery:m,gridText:u,shouldDisableTile:_}){let[p,f]=l.useState(null),E=l.useCallback(()=>{p&&n(p)},[n,p]),h=l.useCallback(e=>{if(e.length>0){let t=e[0].key;r?.(t),f(t)}else f(null)},[r]);return l.createElement(li,{title:e,onSubmit:E,confirmText:t,isDisabled:!p,query:d,onSearchChange:m,clearSearch:()=>m(""),searchPlaceholder:(0,k.t)("file_browser.choose_file_modal.search_for_a_file")},0===i.length?l.createElement("div",{className:S.cx.flex.flexRow.gap2.itemsCenter.justifyCenter.colorTextSecondary.hFull.wFull.flexGrow1.alignCenter.$},a):l.createElement(l.Fragment,null,u&&l.createElement("span",{className:S.cx.colorTextSecondary.$},u),l.createElement(lr.g,{containerClassName:S.cx.pb16.$,handleContextMenu:g.lQ,isDraggable:!1,items:i,multiselectDisabled:!0,doNotFocusOnLoad:!0,getAriaLabel:e=>e.name,tileClassName:o,renderTile:s,renderTileFooter:c,onSelection:h,keepSelectionOnFocusLost:!0,canSelectItem:e=>!_?.(e)})))}function li({title:e,confirmText:t,onSubmit:a,isDisabled:r,children:n,query:i,onSearchChange:o,clearSearch:s,searchPlaceholder:c}){return l.createElement(r6.Eo,{title:e,confirmText:t,onSubmit:a,disabled:r,maxWidth:1024,useRedesign:!0,fullWidthContent:!0},l.createElement(oH.IW,{className:D()(S.cx.px16.py8.colorBg.wFull.bb1.bSolid.colorBorder.borderBox.$,"choose_file_modal--heightOverride--QTue5"),hasTransparentBackground:!0,placeholder:c,focusOnMount:!0,query:i,onChange:o,clearSearch:s,iconClassName:S.cx.colorIcon.$,hideXIcon:!0}),l.createElement(tD.P,{className:"choose_file_modal--gridMaxHeight--8NKvW",innerClassName:S.cx.hFull.gap12.flex.flexColumn.pt16.px24.borderBox.$},n))}function lo({file:e,orgName:t,isDisabled:a}){let r=(0,o7.l)(e.folder_id),n=r.data;return l.createElement("div",{className:S.cx.pt8.flex.flexColumn.overflowHidden.$},l.createElement("div",{className:S.cx.flex.flexRow.gap4.justifyBetween.itemsCenter.maxWFull.$},l.createElement("span",{className:S.cx.ellipsis.textBodyLargeStrong.truncate.with({colorTextSecondary:a}).$},e.name),a&&t&&l.createElement("span",{"data-tooltip-type":"text","data-tooltip":(0,k.t)("file_browser.pinning.choose_file_to_pin_modal.file_not_workspace_visible.tooltip",{orgName:t}),"data-tooltip-show-immediately":!0,"data-tooltip-show-above":!0,"data-tooltip-max-width":500},l.createElement(eO.In,{icon:"info-16",fill:"secondary"}))),l.createElement("span",{className:S.cx.ellipsis.colorTextSecondary.truncate.$},"loaded"===r.status&&n?l.createElement("div",{className:S.cx.colorTextSecondary.truncate.$},n):null))}let ll=(0,aL.Ju)(function({workspaceId:e}){let t=(0,s.wA)(),a=(0,ay.yN)({migrationGroup:ab.L.GROUP_11,component:"ChooseFileToPinModal",attribute:"orgName",legacy:(e,t)=>t?.name??null,migrated:(e,t)=>t?.name??null}),[r,n]=l.useState(""),[i,o]=l.useState(null),c=l.useCallback(e=>{o(e)},[]);(0,np.Rs)(ng.wtK,{fileKey:i??""},{enabled:!!i});let d=(0,o5.L)("file_browser:file_picker_modal",la.Rx.ORG,!1),m=(0,av.dD)(e),u=l.useCallback(e=>{t(e$.ES(ll)),t(e$.to({type:(0,o3.a)(),data:{fileKey:e,source:r?"add_file_modal_search":"add_file_modal_suggested"}}))},[t,r]);l.useEffect(()=>(t(lt.Dy({entryPoint:"file_browser:file_picker_modal"})),t(lt.Rz({workspaceFilter:e})),()=>{t(lt.Rz({workspaceFilter:null})),t(lt.ky())}),[t,n,e]);let _=(0,o4.A)(d,400),p=l.useCallback(e=>{n(e),_(e,la.uH.FILES,null,!1,!1,!1,!0)},[_,n]),f=(0,av.$o)(e),E=(0,e_.md)(o6.ic),h=(0,o9.h)(),v=a2.Qw.useTransformShallowEqual(a2.Qw.all([f,m]),([e,t])=>{let a=new Set(t??[]);return((r?E.files?.results.map(e=>e.model):e.map(e=>(0,av.KR)(e)))??[]).filter(e=>!a.has(e.key))}),y=l.useMemo(()=>E.files?.results.map(e=>e.model.key)??[],[E]),b=(0,av.H6)(y,{enabled:r.length>0});if("loaded"!==b.status||!r&&"loaded"!==v.status||r&&h!==o8.r.SUCCESS)return l.createElement(li,{title:(0,k.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,k.t)("general.next"),isDisabled:!0,query:r,onSearchChange:p,clearSearch:g.lQ,searchPlaceholder:(0,k.t)("file_browser.choose_file_modal.search_for_a_file")},l.createElement("div",{className:D()(S.cx.flex.itemsCenter.justifyCenter.wFull.hFull.flexGrow1.$)},l.createElement(tP.qc,null)));let w=v.data??[],T=e=>{let t=b.data.get(e.key);return!!t&&!t?.canPinFileToWorkspace};return l.createElement(ln,{title:(0,k.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,k.t)("general.next"),tileClassName:"choose_file_to_pin_modal--showOnHoverContainer--DO9-h",query:r,setQuery:p,renderFileTile:(e,{isSelected:t,isHovered:a})=>l.createElement(le.Z,{tile:(0,rt.fA)(e),isSelected:t&&!T(e),isHovered:a,hideBranchIndicator:!0,hideFavoriteStar:!0}),renderTileFooter:e=>l.createElement(lo,{file:e,orgName:a,isDisabled:T(e)}),onSubmit:u,onSelectFile:c,files:w??[],gridText:r?void 0:(0,k.t)("file_browser.pinning.suggested"),emptyStateText:r?(0,k.tx)("file_browser.workspace_pinning.no_files_matching_query",{searchQuery:l.createElement("div",{className:S.cx.colorText.fontMedium.truncate.$},r)}):(0,k.t)("file_browser.workspace_pinning.no_suggested_files"),shouldDisableTile:T})},"ChooseFileToPinModal");var ls=a(609494),lc=a(174952),ld=a(566590),lm=a(606856),lu=a(121072),l_=a(318474),lp=a(903486),lf=a(671653);let lg={open:!0,openNewTab:!0,showInFolder:!0,copyLink:!0,pinToWorkspace:!0};function lE({suggestedFiles:e}){let t=e.slice(0,8),a=(0,ee._6)(),r=(0,s.wA)(),{showing:n,show:i,data:o}=(0,lu.L)(),c=l.useCallback((e,t)=>{m.Ay.redirect((0,rr.r1)(e)),(0,tC.k1)(e.key,{selectedViewName:a.view,entrypoint:"suggested_files_empty_state"}),t.stopPropagation(),t.preventDefault()},[a.view]),d=l.useCallback((e,t)=>{c({key:e.key,editor_type:e.editorType,url:e.url},t)},[c]),u=l.useCallback((e,t,a)=>{i({data:{tile:(0,av.bn)(e[0]),targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:a,enableRestore:t.shiftKey&&t.altKey}})},[i]);return l.createElement(l.Fragment,null,l.createElement("div",{className:S.cx.colorTextSecondary.truncate.$},(0,k.t)("file_browser.pinning.suggested")),l.createElement(lp.A,{items:t,multiselectDisabled:!0,isDraggable:!1,handleOpenItem:d,onSelection:e=>{r(a6.an()),r(a6.Ku({fileKeys:e.map(e=>e.key)}))},handleContextMenu:u,gridViewProps:{containerClassName:"suggested_files_grid--gridContainer--ZdukV",renderTile:e=>l.createElement("div",{className:S.cx.m8.opacity0_5.bRadius4.elevation100.overflowHidden.$,style:tB.sx.add({width:"80px"}).$},l.createElement(rN.NM,{file:e,noBorder:!0,size:rV.y.SMALL})),tileBorderRadius:8,tileBorderStyle:"dashed",tileFooterPosition:"right",renderTileFooter:(e,{isSelected:t,isHovered:a})=>l.createElement(lh,{file:e,isHovered:a,isSelected:t})},viewType:lf.XU.GRID}),n&&o?.tile?l.createElement(l_.i,{tileActions:lg,openTile:e=>c(o.tile.file,e),tile:o.tile,selectedTiles:[o.tile],dropdownVisible:n}):null)}function lh({file:e,isHovered:t,isSelected:a}){let r=(0,s.wA)(),n=l.useCallback(t=>{r(e$.to({type:(0,o3.a)(),data:{fileKey:e.key,source:"suggested_files_empty_state"}})),t.stopPropagation(),t.preventDefault()},[r,e]),i=e.project?.name;return l.createElement("div",{className:S.cx.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.ml16.$},l.createElement("div",{className:S.cx.textBodyMedium.truncate.$},e.name),t||a||E.Ay.mobile||E.Ay.tablet?l.createElement("div",{role:"button",tabIndex:0,className:S.cx.colorTextBrand.truncate.cursorPointer.$,onClick:n},(0,k.t)("file_browser.pinning.pin_file")):i?l.createElement("div",{className:S.cx.colorTextSecondary.truncate.$},i):null)}function lv({workspaceId:e}){let t;let a=(0,av.$o)(e);return t="loaded"!==a.status?l.createElement("div",{className:S.cx.py1.h20.wFull.$},l.createElement(tP.qc,null)):a.data.length>0?l.createElement(lE,{suggestedFiles:a.data}):l.createElement("span",{className:S.cx.colorTextSecondary.truncate.textBodyLarge.alignCenter.$},(0,k.t)("file_browser.pinning.no_pinned_files")),l.createElement("div",{className:S.cx.bRadius8.colorBgSecondary.px32.py24.flex.flexColumn.gap16.mt8.$},t)}var ly=a(109388),lb=a(346124),lw=a(88823),lT=a.n(lw),lI=a(511617),lC=a(988652),lx=a(733334),lN=a(564577),lS=a(167893),lk=a(296045);function lL({pinnedFile:e}){let t=(0,av.bn)(e.file),a=(0,o7.l)(e.file.folderId);return l.createElement("div",{className:S.cx.bRadius8.borderBox.p16.flex.flexColumn.gap16.colorBg.colorText.b1.bSolid.colorBorder.elevation300.flexGrow1.$,style:tB.sx.add({width:"422px",overflowY:"auto",overflowX:"hidden"}).$},l.createElement("div",{className:S.cx.flex.flexRow.gap16.$},l.createElement("div",{className:S.cx.flexBasisAuto.$},l.createElement(lk.e,{entity:{id:e.creator.id,img_url:e.creator.imgUrl,name:e.creator?.name??void 0,handle:e.creator?.handle}})),l.createElement("div",{className:S.cx.flex.flexColumn.overflowHidden.$},l.createElement("div",{className:S.cx.flex.flexRow.gap8.textBodyLarge.$},l.createElement(L.E,{fontWeight:"semi-bold",truncate:!0},e.creator.name),l.createElement("span",{className:S.cx.flexBasisAuto.flexGrow1.flexShrink0.$},l.createElement(L.E,{color:"secondary"},l.createElement(lN.h1,{date:e.createdAt})))),l.createElement("div",{className:S.cx.textBodyLarge.overflowBreakWord.$,dangerouslySetInnerHTML:{__html:(0,lx.p)((0,ls.sP)(e.description))}}))),l.createElement("div",{className:S.cx.flex.flexColumn.$},l.createElement("div",{className:S.cx.bRadius8.b1.colorBorder.bSolid.wFull.overflowHidden.$},l.createElement("div",null,l.createElement(lc.e,{tile:t,noBorder:!0})),l.createElement("div",{className:S.cx.flex.flexRow.gap8.itemsCenter.bt1.bSolid.colorBorder.p16.$},l.createElement(lS.x,{tile:t,usePageIcon:!0}),l.createElement("div",{className:S.cx.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.$},l.createElement("div",{className:S.cx.textBodyLargeStrong.truncate.$},e.file.name),"loaded"===a.status&&a.data?l.createElement("div",{className:S.cx.textBodyMedium.colorTextSecondary.truncate.$},a.data):null)))))}let lA={width:0,height:0};function lR({pinnedFile:e,targetRef:t,shouldHide:a}){let r=(0,lC.s)(t),[n,i]=(0,lC.M)(),[o,s]=l.useState(lA),[c,d]=l.useState(!1),m=l.useCallback(()=>{if(!t.current)return;let e=(0,lI.E)(t.current.getBoundingClientRect()),a=window.innerWidth,r=window.innerHeight,n=r-e.top-8,i=n>100;if(a-e.right>438&&i){s({transform:`translate(${e.right+8}px, ${e.top}px)`,maxHeight:n});return}if(e.left>438&&i){s({transform:`translate(${e.left-430}px, ${e.top}px)`,maxHeight:n});return}let o=430-(a-e.left),l=r-e.bottom-16;if(l>100){s({transform:`translate(${(0,lb.clamp)(e.left-o,0,e.left)}px, ${e.bottom+8}px)`,maxHeight:l});return}let c=e.top-16;s({top:"auto",bottom:"100vh",transform:`translate(${(0,lb.clamp)(e.left-o,0,e.left)}px, ${e.top-8}px)`,maxHeight:c})},[t,s]),u=!a&&(r||i),p=(0,_.ZC)(u);if(l.useEffect(()=>{if(!p&&u)m();else if(p&&!u){d(!0);let e=setTimeout(()=>{d(!1)},(0,ik.XB)("150ms"));return()=>{clearTimeout(e)}}},[u,p,m]),l.useEffect(()=>{let e=lT()(m),t=()=>{u&&e()};return document.addEventListener("scroll",t,!0),()=>{document.removeEventListener("scroll",t,!0)}},[u,m]),!t.current)return null;let f=l.createElement("div",{className:"pinned_files_hover--hoverCardOverflowWrapper--VaAZM"},l.createElement("div",{className:D()("pinned_files_hover--hoverCard--MLJbb",u&&"pinned_files_hover--makeVisible--QrDF7"),style:o,ref:n,role:"tooltip",onContextMenu:e=>{e.preventDefault(),e.stopPropagation()}},(u||c)&&l.createElement(lL,{pinnedFile:e})));return ly.createPortal(f,document.body)}let lF={open:!0,openNewTab:!0,showInFolder:!0,copyLink:!0,share:!0,duplicateToDrafts:!0,pinToWorkspace:!0,publishOrgTemplate:!0,favoriteFile:!0,unfavoriteFile:!0};function lO({workspaceId:e,pinnedFiles:t,canAdminWorkspace:a}){let r=(0,s.wA)(),n=(0,ee._6)(),i=(0,eJ.TA)(),{showing:o,show:c,data:d}=(0,lu.L)(),m=(0,lm.v)(),u=l.useCallback((t,a,r,i)=>{m(t,r),(0,tC.E9)(tC.gH,a.file,{entrypoint:i,selectedView:n.view,resourceType:"workspace",resourceId:e,pinDescription:(0,ls._Z)(a.description)})},[m,n.view,e]),_=l.useCallback((e,t)=>{u((0,av.bn)(e.file),e,t,"pinned files")},[u]),p=l.useCallback(e=>{if(1!==e.length)return;let t=e[0];(a||t.creator?.id===i)&&r(e$.to({type:(0,ld.I)(),data:{pinnedFileId:e[0].id}}))},[a,i,r]),f=l.useMemo(()=>t.filter(({file:e})=>!!e).map(e=>(0,av.bn)(e.file)),[t]),g=(0,rt.nw)(f),E=l.useMemo(()=>t.sort((e,t)=>e.createdAt>t.createdAt?1:-1),[t]);return l.createElement(l.Fragment,null,t.length>0?l.createElement(lp.A,{handleContextMenu:(e,t,a)=>{r(a6.an()),r(a6.Ku({fileKeys:e.map(e=>e.file.key)})),c({data:{tile:(0,av.bn)(e[0].file),targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:a}})},isDraggable:!0,items:E,handleDragDataTransfer:(e,t)=>{t.setFigFilesData(e.map(e=>(0,av.KR)(e.file)))},doNotFocusOnLoad:!0,getAriaLabel:e=>e.file.name,viewType:lf.XU.GRID,handleOpenItem:_,handleDeleteKey:p,gridViewProps:{containerClassName:"pinned_files_content--pinnedFilesGrid--WZBpn",renderTile:e=>l.createElement(lP,{pinnedFile:e,isDropdownOpen:o}),renderTileFooter:e=>l.createElement(lD,{pinnedFile:e}),renderTileDragImage:e=>l.createElement(rN.NM,{file:e.file,noBorder:!0})}}):l.createElement(lv,{workspaceId:e}),(()=>{let e=d?.tile??null,a=d?.index??0;return l.createElement(l_.i,{tile:e,selectedTiles:g,tileActions:lF,openTile:r=>{e&&u(e,t[a],r,"pinned files: context menu")},dropdownVisible:o})})())}function lP({pinnedFile:e,isDropdownOpen:t}){let a=l.useRef(null),r=(0,av.bn)(e.file);return l.createElement(l.Fragment,null,l.createElement(lR,{pinnedFile:e,targetRef:a,shouldHide:t}),l.createElement("div",{ref:a},l.createElement(lc.e,{tile:r,noBorder:!0,size:rV.y.SMALL})))}function lD({pinnedFile:e}){return l.createElement("div",{className:S.cx.pt8.flex.flexColumn.$},l.createElement("span",{className:S.cx.ellipsis.textBodyLargeStrong.truncate.$},e.file.name),l.createElement(L.E,{truncate:!0,showTooltipWhenTruncated:!0,color:"secondary"},(0,k.t)("tile.file_tile.pinned_by_user",{name:e.creator?.name??""})))}let lM=(0,e_.Iz)(e=>(0,e_.E2)(`file_browser.workspace.pinned_section_open.${e}`,!0,o0.boolean()));function lB({workspaceId:e,canAdminWorkspace:t}){let[a,r]=(0,e_.fp)(lM(e)),n=l.useCallback(()=>r(e=>!e),[r]),i=(0,s.wA)(),o=(0,eq.dq)(),c=(0,aa.Au)(o),d=(0,np.Rs)(ng.qTu,{workspaceId:e}),m=a2.Qw.useTransform(d,e=>e.workspace?.pinnedFiles??null),u=a2.Qw.useTransform(m,e=>e?e.length:0),_=a2.Qw.useTransform(a2.Qw.all([c,d]),([t,a])=>!!a.workspace&&(t===e||a.workspace.canAdmin)),p="loaded"!==u.status||u.data>=av.D1,f="loaded"===_.status&&_.data||"loaded"===u.status&&u.data>0,g=l.useCallback(()=>{i(e$.to({type:ll,data:{workspaceId:e}}))},[i,e]);return l.createElement(l.Fragment,null,f&&l.createElement(o2,{isOpen:a,toggleIsOpen:n,collapseHeader:l.createElement("div",{className:S.cx.flex.justifyBetween.itemsCenter.wFull.$},l.createElement("div",{"aria-expanded":a,role:"button",tabIndex:0,className:S.cx.flex.flexRow.gap4.itemsCenter.textBodyLargeStrong.cursorDefault.$,onClick:n},(0,k.t)("file_browser.pinning.pinned_files")),"loaded"===_.status&&_.data&&l.createElement("button",{onClick:g,disabled:p,"data-tooltip":p&&"loaded"===u.status?(0,k.t)("file_browser.pinning.max_files.add_button_tooltip",{maxPins:av.D1}):void 0,"data-tooltip-type":eL.Ib.TEXT,"data-tooltip-show-above":!0},l.createElement("div",{className:p?S.cx.colorTextDisabled.$:S.cx.colorTextBrand.$},(0,k.t)("file_browser.pinning.add_file")))),content:"loaded"===m.status?l.createElement(lO,{workspaceId:e,canAdminWorkspace:t,pinnedFiles:m.data??[]}):l.createElement(tP.qc,null)}))}function lU(){let e=(0,ee._6)(),t=(0,eq.sZ)(),a=(0,np.Rs)(ng.bUn,{orgId:t.id}),r="loaded"!==a.status,n=a.data?.org?.workspaces??[],i=r?[]:[...n],o=null;e.workspaceId&&(o=i.find(t=>t.id===e.workspaceId||t.mirroringLicenseGroup?.id===e.workspaceId));let s=(0,k.t)("view_selectors.file_browser.other_teams");o&&(s=o.name),(0,a7.hL)(s);let c=iH(o),d=!!e.workspaceId,m=(0,np.Rs)(ng.nD$,{workspaceId:e.workspaceId??""},{enabled:d}),u="loaded"===m.status,_="loading"===m.status,p=m.data?.workspace?.members??[],f=o?{...o,members:p}:void 0,g=o?.admins??[],E=d&&u&&p.length>0,h=d&&(_||p.length>0||g.length>0),v=(0,av.J_)();return r&&e.workspaceId?l.createElement(tP.qc,null):o&&!o?.canView?l.createElement(om.S,{resourceType:iT.Ft.WORKSPACE}):l.createElement(ou.r,{header:l.createElement(oX,{headerColor:c,workspace:f,org:t,isWorkspaceMembersLoading:_,showMembersButton:h}),content:l.createElement("div",{className:S.cx.flex.flexColumn.gap24.my24.$},o&&o?.id!==iM.O&&v()?l.createElement("section",{"aria-label":(0,k.t)("file_browser.pinning.pinned_files"),className:S.cx.pl12.pr32.borderBox.wFull.$},l.createElement(lB,{workspaceId:o.id,canAdminWorkspace:o.canAdmin})):null,l.createElement("section",{"aria-label":(0,k.t)("file_browser.teams")},l.createElement("div",{className:S.cx.mx32.textBodyLargeStrong.$},l.createElement("div",null,(0,k.t)("file_browser.teams"))),l.createElement(od,{workspace:o}))),metaContent:E?l.createElement(oJ,{workspace:f}):void 0})}var lV=a(753178),lH=a(950964),lW=a(427472),lj=a(802755),l$=a(909595),lG=a(491087),lY=a(293014),lz=a(444077);let lQ=l.memo(function(e){let t,a;return"implicit"===e.consentRegion?(t=lj.Ml,a=lj.e2):"explicit"===e.consentRegion&&(t=(0,lW.aJ)(),a=(0,lW.Sz)()),l.createElement("div",{role:"region","aria-label":t,className:D()(lG.MZ)},l.createElement(tF.Yo,{className:lG.o2,rel:"noopener",target:"_blank",href:a},l.createElement(H.B,{svg:lY.A})),l.createElement("span",{className:lG.R2,"aria-hidden":"true"},t))}),lK=l.memo(function(){return(0,p.kc)().cookie_banners_community?"implicit"===(0,p.Ay)().consent_region?l.createElement(lj.C$,{variant:l$.a.COMMUNITY,dismissIcon:lz.A,SecondaryButton:e=>l.createElement(lH.Wd,{fullWidth:!1,className:lG.Rn,use:"hollow",...e}),persistentMessage:l.createElement(lQ,{consentRegion:"implicit"})}):"explicit"===(0,p.Ay)().consent_region?l.createElement(lW.ZQ,{variant:l$.a.COMMUNITY,dismissIcon:lz.A,SecondaryButton:e=>l.createElement(lH.Wd,{fullWidth:!1,className:lG.Rn,use:"hollow",...e}),PrimaryButton:e=>l.createElement(lH.Wd,{fullWidth:!1,className:lG.Rn,use:"standard",...e}),persistentMessage:l.createElement(lQ,{consentRegion:"explicit"})}):null:null});var lq=a(385422),lZ=a(460845),lX=a(837324),lJ=a(612776),l0=a(555328),l1=a(686257);function l2({children:e}){return l.createElement(l.Fragment,null,e)}var l4=a(453134),l8=a(313507);let l3=e=>{let t={};return e.filter(e=>{let a="model"in e?e.model.id:e.id;return!t[a]&&(t[a]=!0,!0)})};function l5(e="normal"){return"rows"===e?l8.bu:"profile"===e?l8._1:"compact"===e?l8.en:l8.z3}function l9({resources:e,adtlClassName:t,showAsTable:a=!1,showMoreCallback:r,onIntersectionChange:n,viewContext:i="feedResourceGrid",TileWrapper:o=l2}){let c=(0,lJ.X5)(),d=(0,s.d4)(e=>e.authedActiveCommunityProfile),m=l.useMemo(()=>l3(e),[e]);return l.createElement(eG.fu,{name:i},l.createElement("div",{className:D()(t||l8.z3,{[l8.wS]:c})},m.map((e,t)=>"is_widget"in e?e.is_widget?l.createElement(o,{key:`widget-${e.id}`,resourceId:e.id,resourceType:l0.vt.WIDGET,resourceName:(0,lX.qD)(e).name},l.createElement(l4.bN,{key:`widget-${e.id}`,index:t,resource:e,onIntersectionChange:t=>n?.(e,t),subView:i})):a?l.createElement(o,{key:`pluginRow-${e.id}`,resourceId:e.id,resourceType:l0.vt.PLUGIN,resourceName:(0,lX.qD)(e).name},l.createElement(l4.mb,{key:`pluginRow-${e.id}`,index:t,resource:e,onIntersectionChange:t=>n?.(e,t),isOrgTeamBrowsing:!!(d?.team_id||d?.org_id)})):l.createElement(o,{key:`plugin-${e.id}`,resourceId:e.id,resourceType:l0.vt.PLUGIN,resourceName:(0,lX.qD)(e).name},l.createElement(l4.cS,{index:t,key:`plugin-${e.id}`,resource:e,onIntersectionChange:t=>n?.(e,t),subView:i})):"resources"in e?l.createElement(o,{key:`profileRow-${e.model.id}`,resourceId:e.model.id,resourceType:"profile",resourceName:e.model.name},l.createElement(l4.Yw,{index:t,key:`profileRow-${e.model.id}`,resource:e,authedActiveCommunityProfile:d})):"profile_handle"in e?l.createElement(o,{key:`profile-${e.id}`,resourceId:e.id,resourceType:"profile",resourceName:e.name},l.createElement(l4.UG,{key:`profile-${e.id}`,resource:e})):l.createElement(o,{key:`file-${e.id}`,resourceId:e.id,resourceType:l0.vt.HUB_FILE,resourceName:(0,lX.qD)(e).name},l.createElement(l4.Cv,{index:t,key:`file-${e.id}`,resource:e,onIntersectionChange:t=>n?.(e,t),subView:i})))),e.length>0&&r&&l.createElement(l1.a,{callback:e=>{e[0].isIntersecting&&r()}}))}var l6=a(158996),l7=a(813408),se=(e=>(e.BUNDLE_SECTION="bundle_section",e.HERO_SECTION="hero_section",e))(se||{});let st=o0.object({title:o0.string(),description:o0.string().optional(),imageUrl:o0.string().url(),prompt:o0.string(),category:o0.string()});o0.object({figjam_ai:o0.array(st).nullable()});let sa=o0.object({hub_file_id:o0.string().optional(),plugin_id:o0.string().optional(),widget_id:o0.string().optional(),title:o0.string().optional(),description:o0.string().optional()}),sr=o0.object({resources:o0.array(sa).nullish(),resource:sa.nullish()}).nonstrict(),sn=o0.object({title:o0.string().nullable(),description:o0.string().nullable(),meta:sr,position:o0.number(),section_type:o0.nativeEnum(se),created_at:o0.string().nullable(),updated_at:o0.string().nullable()}),si=sn.extend({resources:o0.array(o0.custom())}),so=sn.extend({resource:o0.custom().nullable()}),sl=o0.object({question:o0.string(),answer:o0.string()}),ss=o0.object({faqs:sl.nullish(),breadcrumb_text:o0.string().nullish()}).nonstrict();function sc(e,t){let a=(0,l6.Vm)(e);return t?.resources?.length?(t?.resources).find(t=>a===l0.vt.HUB_FILE?t?.hub_file_id===e.id:a===l0.vt.PLUGIN?t?.plugin_id===e.id:a===l0.vt.WIDGET?t?.widget_id===e.id:void 0):t?.resource?t?.resource:void 0}o0.object({title:o0.string().nullable(),description:o0.string().nullable(),header_img_url:o0.string().url().nullable(),meta_title:o0.string().nullable(),meta_description:o0.string().nullable(),thumbnail_url:o0.string().url().nullable(),meta:ss,url_slug:o0.string(),sections:o0.array(o0.union([si,so])),profile:l7.bo,publishing_status:o0.string(),latest_published_at:o0.string().nullable(),created_at:o0.string().nullable(),updated_at:o0.string().nullable(),is_template_url:o0.boolean(),faqs:o0.array(sl).nullable()});let sd={"ui-kits":"ui-kits","2023-presentation-templates":"presentations","2023-resume-templates":"resume-templates","plugins-accessibility":"accessibility","org-chart-templates":"diagramming","plugins-tidy-cleanup":"file-organization","flow-chart-templates":"diagramming",icons:"icons","build-and-play":"fun-games","figjam-plugins":"whiteboarding",widgets:"team-meetings",typography:"fonts-typography","favorite-educational":"education","favorite-graphic-resources":"visual-assets",workshops:"brainstorming",diagramming:"diagramming",meetings:"team-meetings",engineering:"development",planning:"strategic-planning",brainstorms:"brainstorming",education:"education","favorite-team-bonding":"team-meetings",fun:"fun-games","graphic-resources":"visual-assets","how-teams-jam":"team-meetings","figjam-team-bonding":"team-meetings",educational:"education"},sm={"world-emoji-day-2021":"world-emoji-day","config2021-sessions":"config-sessions","holidays-2022":"holidays","config-2022-speaker-decks":"config-speaker-decks","schema-2022-speaker-decks":"schema-speaker-decks","social-media":"instagram-mockup-designs","pride-2021":"pride-posters"},su="community_collections--bannerContainer--7yGIP",s_="community_collections--copyButton--Mb-fA text--fontPos13--xW8hS text--_fontBase--QdLsd",sp="community_collections--resourcePreviewRow--wcOSC",sf="community_collections--resourcePreview--QDaaf",sg="community_collections--breadcrumbArrow--bv6Ia",sE="community_collections--parentBreadcrumb--fhqqK community_collections--breadcrumb--E-9f5 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",sh="community_collections--footerContainer--OI6W4";function sv({page:e}){let t=l.useRef(null),a=function(e,t=4,a=540){let[r,n]=l.useState(t),i=l.useCallback(()=>{if(window.innerWidth<=a){n(t);return}let r=e.current.children[1];if(0===r.children.length){n(0);return}let i=r.children[0].getBoundingClientRect().width;n(Math.floor(r.getBoundingClientRect().width/i))},[e,n,t,a]);return(0,u.h)(()=>(i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i))),r}(t),r=function(e){let{resources:t}=e.sections.reduce(({resources:e,resourceIds:t},a)=>{if("bundle_section"===a.section_type)for(let r of a.resources)r?.id&&!t.has(r.id)&&(t.add(r.id),e.push(r));else if("hero_section"===a.section_type){let r=a.resource;r&&!t.has(r.id)&&(e.push(r),t.add(r.id))}return{resources:e,resourceIds:t}},{resources:[],resourceIds:new Set});return t}(e);return l.createElement("div",{className:"community_collections--communityShelfAllPageRow--xw1Ut",ref:t},l.createElement("div",{className:"community_collections--communityShelfAllPageHeader--pbqhx"},l.createElement("div",{className:"community_collections--communityShelfAllPageHeaderLeftSide--6UBkD text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement("div",{className:"community_collections--communityShelfAllPageSubTitle--sP1yP text--fontPos12--YsUAh text--_fontBase--QdLsd"}),l.createElement("div",{className:"community_collections--communityShelfAllPageTitle--r8QHx ellipsis--ellipsis--Tjyfa text--fontPos24--YppUD text--_fontBase--QdLsd"},e.title)),l.createElement(lZ.N_,{to:e.is_template_url?`/community/templates/${e.url_slug}`:`/community/collections/${e.url_slug}`,className:"community_collections--communityShelfAllPageHeaderRightSide--UQUv8 community_collections--communityShelfAllPageHeaderLeftSide--6UBkD text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("community.shelves.show_more"))),l.createElement(l9,{resources:r.slice(0,a),adtlClassName:"community_collections--allCollectionsResourceGrid--jMwuQ feed_page--feedGrid--Wm-8Q"}))}function sy(e,t,a){return async(r,{pageParam:n})=>{let i;n?i=n:(i=e(r),i=`${i}${-1===i.indexOf("?")?"?":"&"}page_size=${t}`);let o=await (0,ts.GD)(i);return{data:a?a(o.data.meta):o.data.meta,nextPage:o.data.pagination?.next_page,prevPage:o.data.pagination?.prev_page}}}var sb=a(547807);let sw=new class{constructor(){this.CollectionPageSchemaValidator=(0,sb.vh)()}getCollectionPageByUrlSlug(e,t){return this.CollectionPageSchemaValidator.validate(async({xr:a})=>await a.get(`/api/collection_pages/${e}?is_template_url=${t}`))}},sT=new class{constructor(){this.CollectionPageSchemaValidator=(0,sb.vh)()}getCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.get(`/api/admin/collection_pages/${e}`))}updateCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.put(`/api/admin/collection_pages/${e.urlSlug}`,sb.td.toAPIParameters(e.collectionPage||{})))}deleteCollectionPageByUrlSlug(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.del(`/api/admin/collection_pages/${e.urlSlug}`))}createCollectionPage(e){return this.CollectionPageSchemaValidator.validate(async({xr:t})=>await t.post("/api/admin/collection_pages",sb.td.toAPIParameters(e.collectionPage||{})))}},sI=ro.M4.Query({fetch:async({urlSlug:e,isTemplateUrl:t})=>(await sw.getCollectionPageByUrlSlug(e,t)).data.meta});ro.M4.Query({fetch:async({urlSlug:e})=>(await sT.getCollectionPageByUrlSlug(e)).data.meta}),ro.M4.Mutation(async({urlSlug:e,collectionPage:t})=>(await sT.updateCollectionPageByUrlSlug({urlSlug:e,collectionPage:t})).data.meta),ro.M4.Mutation(async({urlSlug:e})=>(await sT.deleteCollectionPageByUrlSlug({urlSlug:e})).data.meta),ro.M4.Mutation(async e=>(await sT.createCollectionPage({collectionPage:e})).data.meta),ro.M4.PaginatedQuery({fetch:sy(()=>"/api/admin/collection_pages",8)});let sC=ro.M4.PaginatedQuery({fetch:sy(()=>"/api/collection_pages",8)});var sx=a(674694),sN=a(222085),sS=a(22332),sk=a(542061),sL=a(463420);function sA({breadcrumbs:e,surface:t}){return l.createElement("div",{className:D()("community_breadcrumbs--breadcrumbsContainer--e76p8",{"community_breadcrumbs--resourcePagePadding--MUCrg":"resource"===t,"community_breadcrumbs--categoryPadding--b-ilJ":"category"===t})},l.createElement("div",{className:"community_breadcrumbs--breadcrumbs--S2TN8"},l.createElement(eG.o3,{trackingEventName:"cmty_category",trackingProperties:{name:"community_breadcrumbs_home_clicked"},to:"/community"},l.createElement("div",{className:"community_breadcrumbs--homeIcon--VSWVj"},l.createElement(sk.Q,null))),e.map(e=>l.createElement("div",{className:"community_breadcrumbs--breadcrumbContainer--eI8-l",key:e.text},l.createElement("div",{className:"community_breadcrumbs--chevronIcon--rXeJw"},l.createElement(sL.k,null)),l.createElement(eG.o3,{...e.linkProps,className:"community_breadcrumbs--breadcrumb--Op180 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.text)))))}function sR({collection:e}){let t=(0,sS.N)(`(max-width: ${i0._C6})`),a=[{text:(0,k.t)("community.breadcrumbs.collections"),linkProps:{to:"/community/collections",trackingEventName:"cmty_category"}},e?.title&&{text:e.title,linkProps:{to:`/community/collections/${e.url_slug}`,trackingEventName:"cmty_category",trackingProperties:{name:"collection_breadcrumb_clicked",is_mobile:t}}}].filter(Boolean);return l.createElement(sA,{breadcrumbs:a,surface:"collection"})}var sF=a(800576),sO=a(742580),sP=a(944452);let sD="footer--divider--srDs2";var sM=a(686352);let sB=o0.object({label:o0.string(),url:o0.string()});function sU(){let e=[{title:(0,k.t)("community.footer.popular_searches"),items:[{label:(0,k.t)("community.footer.resume"),url:new sP.IE({categorySlug:sO.LJ.resumes}).href},{label:(0,k.t)("community.footer.mobile_apps"),url:new sP.IE({categorySlug:sO.LJ.mobileApps}).href},{label:(0,k.t)("community.footer.presentations"),url:new sP.IE({categorySlug:sO.LJ.presentations}).href},{label:(0,k.t)("community.footer.ui_kits"),url:new sP.IE({categorySlug:sO.LJ.uiKits}).href},{label:(0,k.t)("community.footer.calendar_templates"),url:new sP.IE({categorySlug:sO.LJ.calendarTemplates}).href}]},{title:(0,k.t)("community.footer.most_used"),items:[{label:"Material 3 Design Kit",url:"/community/file/1035203688168086460"},{label:"iOS 18 and iPadOS 18",url:"/community/file/1385659531316001292"},{label:"Figma auto layout playground",url:"/community/file/784448220678228461"},{label:"Anima - Figma to React, HTML",url:"/community/plugin/857346721138427857/anima-figma-to-react-html-react-html-in-devmode"},{label:"Ant Design Open Source",url:"/community/file/831698976089873405"}]},{title:(0,k.t)("community.footer.recommended_categories"),items:[{label:(0,k.t)("community.collections.instagram_templates"),url:new sP.IE({categorySlug:sO.LJ.instagramTemplates}).href},{label:(0,k.t)("community.footer.workshop_templates"),url:new sP.IE({categorySlug:sO.LJ.workshopTemplates}).href},{label:(0,k.t)("community.footer.data_templates"),url:new sP.IE({categorySlug:sO.LJ.dataTemplates}).href},{label:(0,k.t)("community.collections.laptop_mockups"),url:new sP.IE({categorySlug:sO.LJ.laptopMockups}).href},{label:(0,k.t)("community.footer.design_inspirations"),url:new sP.IE({categorySlug:sO.LJ.designInspirations}).href}]},{title:(0,k.t)("community.footer.top_categories"),items:[{label:(0,k.t)("categories.design_templates"),url:new sP.IE({categorySlug:sO.LJ.designTemplates}).href},{label:(0,k.t)("categories.libraries"),url:new sP.IE({categorySlug:sO.LJ.libraries}).href},{label:(0,k.t)("categories.icons"),url:new sP.IE({categorySlug:sO.LJ.icons}).href},{label:(0,k.t)("categories.development"),url:new sP.IE({categorySlug:sO.LJ.development}).href},{label:(0,k.t)("categories.brainstorming"),url:new sP.IE({categorySlug:sO.LJ.brainstorming}).href}]}];function t({href:e,children:t}){let a={trackingEventName:"cmty_footer",trackingProperties:{name:"footer_link_clicked",link:e}};return(0,sF.vh)(e)?l.createElement(eG.L0,{href:e,...a},t):l.createElement(eG.o3,{to:e,...a},t)}return l.createElement("div",{className:"footer--footer--tuKBS text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"community-footer"},l.createElement("div",{className:"footer--sectionsContainer--BR5as"},e.map(e=>l.createElement(nV.Y,{key:e.title,direction:"vertical",padding:{right:16}},l.createElement("div",{className:"footer--sectionTitle--pM53E"},e.title),e.items.map(e=>l.createElement(t,{key:e.url,href:e.url},e.label))))),l.createElement(nV.Y,{direction:"vertical",spacing:16},l.createElement(t,{href:"/"},l.createElement(H.B,{svg:sM.A,className:"footer--wordmark--CrA9E"})),l.createElement("div",null,l.createElement("span",null,(0,k.tx)("community.footer.copyright")),l.createElement("span",{className:sD},"\u2022"),l.createElement(t,{href:`${(0,p.tl)().figma_url}/auto-sitemaps/figma-community-index.xml`},(0,k.tx)("community.footer.site_map")),l.createElement("span",{className:sD},"\u2022"),l.createElement(t,{href:"https://help.figma.com/hc/en-us/articles/360038510573-Figma-Community-Guidelines"},(0,k.tx)("community.footer.community_guidelines")),l.createElement("span",{className:sD},"\u2022"),l.createElement(t,{href:"/community-terms"},(0,k.tx)("community.footer.terms_of_service")))))}o0.object({title:o0.string(),items:o0.array(sB)});var sV=a(886133);let sH="load_more_pagination_button--loadMoreButtonWrapper--nNqNo";function sW({onClick:e,isLoading:t,isMoreToFetch:a}){return t?l.createElement("div",{className:sH},l.createElement(sV.y$,null)):a?l.createElement("div",{className:sH},l.createElement(tF.tM,{onClick:e},(0,k.tx)("community.landing_page.load_more"))):null}var sj=a(406363),s$=a(616121),sG=a(694953);let sY=l.createElement("svg",{width:"7",height:"10",viewBox:"0 0 7 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M1 1L5 4.91111L1 9",strokeWidth:"2"})),sz=l.createElement("svg",{width:"18",height:"18",viewBox:"0 0 18 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0304 9.53033L8.00006 16.5607L3.46973 12.0303L4.53039 10.9697L8.00006 14.4393L13.9697 8.46967L15.0304 9.53033Z",fill:"white"})),sQ=l.createElement("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.52469 13.6568L8.17634 11.0052L8.88345 11.7123L6.2318 14.3639C4.96259 15.6331 2.90481 15.6331 1.6356 14.3639C0.366401 13.0947 0.366401 11.0369 1.6356 9.76772L4.28726 7.11607L4.99436 7.82317L2.34271 10.4748C1.46403 11.3535 1.46403 12.7781 2.34271 13.6568C3.22139 14.5355 4.64601 14.5355 5.52469 13.6568ZM11.7119 8.88383L11.0048 8.17673L13.6564 5.52507C14.5351 4.6464 14.5351 3.22177 13.6564 2.34309C12.7777 1.46441 11.3531 1.46442 10.4744 2.34309L7.82279 4.99474L7.11568 4.28764L9.76733 1.63599C11.0365 0.366784 13.0943 0.366784 14.3635 1.63599C15.6327 2.90519 15.6327 4.96298 14.3635 6.23218L11.7119 8.88383ZM6.26126 10.5043L10.5039 6.26164L9.73787 5.49561L5.49523 9.73825L6.26126 10.5043Z",fill:"white"})),sK={Blue:s$.wR,"Multiplayer Yellow":s$.Ks,Teal:s$.Dm,"Hot Pink":s$.FX,Redish:sj.qE,Green:s$.zo,Purple:s$.A8,"Dark Blue":sj.S0,"FigJam Primary":s$.L2},sq=Object.keys(sK)[0];function sZ(){let{urlSlug:e}=(0,lV.g)();return l.createElement(l.Fragment,null,l.createElement(s0,{urlSlug:e}))}function sX({isLoading:e,collectionPages:t}){if(!t.length&&e)return null;let a=t.filter(e=>!function(e){for(let t of e.sections)if("bundle_section"===t.section_type&&t.meta.hasOwnProperty("figjam_ai"))return!0;return!1}(e));return l.createElement(l.Fragment,null,a.map(e=>l.createElement(sv,{key:e.url_slug,page:e})))}function sJ(){let[e,t]=(0,f.IT)(sC("")),a="loading"===e.status||!!e.isFetchingNextPage;return l.createElement(l.Fragment,null,l.createElement(lq.S,null),l.createElement("div",{className:"community_collections--allCollectionsPage--YFBlU"},l.createElement("div",{className:"community_collections--allCollectionsHeaderContainer--9UL5p"},l.createElement("h1",{className:"community_collections--allCollectionsHeader--L0frM text--fontPos32Whyte--AHO3S text--_fontBaseWhyte--efAjI"},(0,k.tx)("community.categories.figma_community_collections")),l.createElement("h2",{className:"community_collections--allCollectionsSubHeader--Ww0AY text--fontPos18--rYXJb text--_fontBase--QdLsd"},(0,k.tx)("community.categories.check_out_collections_of_some_of_our_favorite_design_files_plugins_and_creators_from_figma_community"))),l.createElement(sR,null),l.createElement(sX,{isLoading:a,collectionPages:e.data||[]}),l.createElement(sW,{onClick:e=>{e.preventDefault(),t.fetchNextPage()},isLoading:a,isMoreToFetch:!!e.hasNextPage}),!(0,d.y3)()&&l.createElement("div",{className:sh},l.createElement(sU,null))))}function s0(e){let{urlSlug:t,profileTile:a,onSetShelf:r}=e,[n,i]=l.useState(null),o=()=>{sN.A.getCommunityShelves({urlSlug:t}).then(({data:e})=>{r&&r(e.meta[0]),i(e.meta[0])}).catch(()=>{})};if(l.useEffect(()=>{o()},[t]),!n)return l.createElement(l.Fragment,null);let s=l.createElement("div",{className:su},l.createElement("div",{className:"community_collections--breadcrumbTrailContainer--uibe8"},l.createElement("ul",{className:"community_collections--breadcrumbTrail--JQcAW"},l.createElement("li",{className:sE},l.createElement("a",{href:"/community"},(0,k.tx)("community.view_bar.home"))),l.createElement("div",{className:sg},sY),l.createElement("li",{className:sE},l.createElement("a",{href:"/community/collections"},(0,k.tx)("community.shelves.all_collections"))),l.createElement("div",{className:sg},sY),l.createElement("li",{className:"community_collections--childBreadcrumb--X4qf6 community_collections--breadcrumb--E-9f5 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",style:{color:sK[n.shelf_meta.banner?.color||sq]}},l.createElement("a",{href:window.location.href},(0,k.Yd)(n.i18n_meta.title,n.title)))))),c=l.createElement("div",{className:"community_collections--gridContainer--PkTIN"},l.createElement("div",{className:l8.IB},l.createElement("div",{className:"community_collections--feed--71Y8R feed_page--feed--7UNQq text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(l9,{resources:n.shelf_content,profileTile:a}))));return l.createElement(l.Fragment,null,l.createElement(lq.S,null),l.createElement(s2,{shelf:n}),s,c,!(0,d.y3)()&&l.createElement("div",{className:sh},l.createElement(sU,null)))}function s1(e){let{isMobileScreen:t}=e,[a,r]=l.useState(!1);return a?l.createElement("button",{className:s_},t?sz:(0,k.tx)("community.view_bar.copied")):l.createElement("button",{className:s_,onClick:()=>{r(!0),(0,lX.lW)(window.location.href),setTimeout(()=>r(!1),1e3)}},t?sQ:(0,k.tx)("community.view_bar.copy_link"))}function s2(e){let{shelf:t,bannerStyle:a}=e,[r,n]=l.useState(window.innerWidth),[i,o]=l.useState(null);l.useEffect(()=>{let e=i?.querySelectorAll(`.${sf}`),t=setInterval(()=>{e?.forEach((e,t)=>{setTimeout(()=>{e.style.transform="scale(1.03) translateX(-3px)",setTimeout(()=>{e.style.transform="scale(1)"},400)},100*t)})},4e3);return()=>clearTimeout(t)},[i]);let s=t?new Date(t?.updated_at):new Date;l.useEffect(()=>{let e=()=>{n(window.innerWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let c=sK[t?.shelf_meta.banner?.color||Object.keys(sK)[0]];return l.createElement("div",{className:a||su,ref:e=>o(e)},l.createElement("div",{className:"community_collections--banner--S2zb2 text--fontPos13--xW8hS text--_fontBase--QdLsd",style:{background:`linear-gradient(45deg, ${c}, ${c}80)`}},l.createElement("div",{className:"community_collections--bannerLeft--1oEnB"},l.createElement("div",{className:"community_collections--info--7PVz2"},t&&l.createElement(l.Fragment,null,l.createElement("div",{className:"community_collections--subtitle--dm958 text--fontPos12--YsUAh text--_fontBase--QdLsd community_collections--marginX--8hpWs"},(0,k.Yd)(t.i18n_meta.subtitle,t.subtitle)),l.createElement("h1",{className:"community_collections--title--cqPZt text--fontPos32Whyte--AHO3S text--_fontBaseWhyte--efAjI community_collections--marginX--8hpWs text--fontPos24--YppUD text--_fontBase--QdLsd"},(0,k.Yd)(t.i18n_meta.title,t.title)),l.createElement("p",{className:"community_collections--description--cjsSf community_collections--marginX--8hpWs text--fontPos16--oMC-G text--_fontBase--QdLsd"},(0,k.Yd)(t.i18n_meta.description,t.description))),l.createElement("div",{className:"community_collections--meta--Z25Vv"},l.createElement("div",{className:"community_collections--metaLeft--9gNAe"},l.createElement("div",{className:"community_collections--curatedImage--YDOQy community_collections--metaSpace--9Jcor"},l.createElement(H.B,{svg:sG.A,width:"15px",height:"15px",useOriginalSrcFills_DEPRECATED:!0})),l.createElement("div",{className:"community_collections--curated--fHhRS"},(0,k.tx)("community.view_bar.curated_by"),"\xa0"),l.createElement("a",{className:"community_collections--figmaLink--4hdDG community_collections--metaSpace--9Jcor",href:`${(0,p.tl)().figma_url}/@figma`},(0,k.tx)("community.view_bar.figma"))),l.createElement("div",{className:"community_collections--metaRight--hhG9k"},l.createElement("div",{className:"community_collections--separator--OfDbC community_collections--metaSpace--9Jcor"},"\u2022\xa0"),l.createElement("div",{className:"community_collections--updateDate--vgkWS"},(0,k.tx)("community.view_bar.updated_date",{date:s.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})),l.createElement(s1,{isMobileScreen:r<=540}))))),l.createElement("div",{className:"community_collections--bannerRight--CuT0Z"},t?.shelf_content&&l.createElement(s8,{resources:t.shelf_content}))))}function s4({resource:e}){let t=(0,lX.qD)(e),a=(0,lX.Qo)(e),r=e.thumbnail_url;return l.createElement("div",{className:sf},a?l.createElement(sx.Xy,{hubFileId:e.id,image:r,alt:t.name,onLoad:e=>e.target.style.opacity="1",resizedThumbnailUrls:e.resized_thumbnail_urls}):l.createElement("img",{alt:t.name,src:r}))}function s8(e){let t=e.resources.filter(e=>e&&("current_hub_file_version_id"in e||"current_plugin_version_id"in e));return l.createElement("div",{className:"community_collections--previewTransformContainer--8b6Bh"},l.createElement("div",{className:sp},!!t[0]&&l.createElement(s4,{resource:t[0]}),!!t[1]&&l.createElement(s4,{resource:t[1]})),l.createElement("div",{className:"community_collections--previewRowMiddle--jwXWH community_collections--resourcePreviewRow--wcOSC"},!!t[2]&&l.createElement(s4,{resource:t[2]}),!!t[3]&&l.createElement(s4,{resource:t[3]})),l.createElement("div",{className:sp},!!t[4]&&l.createElement(s4,{resource:t[4]}),!!t[5]&&l.createElement(s4,{resource:t[5]})))}var s3=a(240837);function s5({collection:e}){return l.createElement("div",{className:"header_attributes--attributes--UE7uE text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(s3.L,{publishers:[e.profile]}),l.createElement("div",{className:"header_attributes--profile--qrbMp"},(0,k.tx)("community.collections.curated_by"),l.createElement("span",{className:"header_attributes--profileName--n9lfZ"},l.createElement(s3.I,{publishers:[e.profile],useSmallWidth:!0,removeByLabel:!0,openInNewTab:!0}))),!!e.latest_published_at&&l.createElement("div",{className:"header_attributes--date--Zt4VW"},l.createElement("span",{className:"header_attributes--dot--1yVwn"},"\u2022"),l.createElement("span",null,new Date(e.latest_published_at).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))))}function s9({collection:e,preview:t=!1}){let a=(0,sS.N)(`(max-width: ${i0._C6})`);return l.createElement("div",{className:"collection_banner--collectionBanner--vyr9z"},l.createElement("div",{className:D()("collection_banner--headerContainer--52lrp")},!t&&l.createElement(sR,{collection:e}),l.createElement("div",{className:D()("collection_banner--collectionHeader--85DYX text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI",{[S.cx.flexColumn.$]:a})},l.createElement("h1",null,e.title)),l.createElement("p",{className:"collection_banner--collectionDescription--TjSn1 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.description)),l.createElement(s5,{collection:e}))}var s6=a(815063);function s7({title:e,hasDivider:t=!1,children:a}){let[r,n]=(0,l.useState)(!1);return l.createElement(nV.Y,{verticalAlignItems:"start",width:"fill-parent",height:"hug-contents"},l.createElement("div",{tabIndex:0,className:"faq_accordion--accordionButton--t23kN",role:"button",onClick:()=>{n(e=>!e)}},l.createElement("div",{className:D()("faq_accordion--accordionButtonContent--lHulm text--fontPos13--xW8hS text--_fontBase--QdLsd",{"faq_accordion--divider--VdCtu":t})},l.createElement(nV.Y,{direction:"vertical"},l.createElement(nV.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"center"},l.createElement("div",{className:r?"faq_accordion--semibold--ff-Ee":"faq_accordion--medium--4FEsg"},e),l.createElement(eO.In,{icon:r?"chevron-up-32":"chevron-down-32",fill:"secondary"})),l.createElement("div",{className:r?void 0:"faq_accordion--hidden--G1Whc"},a)))))}function ce({faqs:e}){return l.createElement("div",{className:"faqs_section--sectionContainer--NWPTP"},l.createElement(nV.Y,{horizontalAlignItems:"center"},l.createElement("div",{className:"faqs_section--section--5Tey9"},l.createElement(nV.Y,{width:"fill-parent",height:"hug-contents",direction:"vertical",spacing:0},l.createElement("div",{className:"faqs_section--sectionTitle--I5tGC text--fontPos24--YppUD text--_fontBase--QdLsd"},(0,k.tx)("community.collections.frequently_asked_questions")),l.createElement("div",{className:"faqs_section--sectionBody--e9hQ3"},e.map((e,t)=>l.createElement(s7,{key:t,hasDivider:0!==t,title:e.question},l.createElement("p",{className:"faqs_section--answer--CBO9A"},e.answer))))))))}var ct=a(675665);let ca=(0,n0.eU)(ct.$O.DescriptionView);var cr=a(545941),cn=a(892123),ci=a(175420),co=a(215822),cl=a(365292);function cs({orgName:e}){return l.createElement(cl.Ex,{background:"white",height:"16",border:"strong"},e?(0,k.tx)("community.plugins.private_for_plugin_org_name",{orgName:e}):(0,k.tx)("community.plugins.private_for_your_organization"))}var cc=a(17284);let cd=a(408552).ai;function cm({resource:e,resourceContent:t}){let a;let r=cd?l.createElement(cd,{resource:t}):void 0,n=(0,l6.$9)(e);return n&&(a=(0,co.Rt)(n)?l.createElement(cs,{orgName:n.roles?.org?.name}):void 0),l.createElement(l.Fragment,null,r||a||l.createElement(cc.I,{badges:e.badges,height:"16",border:"strong",disableIcon:!0}))}var cu=a(203008),c_=a(776621),cp=a(743282),cf=a(195847),cg=a(442898),cE=a(749949),ch=a(727749),cv=a(756085),cy=a(332086);let cb="save-button-clicked";function cw(e,t,a,r){return function(n,i){let o=i();if((0,tC.Cu)(cI({state:o,resource:e,viewContext:t,action:"save",loggedIn:!!o.user,forOrg:a}),cb),!o.user){(0,c_.$D)(n_.FigmaTeam.COMMUNITY,Error("[Community Saves] Attempted unsave without currentUser"));return}if((0,l0.U)(e)){let t=()=>{let t=ts.Ay.post(`/api/hub_file/${e.id}/save`),a=`optimistic-resource-save-${(0,cp.g)()}`;(0,tl.WB)().optimisticallyCreate({ResourceSave:{[a]:{userId:o.user.id,hubFileId:e.id,createdAt:new Date(Date.now())}}},t),t.then(()=>{n(aJ.F.enqueue({message:(0,k.t)("community.saves.file_saved_for_your_profile"),type:"resource-save"}))}).catch(e=>{(0,c_.$D)(n_.FigmaTeam.COMMUNITY,e)})};if(!o.authedActiveCommunityProfile?.public_at){n(e$.to({type:cy.G$,data:{userId:o.user.id,variations:[cy.FF.OPT_IN],onFinish:t}}));return}t()}else n((0,ch.d6)({id:e.id,resourceType:(0,l6.Vm)(e),communityProfile:i().authedActiveCommunityProfile||void 0,orgId:(0,p.kc)().cmty_deprecate_browse_as_admin?r:a&&o.authedActiveCommunityProfile?.org_id||void 0,source:ch.uR.COMMUNITY_HUB,optimisticData:{resource:e}}))}}function cT(e,t,a,r){return function(n,i){let o=i();if(!o.user){(0,c_.$D)(n_.FigmaTeam.COMMUNITY,Error("[Community Saves] Attempted save without currentUser"));return}((0,tC.Cu)(cI({state:o,resource:e,viewContext:t,action:"unsave",loggedIn:!!o.user,forOrg:a}),cb),(0,l0.U)(e))?ts.Ay.del(`/api/hub_file/${e.id}/save`).then(()=>{n(aJ.F.enqueue({message:(0,k.t)("community.saves.file_removed_from_your_profile"),type:"resource-save"}))}).catch(e=>{(0,c_.$D)(n_.FigmaTeam.COMMUNITY,e)}):n((0,ch.s1)({id:e.id,resourceType:(0,l6.Vm)(e),communityProfile:i().authedActiveCommunityProfile||void 0,orgId:(0,p.kc)().cmty_deprecate_browse_as_admin?r:a&&o.authedActiveCommunityProfile?.org_id||void 0,source:ch.uR.COMMUNITY_HUB}))}}function cI({state:e,resource:t,viewContext:a,action:r,loggedIn:n,forOrg:i=!1}){return{action:r,resourceId:t.id,resourceType:(0,l6.Vm)(t),viewContext:a,loggedIn:n,forOrgId:i?e.authedActiveCommunityProfile?.org_id:void 0,searchSessionId:(0,cE.w)(e)}}function cC(e,t){let a=(0,s.wA)(),r=!!function(e,t){let a=(0,np.Rs)(ng.Ko6,{hubFileId:t},{enabled:e===l0.vt.HUB_FILE}),r=(0,np.Rs)(ng.H$B,{pluginId:t,orgIds:[]},{enabled:e===l0.vt.PLUGIN||e===l0.vt.WIDGET});return(a.data?.resourceSave?.createdAt||r.data?.pluginInstall?.createdAt)??null}((0,l6.Vm)(e),e.id),n=l.useCallback(n=>{(0,aS.YQ)({id:"cmty-detail-view-saved-button-clicked"}),n?.stopPropagation(),r?a(cT(e,t)):a(cw(e,t))},[r,a,e,t]);return l.useCallback(e=>{(0,cg.FL)(cf.qB.SIGN_UP,{preventDefaultRedirect:!0})},[]),{onUserSaveActionClick:n,isResourceSavedForUser:r}}function cx(e,t){let a=(0,s.wA)(),r=(0,s.d4)(e=>(0,iv.Tm)(e)),n=(0,np.Rs)(ng.H$B,{pluginId:e.id,orgIds:Object.keys(r)}),i=(0,np.Rs)(ng.KC4,{pluginId:e.id,orgIds:Object.keys(r)}),o=l.useMemo(()=>{if((0,l0.U)(e))return{};let t=n.data?.orgPluginInstalls.status!==tR.tT.Loaded?[]:n.data?.orgPluginInstalls.data||[],a={};return Object.values(r).forEach(r=>{(!((0,l0.I0)(e)&&r.plugins_whitelist_enforced||(0,l0.xQ)(e)&&r.widgets_whitelist_enforced)||(i.data?.orgAllowlistedPlugins.status!==tR.tT.Loaded?[]:i.data?.orgAllowlistedPlugins.data||[]).some(e=>e.orgId===r.id))&&(a[r.id]=t.some(e=>e.orgId===r.id))}),a},[r,i,e,n.data?.orgPluginInstalls]),c=l.useCallback((r,n)=>{n?.stopPropagation(),o[r]?a(cT(e,t,!0,r)):a(cw(e,t,!0,r))},[a,e,t,o]);return{savesByOrgId:o,onOrgSaveAction:c}}let cN="save_button--buttonContainerBrandColors--xQhK7",cS="save_button--buttonContainerBase--m8dS8 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",ck="save_button--buttonContainerBaseWide--EDZcF",cL="save_button--buttonContainer--JQjtD save_button--buttonContainerBase--m8dS8 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",cA="save_button--iconContainer--Brlqe",cR="save_button--iconDisabled--15buP save_button--iconContainer--Brlqe";function cF(e){return l.createElement(cO,{...e})}function cO({resource:e,viewContext:t,authedActiveCommunityProfile:a}){let{onOrgInstallActionClick:r,isResourceInstalledForOrg:n}=function(e,t){let a=(0,s.wA)(),{orgPlugins:r,orgWidgets:n}=(0,cv.Be)(),i=(0,l0.xQ)(e)?n[e.id]:r[e.id];return{onOrgInstallActionClick:l.useCallback(r=>{r.stopPropagation(),i?a(cT(e,t,!0)):a(cw(e,t,!0))},[a,i,e,t]),isResourceInstalledForOrg:i}}(e,t),i=(0,ay.yN)({migrationGroup:ab.L.GROUP_4,attribute:"hasResourceAllowlist",component:"SaveButtonOrgInner",legacy:(t,a)=>(0,l0.xQ)(e)?a?.widgets_whitelist_enforced:a?.plugins_whitelist_enforced,migrated:(t,a)=>(0,l0.xQ)(e)?a?.widgetsWhitelistEnforced:a?.pluginsWhitelistEnforced}),o=(0,cv.ll)(),c=(0,cv.U6)(),d=(0,l0.xQ)(e)?!!c[e.id]:!!o[e.id];return i&&!d?l.createElement("button",{className:cL,disabled:!0},l.createElement("div",{className:cR},l.createElement(cu.LP,null))):l.createElement("button",{className:cL,onClick:r,"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":n?(0,k.t)("community.saves.remove_this_resource_for_everyone_at",{orgName:a.name}):(0,k.t)("community.saves.save_this_resource_for_everyone_at",{orgName:a.name})},l.createElement("div",{className:cA},n?l.createElement(cu.Ns,null):l.createElement(cu.LP,null)))}let cP="community-save-button-dropdown";function cD(e){let{viewContext:t}=e,a=(0,s.d4)(e=>e.authedActiveCommunityProfile);return(0,p.kc)().cmty_deprecate_browse_as_admin?l.createElement(cM,{resource:e.resource,viewContext:t,type:e.type,theme:e.theme,allowOrgSaves:e.allowOrgSaves,enableWideButtonForStickyFooter:e.enableWideButtonForStickyFooter}):a?.team_id||a?.org_id&&(0,l0.U)(e.resource)?l.createElement("button",{className:cL,disabled:!0},l.createElement("div",{className:cR},l.createElement(cu.LP,null))):a?.org_id?l.createElement(cF,{resource:e.resource,viewContext:t,authedActiveCommunityProfile:a}):l.createElement(cU,{resource:e.resource,viewContext:t,type:e.type,theme:e.theme,enableWideButtonForStickyFooter:e.enableWideButtonForStickyFooter})}function cM({resource:e,viewContext:t,type:a,theme:r,allowOrgSaves:n,enableWideButtonForStickyFooter:i}){let o=(0,s.wA)(),{onUserSaveActionClick:c,isResourceSavedForUser:d}=cC(e,t),{savesByOrgId:m}=cx(e,t),u=n?m:{},_=l.useRef(null),p=D()(cS,{[S.cx.gap6.pl16.pr16.$]:"containText"===a,[cN]:"brand"===r,[S.cx.w40.h40.$]:"square"===a,[ck]:i}),f=D()(cA,{[S.cx.ml2.$]:"containText"===a}),g="brand"===r?"var(--color-icon-onbrand)":void 0,E=d||Object.values(u).some(e=>e);return l.createElement(l.Fragment,null,l.createElement("button",{className:p,onClick:e=>{if(0===Object.keys(u).length)return c(e);let t=_.current?.getBoundingClientRect();t&&o(z.j7({type:cP,data:{targetRect:t}}))},"data-testid":"save-button","data-onboarding-key":"save-button","data-tooltip-type":eL.Ib.TEXT,ref:_,"data-tooltip":E?(0,k.t)("community.saves.remove_from_saves"):(0,k.t)("community.saves.save")},l.createElement("div",{className:f},E?l.createElement(cu.Ns,{fill:g}):l.createElement(cu.LP,{fill:g})),"containText"===a&&l.createElement("div",null,(0,k.tx)(E?"community.saves.remove_from_saves":"community.saves.save_for_later"))),n&&l.createElement(cB,{resource:e,viewContext:t}))}function cB({resource:e,viewContext:t}){let a=(0,s.wA)(),r=(0,s.d4)(e=>e.dropdownShown?.type===cP),n=(0,s.d4)(e=>e.dropdownShown?.data?.targetRect),{onUserSaveActionClick:i,isResourceSavedForUser:o}=cC(e,t),{savesByOrgId:c,onOrgSaveAction:d}=cx(e,t),m=(0,s.d4)(e=>(0,iv.Tm)(e));if((0,l0.U)(e))return null;let u=[{displayText:(0,k.t)("community.saves.save_this_resource_for_yourself"),isChecked:o,callback:()=>{i()}}],_=Object.values(m).map(e=>({displayText:(0,k.t)("community.saves.save_for_everyone_at",{orgName:e.name}),isChecked:c[e.id],callback:()=>{d(e.id)}}));return u=u.concat(_),l.createElement(l.Fragment,null,r&&l.createElement(aF.j,{showPoint:!0,items:u,onSelectItem:(e,t)=>{e.callback&&e.callback("",null,a,t)},parentRect:n,dispatch:a}))}function cU({resource:e,viewContext:t,type:a,theme:r,enableWideButtonForStickyFooter:n}){let{onUserSaveActionClick:i,isResourceSavedForUser:o}=cC(e,t),s=D()(cS,{[S.cx.gap6.pl16.pr16.$]:"containText"===a,[cN]:"brand"===r,[S.cx.w40.h40.$]:"square"===a,[ck]:n}),c=D()(cA,{[S.cx.ml2.$]:"containText"===a}),d="brand"===r?"var(--color-icon-onbrand)":void 0;return l.createElement("button",{className:s,onClick:i,"data-testid":"save-button","data-onboarding-key":"save-button","data-tooltip-type":eL.Ib.TEXT,"data-tooltip":o?(0,k.t)("community.saves.remove_from_saves"):(0,k.t)("community.saves.save")},l.createElement("div",{className:c},o?l.createElement(cu.Ns,{fill:d}):l.createElement(cu.LP,{fill:d})),"containText"===a&&l.createElement("div",null,(0,k.tx)(o?"community.saves.remove_from_saves":"community.saves.save_for_later")))}function cV(e){return l.createElement(cD,{resource:e.resource,viewContext:e.viewContext,type:"square",theme:"default",allowOrgSaves:!0})}function cH(e){return l.createElement(cD,{resource:e.resource,viewContext:e.viewContext,type:"containText",theme:"brand",enableWideButtonForStickyFooter:e.enableWideButtonForStickyFooter})}let cW=a(128425).U;var cj=a(654923),c$=a(466636),cG=a(835476),cY=a(61714),cz=a(166521),cQ=a(869963);let cK=a(10588).l;var cq=a(815700);function cZ({button:e,subtext:t}){return l.createElement("div",{className:cq.uu},e,t&&l.createElement("div",{className:cq.BE},t))}function cX({resource:e,resourceContent:t,enableWideButtonForStickyFooter:a}){let r=(0,cj.I)(t);return(0,c$._K)(t,r)?l.createElement(cz.I,{resource:t,context:l0.aL.DETAIL,enableWideButtonForStickyFooter:a}):(0,l6.XW)(e)?function(e,t){let a;switch(e.resource_type){case cG.vt.DESIGN_TEMPLATE:case cG.vt.UI_KIT:case cG.vt.PROTOTYPE:case cG.vt.FIGJAM_TEMPLATE:return(a=(0,l6.eO)(e))?l.createElement(cW,{hubFile:a,enableWideButtonForStickyFooter:t}):null;case cG.vt.SLIDE_TEMPLATE:return(a=(0,l6.eO)(e))?l.createElement(cK,{resource:a,enableWideButtonForStickyFooter:t}):null;case cG.vt.PLUGIN:case cG.vt.WIDGET:if(!(a=(0,l6.$9)(e)))return null;let r=(0,l0.PM)(a)?l.createElement(cQ.Cg,{resource:a,showCaret:!1}):(0,l0.zF)(a)?l.createElement(cQ.Gb,null):void 0;return l.createElement(cZ,{button:l.createElement(cY.d,{resource:a,context:l0.aL.DETAIL}),subtext:r});default:(0,x.assertNever)(e.resource_type)}}(e,a):function(e,t){if((0,lX.Qo)(e))return(0,lX.cX)(e)?l.createElement(cK,{resource:e,enableWideButtonForStickyFooter:t}):l.createElement(cW,{hubFile:e,enableWideButtonForStickyFooter:t});{let t=(0,l0.PM)(e)?l.createElement(cQ.Cg,{resource:e,showCaret:!1}):(0,l0.zF)(e)?l.createElement(cQ.Gb,null):void 0;return l.createElement(cZ,{button:l.createElement(cY.d,{resource:e,context:l0.aL.DETAIL}),subtext:t})}}(e,a)}var cJ=a(96328),c0=a(108636);let c1="basic_resource_header--numberOfUsers--oWoBg",c2="basic_resource_header--mobileResourcePageHeaderMaxWidth--McUl4 basic_resource_header--resourcePageHeaderMaxWidth--ym-5U",c4="basic_resource_header--mobileResourceNameHeader--oN4qX text--fontPos24--YppUD text--_fontBase--QdLsd",c8="basic_resource_header--mobileName--5NvYd",c3="basic_resource_header--anchorLink--r0iNn meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",c5="basic_resource_header--activeAnchorLink--3ueWI meta_container--selectedMetaTab--5IRWQ meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",c9="basic_resource_header--ctaContainer--k8wqG",c6="basic_resource_header--leftSide--MzgPN";var c7=a(404554),de=a(815234);function dt({resource:e,resourceContent:t,viewContext:r}){let n=e.like_count>0,i=(0,cr.mk)(e)>0,o=(0,c0.B)(e.id,(0,l6.Vm)(t)),s=o.data?.[0],c=a(892123).o.useLikeActions(t,!!s,o.data?.[1]||null,r||"")(),d=l.createElement("div",{className:"basic_resource_header--bulletSeparator--OGYaL text--fontPos10--s1PI5 text--_fontBase--QdLsd"},(0,k.tx)("community.detail_view.bullet_point"));return l.createElement("div",{className:"basic_resource_header--stats--U1D-b text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"resource-header-stats"},l.createElement("div",null,(0,cr.c8)(e)),n&&l.createElement(l.Fragment,null,d,l.createElement("button",{onClick:e=>{(0,p.kc)().cmty_deprecate_browse_as_admin&&c(e)}},(0,p.kc)().cmty_deprecate_browse_as_admin?s?dr:da:l.createElement(H.B,{dataTestId:"like-icon",svg:c7.A})),l.createElement("div",{className:c1},(0,cJ.$M)(e.like_count))),i&&l.createElement(l.Fragment,null,d,l.createElement(H.B,{dataTestId:"usage-icon",svg:de.A}),l.createElement("div",{className:c1},(0,k.tx)("community.detail_view.number_of_users",{numberOfUsers:(0,cJ.$M)((0,cr.mk)(e))}))))}let da=l.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.99988 4.5L7.3254 3.96042C6.28613 3.129 4.78791 3.21198 3.84681 4.15308C2.82678 5.17311 2.82678 6.8269 3.84681 7.84693L7.99988 12L12.153 7.84693C13.173 6.8269 13.173 5.17311 12.153 4.15308C11.2119 3.21198 9.71364 3.129 8.67437 3.96042L7.99988 4.5ZM7.99988 10.5858L11.4459 7.13982C12.0754 6.51032 12.0754 5.48969 11.4459 4.86018C10.8651 4.27939 9.94044 4.22818 9.29906 4.74129L7.99988 5.78063L6.70071 4.74128C6.05933 4.22818 5.13471 4.27939 4.55391 4.86018C3.92441 5.48969 3.92441 6.51032 4.55392 7.13982L7.99988 10.5858Z",fill:"black"})),dr=l.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),l.createElement("path",{d:"M3.84693 7.84693L8 12L12.1531 7.84692C13.1731 6.8269 13.1731 5.1731 12.1531 4.15308C11.212 3.21198 9.71375 3.129 8.67448 3.96041L8 4.5L7.32552 3.96041C6.28625 3.129 4.78802 3.21198 3.84692 4.15308C2.8269 5.1731 2.8269 6.8269 3.84693 7.84693Z",fill:"#F24822"}));var dn=a(198181);let di=a(784087).X;var dl=a(708071),ds=a(225266),dc=a(782501),dd=a(820642),dm=a(624618);function du({resourceId:e,resourceType:t,containerClassName:a}){let r=(0,s.wA)(),n=(0,s.d4)(a=>t===l0.vt.HUB_FILE?(0,dd.M3)(e,a.hubFiles):(0,co.my)(e,a.publishedPlugins)),i=(0,s.d4)(e=>e.authedActiveCommunityProfile),o=(0,s.d4)(e=>(0,dc.MK)(e,n)),c=l.useCallback(()=>{r((0,ds.z8)({hub_file_id:(0,l0.U)(n)?n.id:void 0,widget_id:(0,l0.xQ)(n)?n.id:void 0,plugin_id:(0,l0.I0)(n)?n.id:void 0})),r(aJ.F.enqueue({message:(0,k.t)("community.detail_view.accepted_creator_invite")}))},[r,n]),d=l.useCallback(()=>{r((0,ds.bb)({hub_file_id:(0,l0.U)(n)?n.id:void 0,widget_id:(0,l0.xQ)(n)?n.id:void 0,plugin_id:(0,l0.I0)(n)?n.id:void 0})),r(aJ.F.enqueue({message:(0,k.t)("community.detail_view.declined_creator_invite")}))},[r,n]);return!i||(0,iv.cs)(i)||!dc.ot.includes(o)?null:l.createElement("div",{className:a},l.createElement(dm.vR,{onClickAccept:c,onClickDecline:d,label:(0,k.t)("community.detail_view.you_have_been_added_as_a_creator_of_this_resource")}))}var d_=a(986323);function dp({pluginId:e,containerClassName:t}){let a=(0,s.wA)(),r=(0,s.d4)(t=>(0,co.my)(e,t.publishedPlugins)),n=(0,s.d4)(e=>(0,d_.A)(e,r));return void 0!==n&&(0,d_.jT)(n)?l.createElement("div",{className:t},l.createElement(dm.vR,{onClickAccept:()=>{a((0,ds.dx)({widget_id:(0,l0.xQ)(r)?r.id:void 0,plugin_id:(0,l0.I0)(r)?r.id:void 0,src:ds.Nn.COMMUNITY_PAGE})),a(aJ.F.enqueue({message:(0,k.t)("community.detail_view.accepted_publisher_invite")}))},onClickDecline:()=>{a((0,ds.MZ)({widget_id:(0,l0.xQ)(r)?r.id:void 0,plugin_id:(0,l0.I0)(r)?r.id:void 0,src:ds.Nn.COMMUNITY_PAGE})),a(aJ.F.enqueue({message:(0,k.t)("community.detail_view.declined_publisher_invite")}))},label:(0,k.t)("community.detail_view.you_have_been_added_as_a_publisher_of_this_resource")})):null}var df=a(609271),dg=a(107877),dE=a(830445),dh=a(629521),dv=a(27703),dy=a(106757),db=a(927625);let dw="canvas_viewer--canvasViewer--aDA8H",dT=(e,{width:t,height:a,top:r,left:n})=>{e.style.position="fixed",e.style.width=t+"px",e.style.height=a+"px",e.style.top=r+"px",e.style.left=n+"px"},dI=(e,t)=>{if(e.viewer_mode===e0.y4.PROTOTYPE)return`/community/file/${e.id}/embed`;let a=`/embed?embed_host=fastma&community_viewer=true&hub_file_id=${e.id}`;return void 0===t?a:`${a}&fuid=${t}`};function dC({viewer:e,resource:t,fixedSize:a}){let[r,n]=l.useState(void 0),[i,o]=l.useState(!1),[s,c]=l.useState(!1),d=(0,e_.md)(dy.kS);l.useEffect(()=>{if(!e)return;let t=t=>{"LOAD_FINISHED"===t.data&&(e.querySelector("iframe").classList.add("canvas_viewer--showIframe--uYOO5"),e.setAttribute("data-loaded","true"),o(!0),(0,tC.qD)({name:"hub-file-canvas-loaded"}))},a=()=>{document.activeElement===e.querySelector("iframe")&&(0,tC.qD)({name:"community-LO-embed-iframe-interacted",comparisonVariant:s?"fullscreen":"thumbnail"})};return window.addEventListener("message",t,!1),window.addEventListener("blur",a,!1),()=>{window.removeEventListener("message",t,!1),window.removeEventListener("blur",a,!1)}},[e,s]);let m=()=>{if(!e)return;let t=e.querySelector(`div.${dw}`);if(!t)return;let a=t.getBoundingClientRect();dT(t,a),n(a),requestAnimationFrame(()=>{e.setAttribute("data-animation-phase","open"),t.style.position="fixed",t.style.width="calc(100vw - 96px)",t.style.height="calc(100vh - 96px)",t.style.top="48px",t.style.left="48px"}),(0,tC.qD)({name:"community-LO-embed-view-expanded"}),c(!0)},u=()=>{if(!e)return;let t=e.querySelector(`.${dw}`);t&&(dT(t,r),e.setAttribute("data-animation-phase","closing"),setTimeout(()=>{e.removeAttribute("data-animation-phase"),t.style.position="absolute",t.style.removeProperty("width"),t.style.removeProperty("height"),t.style.removeProperty("top"),t.style.removeProperty("left")},300),c(!1))};return e?l.createElement(l.Fragment,null,l.createElement("div",{className:"canvas_viewer--iframeWrapper--eemgJ"},l.createElement("iframe",{key:t.id,title:(0,k.t)("community.embed.preview_title_long"),style:{width:a?"100%":(0,lX.zS)(i),height:"100%"},src:dI(t,d),allowFullScreen:!0}),l.createElement("svg",{onClick:()=>{s?u():m()},"aria-label":s?"Close":"Open",className:"canvas_viewer--fullscreenIcon--ew-9d",width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M14.54 4.168l-3.187 3.186-.708-.708 3.197-3.197.753-.449H11V2h5v5h-1V3.334l-.46.834zM3.46 13.832l3.186-3.186.708.708-3.198 3.197-.752.449H7v1H2v-5h1v3.666l.46-.834z",fillRule:"nonzero",fillOpacity:"1",fill:"#000",stroke:"none"}))),l.createElement("div",{role:"button",tabIndex:0,onClick:u,className:"canvas_viewer--iframeBackdrop--1sZT3"})):l.createElement(l.Fragment,null)}function dx({resource:e,enableEmbedOnSmallScreens:t}){let[a,r]=l.useState(null),n=e.viewer_mode===e0.y4.WHITEBOARD,i=!!e.thumbnail_is_set,o=t?dg.YW:900;return l.createElement("div",{className:D()("canvas_viewer--canvasViewerWrapper--PEx4d",{"canvas_viewer--smallEmbed--1di1B":t}),"data-loaded":"false",ref:e=>r(e)},l.createElement("div",{className:n?"canvas_viewer--canvasViewerFigJam--GQ00B canvas_viewer--canvasViewer--aDA8H":dw,key:e.id},l.createElement("div",{className:"canvas_viewer--hubFileLoadingCoverImage--2onuq canvas_viewer--resourceLoadingCoverImage--e9uBx"},l.createElement(db.Ho,{image:e.thumbnail_url,isSet:i,isWhiteboard:n,backgroundColor:(0,dv.Cn)(e.client_meta),hubFileId:e.id,alt:(0,lX.qD)(e).name+" preview",thumbnailContext:sx.O7.DETAIL,resizedThumbnailUrls:e.resized_thumbnail_urls})),l.createElement(df.Ay,{mediaQuery:`(min-width: ${o}px)`,onHide:()=>{a&&a.setAttribute("data-loaded","false")}},l.createElement(dC,{fixedSize:t,viewer:a,resource:e}))))}function dN({resource:e}){return l.createElement("div",{className:"canvas_viewer--canvasViewerWrapperPlugins--YfQ3Y canvas_viewer--canvasViewerWrapper--PEx4d","data-loaded":"true"},l.createElement("div",{className:dw},l.createElement("img",{className:"canvas_viewer--pluginLoadingCoverImage--nn23R canvas_viewer--resourceLoadingCoverImage--e9uBx",src:e.thumbnail_url,alt:(0,lX.qD)(e).name+" preview",key:e.id})))}function dS({resource:e,enableEmbedOnSmallScreens:t}){return"current_hub_file_version_id"in e?l.createElement(eG.fu,{name:"Canvas Embed"},l.createElement(dx,{resource:e,enableEmbedOnSmallScreens:t})):l.createElement(dN,{resource:e})}function dk({resourceId:e,resourceType:t}){return null}var dL=a(940872);function dA(){return l.createElement(dL.b,{onClick:()=>(0,cg.FL)(cf.qB.SIGN_UP,{preventDefaultRedirect:!0}),isResourceLiked:!1})}var dR=a(395096),dF=a(147513),dO=a(914557),dP=a(416095),dD=a(620722);let dM="library_detail_page_viewer--libraryViewerComponentsViewContainer--ZKW-s",dB="library_detail_page_viewer--libraryViewerComponentsSideBar---vECP",dU="library_detail_page_viewer--libraryViewerComponentsSideBarButtonSelected--USsCQ",dV="library_detail_page_viewer--libraryViewerComponentsSideBarButton--0ve16 text--fontPos11--2LvXf text--_fontBase--QdLsd",dH="library_detail_page_viewer--libraryViewerComponentsSection--NQG-W",dW="library_detail_page_viewer--libraryViewerStylesViewContainer--zQeq3",dj="library_detail_page_viewer--loadingSpinner--ijlFM";function d$(e){let{pageIds:t,itemsByPageId:a,topLevelComponents:r,isLoading:n,numSearchResultsText:i}=e,[o,s]=l.useState(r.length>0||0===t.length?null:t[0]),c=l.useRef({}),d=l.useRef(null),m=l.useRef(null),u=l.useRef(null),_=l.useCallback(e=>{let t=c.current[e];if(t&&d.current){let e=t.offsetTop-d.current.offsetTop-t.offsetHeight;d.current.scrollTo({top:e})}},[]);l.useEffect(()=>{let e=u.current,t=m.current;e&&t&&(e.offsetTop<t.scrollTop?t.scrollTo({behavior:"smooth",top:e.offsetTop}):e.offsetTop>t.scrollTop+t.offsetHeight&&t.scrollTo({behavior:"smooth",top:e.offsetTop-t.offsetTop-t.offsetHeight/2}))},[o]),l.useEffect(()=>{if(!window.IntersectionObserver||!d.current||!c.current)return;let e={},a=d.current.offsetHeight,r=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&s(e.target.id)})},{root:d.current,rootMargin:`0px 0px -${a/2}px 0px`,threshold:[.6]});for(let e of t){let t=c.current[e];t&&r.observe(t)}return()=>{r.disconnect()}},[t,c,d,s]);let p=l.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentsContent--i0cL6",style:{paddingBottom:t.length>2?"72px":"12px"},ref:d},i,r.length>0&&l.createElement("div",{className:dH},l.createElement(dG,{items:r})),t.map(e=>{let t=a[e],r=t[0];return r?l.createElement("div",{className:dH},l.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentsSectionHeader--RxA6o text--fontPos13--xW8hS text--_fontBase--QdLsd",id:e,ref:t=>c.current[e]=t},r.containing_frame?.pageName),l.createElement(dG,{items:t})):null})),f=l.useCallback(e=>{_(e),s(e)},[_]),g=l.createElement("div",{className:dB,ref:m},t.map(e=>{let t=e===o,r=a[e][0].containing_frame?.pageName;return r&&l.createElement("div",{ref:t?u:void 0,className:S.cx.wFull.$,key:e},l.createElement("button",{className:D()(dV,{[dU]:t}),onClick:t=>{t.preventDefault(),f(e)}},r))}));return n?l.createElement("div",{className:dM},g,l.createElement(tP.kt,{className:dj})):l.createElement("div",{className:dM},g,p)}function dG({items:e}){let t=e.map(e=>l.createElement(dY,{component:e,key:(0,dP.Av)(e)}));return l.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentTileGroup--20ei3"},t)}function dY({component:e}){return l.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentTile--R5qQm","data-tooltip-type":eL.Ib.TEXT,"data-tooltip":e.name},l.createElement("div",{className:"library_detail_page_viewer--libraryViewerComponentThumbnailWrapper--P2sR3"},l.createElement(dD.J,{className:"library_detail_page_viewer--libraryViewerComponentThumbnail--XVZpN",src:e.thumbnail_url,draggable:!1})))}var dz=a(333370),dQ=(e=>(e.COMPONENTS="components",e.STYLES="styles",e))(dQ||{});function dK(e){let t={},a=[],r=[];if(e&&e.length>0){for(let r of e){let e=r.containing_frame?.pageId;e?(t[e]??=[],t[e].push(r)):a.push(r)}r=Object.keys(t),(0,B.sortAlphabeticallyByFn)(r,e=>t[e][0].containing_frame?.pageName),(0,B.sortAlphabeticallyByProperty)(a,"name"),r.map(e=>{let a=t[e];(0,B.sortAlphabeticallyByProperty)(a,"name")})}return{itemsByPageId:t,topLevelComponents:a,pageIds:r}}function dq(e){if(!e||0===e.length)return new Map;let t=(0,dP.Kw)(e),a=new Map;return dP.og.map(e=>{let r=t.get(e);if(r){(0,dP.LX)(r);let t=(0,dz.lM)(r,e),n=new Map;for(let e of(n.set(t,t.styles),t.subfolders))n.set(e,(0,dz.dm)(e));a.set(e,n)}}),a}var dZ=a(535257),dX=a(173454),dJ=a(137906);function d0({foldersAndStylesByType:e,isLoading:t,numSearchResultsText:a}){if(t)return l.createElement("div",{className:dW},l.createElement(tP.kt,{className:dj}));let r=[];for(let t of e.values())for(let[e,a]of t)0!==a.length&&(r.push(l.createElement(d1,{folder:e,styleList:a,key:e.name})),r.push(l.createElement("div",{className:"library_detail_page_viewer--libraryViewerStylesSectionDivider--RTCVD",key:e.name.concat("-divider")})));return r.pop(),l.createElement("div",{className:dW},a,r)}function d1({folder:e,styleList:t}){return l.createElement(l.Fragment,null,e.name&&l.createElement("div",{className:"library_detail_page_viewer--libraryViewerStylesSectionHeader--LjF7q text--fontPos13--xW8hS text--_fontBase--QdLsd"},e?.name),l.createElement("div",{className:"library_detail_page_viewer--libraryViewerStylesList--8HwJW"},t.map(e=>l.createElement("div",{key:e.key,"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":e.name},l.createElement(dJ.zi,{dsStyle:e,size:dJ.iL.Large,disableTooltip:!0})))))}let d2=a(754961);function d4({query:e,libraryId:t,selectedTabType:a}){let r=a===dQ.COMPONENTS,n=r?[dX.PW.COMPONENT,dX.PW.STATE_GROUP]:[dX.PW.STYLE],[i]=(0,f.IT)((0,dZ.nh)({query:e,libraryId:t,assetTypes:n})),{foldersAndStylesByType:o,itemsByPageId:s,topLevelComponents:c,pageIds:d,hasSearchResults:m,numSearchResults:u}=l.useMemo(()=>{let e={},t=[],a=[],n=new Map;if(r){let r=dK(i.data);e=r.itemsByPageId,t=r.topLevelComponents,a=r.pageIds}else n=dq(i.data);return{foldersAndStylesByType:n,itemsByPageId:e,topLevelComponents:t,pageIds:a,hasSearchResults:i.data&&i.data.length>0,numSearchResults:i.data?i.data.length:0}},[i,r]);if("loaded"===i.status&&!m)return l.createElement("div",{className:r?dM:dW},r&&l.createElement("div",{className:dB},l.createElement("div",{className:D()(S.cx.wFull.$,dV,dU)},(0,k.t)("community.detail_view.library_viewer.search_no_results"))),l.createElement("div",{className:"library_detail_page_viewer--libraryViewerEmptyState--2o6bb"},l.createElement(H.B,{svg:d2,useOriginalSrcFills_DEPRECATED:!0,className:"library_detail_page_viewer--libraryViewerEmptyIcon--6OLZt"}),l.createElement("div",{className:S.cx.flexRow.$},(0,k.tx)("search.empty_state.no_results_matching",{searchQuery:l.createElement("span",{className:S.cx.fontBold.$},e)}))));let _=l.createElement("div",{className:r?S.cx.flexRow.mb8.$:S.cx.flexRow.mb16.$},(0,k.tx)("community.detail_view.library_viewer.search_results_num",{numResults:u,query:l.createElement("span",{className:S.cx.fontBold.$},e)}));return r?l.createElement(d$,{pageIds:d,itemsByPageId:s,topLevelComponents:c,isLoading:"loading"===i.status,numSearchResultsText:_}):l.createElement(d0,{foldersAndStylesByType:o,isLoading:"loading"===i.status,numSearchResultsText:_})}function d8({libraryId:e}){let[t,a]=l.useState(dQ.COMPONENTS),[r,n]=l.useState(""),[i]=(0,dR.A)(r,300,{trailing:!0,leading:!1}),[o]=(0,f.IT)((0,dF.lH)({hubFileId:e})),s=l.useMemo(()=>dq("loaded"===o.status?o.data:[]),[o]),[c]=(0,f.IT)((0,dF.r4)(e)),{itemsByPageId:d,topLevelComponents:m,pageIds:u}=l.useMemo(()=>dK("loaded"===c.status?c.data:[]),[c]);return l.createElement("div",{className:"library_detail_page_viewer--libraryViewerContainer--N5xtS"},l.createElement(d3,{selectedTabType:t,setSelectedTabType:a,query:i,setSearchQuery:n}),0===i.trim().length&&t===dQ.COMPONENTS&&l.createElement(d$,{pageIds:u,itemsByPageId:d,topLevelComponents:m,isLoading:"loading"===c.status}),0===i.trim().length&&t===dQ.STYLES&&l.createElement(d0,{foldersAndStylesByType:s,isLoading:"loading"===o.status}),i.length>0&&l.createElement(d4,{query:i,libraryId:e,selectedTabType:t}))}function d3({selectedTabType:e,setSelectedTabType:t,query:a,setSearchQuery:r}){return l.createElement("div",{className:"library_detail_page_viewer--libraryViewerHeader--m7ZFH"},l.createElement("div",{className:"library_detail_page_viewer--libraryViewerTabsContainer--SDkI8"},l.createElement(d9,{tab:dQ.COMPONENTS,selectedTab:e,onClick:()=>{t(dQ.COMPONENTS)}},(0,k.t)("community.detail_view.library_viewer.components_tab")),l.createElement(d9,{tab:dQ.STYLES,selectedTab:e,onClick:()=>{t(dQ.STYLES)}},(0,k.t)("community.detail_view.library_viewer.styles_tab"))),l.createElement(d5,{query:a,setSearchQuery:r}))}function d5({query:e,setSearchQuery:t}){let a=l.useRef(null),r=l.useCallback(e=>{t(e)},[t]),n=l.useCallback(()=>{r("")},[r]);return l.createElement(oH.IW,{ref:a,className:"library_detail_page_viewer--libraryViewerSearchBar--x-K2j",focusOnMount:!1,query:e,placeholder:(0,k.t)("community.detail_view.library_viewer.search_placeholder"),clearSearch:n,onChange:r,hideXIcon:!0})}class d9 extends dO.o{constructor(){super(...arguments),this.styleOverrides=()=>({base:"library_detail_page_viewer--libraryViewerTab--f43dq text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",selected:"library_detail_page_viewer--libraryViewerTabSelected--t5nZk",unselected:"library_detail_page_viewer--libraryViewerTabUnselected--mE3MK"}),this.applyDefaultStyles=()=>!1}}var d6=a(133537),d7=a(751297);let me=a(219497).G;var mt=a(137459),ma=a(376485),mr=a(37637);let mn="resource_page_metadata_badge--badge--PWa-6";function mi(e){let{hubFileEditorType:t,pluginEditorType:a}=e;if(!t&&!a)return null;let r=(0,k.t)("community.detail_view.made_for_figma_design");if(t||a?.length===1){let e=t||a?.[0];r=(()=>{switch(e){case mt.LE.SLIDES:case ma.FW.SLIDES:return(0,k.t)("community.detail_view.made_for_slides");case mt.LE.FIGJAM:case ma.FW.FIGJAM:return(0,k.t)("community.detail_view.made_for_fig_jam");case ma.FW.INSPECT:case ma.FW.DEV:return(0,k.t)("community.detail_view.made_for_dev_mode");case mt.LE.FIGMA:case ma.FW.FIGMA:default:return(0,k.t)("community.detail_view.made_for_figma_design")}})()}return a?.includes(ma.FW.FIGJAM)&&a?.includes(ma.FW.FIGMA)&&(0,ma.Pe)(a)?r=(0,k.t)("community.detail_view.universal"):a?.includes(ma.FW.FIGJAM)&&a?.includes(ma.FW.FIGMA)?r=(0,k.t)("community.detail_view.made_for_figma_design_and_figjam"):a?.includes(ma.FW.FIGJAM)&&(0,ma.Pe)(a)?r=(0,k.t)("community.detail_view.made_for_fig_jam_and_dev_mode"):a?.includes(ma.FW.FIGMA)&&(0,ma.Pe)(a)&&(r=(0,k.t)("community.detail_view.made_for_figma_design_and_dev_mode")),l.createElement("div",{className:mn},l.createElement(mr.dn,{editorType:t??a}),l.createElement("div",null,r))}var mo=a(520863),ml=a(965270),ms=a(647976),mc=a(733648);function md({resource:e}){let t=function(e){if((0,l0.U)(e))return l.createElement(mi,{hubFileEditorType:(0,lX.JJ)(e.viewer_mode)});let t=(0,lX.qD)(e).manifest.editorType;return t?l.createElement(l.Fragment,null,t.map(e=>l.createElement(mi,{key:e,pluginEditorType:[e]}))):l.createElement(mi,{pluginEditorType:t})}(e),a=(0,p.kc)().dse_preset_libraries&&(0,p.kc)().presets_on_cmty&&(0,dE.TX)(e.id)&&l.createElement(mm,null),r=!(0,l0.U)(e)&&(0,co.pk)((0,lX.qD)(e))&&l.createElement(mu,null),n=e.community_publishers.accepted.reduce((e,t)=>e.concat(t.badges),[]),i=[...new Set(e.badges.concat(n))],o=(0,ci.C2)({badges:i},!1,!0),s=(0,l0.U)(e)?null:function(e){let t=(0,lX.qD)(e).manifest;return l.createElement(l.Fragment,null,l.createElement(m_,{plugin:e}),l.createElement(ml.u,{networkAccess:t.networkAccess,isWidget:e.is_widget,isLearnMoreLinkVisible:!0,is24x24:!0}))}(e);return l.createElement(l.Fragment,null,t,a,r,o&&l.createElement("div",{className:mn},l.createElement(ci.Gx,null,o),(0,k.tx)("community.detail_view.made_by_a_figma_partner")),s)}function mm(){return l.createElement("div",{className:mn},l.createElement(H.B,{svg:mc.A,svgClassName:"resource_page_metadata_badge--uiKitBadgeSvg--deluf",useOriginalSrcFills_DEPRECATED:!0}),l.createElement("div",null,(0,k.t)("community.detail_view.ui_kit")))}function mu(){return l.createElement("div",{className:mn},l.createElement(mr.ZA,{is24x24:!0}),l.createElement("div",null,(0,k.t)("community.detail_view.made_for_codegen")))}function m_({plugin:e}){let t=(0,mo.A)(e.id,!0);return l.createElement(l.Fragment,null,t.loaded&&t.data?.status===e0.bQ.APPROVED&&l.createElement(ms.b,{securityFormResponse:t.data,entryPoint:ms.X.COMMUNITY_DETAIL,isWidget:e.is_widget,is24x24:!0}))}function mp(e){return l.createElement("div",{className:"resource_page_metadata_badge--badgesContainer--heM3E text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.children)}var mf=a(230798),mg=a(743875),mE=a(126815);function mh({monetizedResourceMetadata:e,isFreemium:t,isOffPlatform:a}){if(t&&e){let t=(0,c$.X2)(e);return(0,k.tx)("community.detail_view.in_app_purchases",{priceString:t})}return a?l.createElement("div",{className:mg.UH},(0,k.tx)("community.detail_view.third_party_badge.off_platform"),l.createElement(H.B,{svg:mE.A,className:mg.G,"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":(0,k.t)("community.detail_view.resource_outside_of_figma"),"data-tooltip-show-immediately":!0})):null}function mv(e){let{updatedAt:t,paymentInfo:a,supportContact:r,creatorPolicyData:n,license:i}=e,[o,s]=l.useState(!1),c=r;return r&&((0,d6.xf)(r)?c=`mailto:${r}`:r.startsWith("https://")||r.startsWith("http://")||(c=`//${r}`)),l.createElement(mf.z,null,l.createElement("div",null,(0,k.tx)("community.detail_view.last_updated_at_time_stamp",{timeStamp:l.createElement(lN.h1,{date:t})})),r&&l.createElement("div",{className:mg.Ev},(0,k.tx)("community.detail_view.support_contact",{supportContact:l.createElement("a",{href:c||void 0,className:mg.tx,target:"_blank",rel:"nooppener noreferrer"},r)})),a,i,(0,p.kc)().cmty_hub_file_creator_policy&&n?.policyText&&l.createElement("span",null,l.createElement("span",{role:"button",onClick:()=>{s(!0)},tabIndex:0,className:mg.Rc},(0,k.tx)("community.detail_view.creator_policy")),o&&l.createElement(r6.XV,{title:(0,k.t)("community.detail_view.creator_policy"),maxWidth:450,onClose:()=>{s(!1)},allowScroll:!0,containerClassName:mg.D9},l.createElement("div",{className:mg.OC},l.createElement("div",{className:mg.$h},(0,k.tx)("community.detail_view.creator_policy_publisher_name",{publisherName:n.publisherName}))))))}function my({resource:e}){let t=(0,lX.qD)(e),a=(0,l0.m3)(e)&&(0,l0.PM)(e),r=(0,l0.zF)(e);return l.createElement("div",{className:mg.tJ,"data-testid":"metadata-container"},l.createElement(mp,null,l.createElement(md,{resource:e})),l.createElement(mv,{updatedAt:t.created_at,supportContact:e.support_contact,license:l.createElement(d7.F,{isMonetizedResource:(0,l0.m3)(e),isHubFile:(0,l0.U)(e),isAppleResource:(0,cr.mA)(e),isFigmaResource:(0,cr.sB)(e)}),paymentInfo:l.createElement(mh,{monetizedResourceMetadata:e.monetized_resource_metadata,isFreemium:a,isOffPlatform:r}),creatorPolicyData:{policyText:t.creator_policy??null,publisherName:e.publisher.name}}),(0,dn.M)()?l.createElement(me,{resource:e}):null,(0,dn.M)()?l.createElement(dm.dx,null):l.createElement("a",{href:"mailto:content-reviews@figma.com",className:mg.hV},(0,k.tx)("community.detail_view.report_resource")))}var mb=a(920037),mw=a(978527),mT=a(206144);let mI="related_content--relatedContentTile--gwfdU",mC="related_content--relatedContentTileTitle--DJQmt text--fontPos13--xW8hS text--_fontBase--QdLsd";function mx({resource:e,rdpImpressionId:t}){let a=(0,lX.qD)(e),r=e.thumbnail_url,n=!!e.thumbnail_is_set,i=e.viewer_mode===e0.y4.WHITEBOARD,o=(0,p.kc)().cmty_thumbnail_16x9_ar,s=(0,lX._t)({resource:e});return l.createElement(mT.A6,{to:s,className:D()(mI,{"related_content--relatedContentTile16to9--6fnkm":o}),onClick:()=>mk(e,t)},l.createElement("div",{className:n?"related_content--relatedContentTileImageThumbnailIsSet--ceK9X related_content--relatedContentTileImage--0IZ1a":"related_content--relatedContentTileImage--0IZ1a",style:{backgroundColor:(0,mb.C)(e.client_meta)}},l.createElement(db.Ho,{hubFileId:e.id,image:r,isWhiteboard:i,isSet:n,alt:a.name,resizedThumbnailUrls:e.resized_thumbnail_urls}),l.createElement(mr.dn,{editorType:(0,lX.JJ)(e.viewer_mode)})),l.createElement("div",{className:mC},a.name))}function mN({resource:e,rdpImpressionId:t}){let a=(0,lX.qD)(e),r=a.redirect_icon_url,n=(0,lX._t)({resource:e});return l.createElement(mT.A6,{to:n,className:mI,onClick:()=>mk(e,t)},l.createElement("div",{className:"related_content--relatedContentTilePluginContentWrapper--ie8pw"},l.createElement(mr.dn,{editorType:a.manifest.editorType}),l.createElement(mw.V,{className:"related_content--relatedContentPluginTileImage--4Jsqh",plugin:a}),l.createElement("div",{className:"related_content--relatedContentPluginTileImageBlurry--z0-ki related_content--relatedContentPluginTileImage--4Jsqh",style:{backgroundImage:`url(${r})`}})),l.createElement("div",{className:mC},a.name))}function mS({resource:e,rdpImpressionId:t}){let a=(0,lX.qD)(e),r=a.redirect_snapshot_url,n=(0,lX._t)({resource:e});return l.createElement(mT.A6,{to:n,className:mI,onClick:()=>mk(e,t)},l.createElement("div",{className:"related_content--relatedContentWidgetTileImage--rY25h related_content--relatedContentTileImage--0IZ1a"},l.createElement("img",{src:r,alt:a.name,loading:"lazy"})),l.createElement("div",{className:mC},a.name))}let mk=(e,t)=>{(0,ei.sx)("Community Related Content Clicked",{community_resource:(0,l6.Vm)(e),community_resource_id:e.id,related_content_type:e.related_content?.types.join(","),rdp_impression_id:t})};function mL({resourceType:e,resourceId:t,content:a,types:r,creators:n,rdpImpressionId:i}){l.useEffect(()=>{(0,ei.sx)("Community Related Content Viewed",{communityResource:e,communityResourceId:t,relatedContentType:r,rdp_impression_id:i,itemsImpressed:a.map(e=>e.id).join(",")})},[a.map(e=>e.id).join(",")]);let o=1===r.length&&r[0]===dg.oS.by_creator?n.accepted.length>1?(0,k.t)("community.related_content.more_by_these_creators"):(0,k.t)("community.related_content.more_by_this_creator"):(0,k.t)("community.related_content.more_like_this");return l.createElement("div",{className:"related_content--relatedContent--TYPp2"},l.createElement("div",{className:"related_content--relatedContentHeader--gjj-d text--fontPos14--OL9Hp text--_fontBase--QdLsd"},l.createElement("div",{className:"related_content--relatedContentTitle--uylYw"},o)),l.createElement("div",{className:"related_content--relatedContentTilesContainer--L8KiC"},a.map(e=>{let t=e.id;return(0,l0.U)(e)?l.createElement(mx,{key:t,resource:e,rdpImpressionId:i}):(0,l0.I0)(e)?l.createElement(mN,{key:t,resource:e,rdpImpressionId:i}):l.createElement(mS,{key:t,resource:e,rdpImpressionId:i})})))}var mA=a(607191),mR=a(724819);let mF=a(421660).J,mO=a(421660).z;function mP({resource:e,optionalTitle:t,disableHeader:a,showBottomDivider:r}){let n=(0,p.kc)().cmty_curated_tags_mapping,i=mF(e),o=e.tags||[];if(!i&&0===o.length)return l.createElement(l.Fragment,null);let s=(0,lX.Dl)(e)+"s";return l.createElement(l.Fragment,null,!a&&l.createElement("h3",{className:mR.Pr},t||(0,k.tx)("community.detail_view.tags")),l.createElement("div",{className:mR.Pc},i&&l.createElement(mO,{resourceId:e.id,resourceType:(0,l6.Vm)(e),fileKey:(0,l0.Uz)(e)?e.fig_file_metadata?.key:void 0}),o.map(e=>{if(n)return l.createElement("div",{className:S.cx.mb10.mr10.$,key:e},l.createElement("div",{className:mR.Tc},e));let t=`/community/tag/${e}/${s}`;return l.createElement(mT.A6,{key:e,to:t,onClick:()=>{(0,ei.sx)("Tag clicked",{text:e,tab:s})}},l.createElement("div",{className:mR.Tc},e))})),r&&l.createElement("hr",null))}var mD=a(731801);function mM({resource:e}){let[t,a]=l.useState(!1);if(!(0,lX.zo)(e))return null;let{versions:r}=e,n=(0,co.uF)(e);return l.createElement("div",{className:"version_history--versionHistory--yOsFW text--fontPos14--OL9Hp text--_fontBase--QdLsd"},l.createElement("div",{className:"version_history--header--jdIyg"},l.createElement(mw.V,{className:"version_history--icon--pnnmo",plugin:n}),l.createElement("span",{className:"version_history--title--1a95q text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,k.tx)("community.plugins.version_history"))),l.createElement("div",null,Object.keys(r).map(parseFloat).sort((e,t)=>e>t?-1:1).map(e=>r[e]).filter(e=>!!e).map(e=>{let t=!e.release_notes,a=new Date(e.created_at).toLocaleDateString(navigator.language,{year:"numeric",month:"long",day:"numeric"});return l.createElement("div",{className:t?"version_history--releaseSectionEmpty--t8k4f":"version_history--releaseSection--mOmlB",key:e.id},l.createElement("span",{className:"version_history--versionName--PC5Ws"},(0,k.tx)("community.plugins.version_version_on_date",{createdAt:a,versionName:e.version})),l.createElement("span",{className:"version_history--versionDescription--bzh-V"},e.release_notes))}).slice(0,t?1/0:2),!t&&Object.keys(r).length>2&&l.createElement("div",{className:"version_history--showAll--b8ClA",onClick:()=>a(!0),role:"button",tabIndex:0},(0,k.tx)("community.plugins.see_all"))))}let mB="meta_container--tabbedMetaContainer--DJyPv meta_container--metaContainer--kaSwh",mU="meta_container--metaContainerDivider--ZXFZP",mV="meta_container--metaContainerDividerSpacer--OW9jB",mH="meta_container--mobileMetaContainer--gGQKv",mW="meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",mj="meta_container--selectedMetaTab--5IRWQ meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",m$="meta_container--metaTabCommentCount--B1a21",mG="meta_container--selectedMetaTabCommentCount--lS1BF meta_container--metaTabCommentCount--B1a21";function mY(e,t){if(e.preventDefault(),t===ct.$O.DescriptionView){window.scrollTo({top:0,behavior:"smooth"});return}let a=document.getElementById(t);if(a){let e=ct.bK,t=a.getBoundingClientRect().top+window.scrollY+e;window.scrollTo({top:t,behavior:"smooth"})}}function mz(e){if(!(0,l0.U)(e))return!1;let t=e.viewer_mode===e0.y4.WHITEBOARD&&(0,l0.m3)(e),a=(0,lX.z$)(e)===dh.Z4.EMBED;return!t&&!a&&!(0,lX.cX)(e)}function mQ({commentCount:e,hasCommentsEnabled:t}){let[a,r]=(0,e_.fp)(ca);return l.useEffect(()=>{let e=()=>{let e=document.getElementById(ct.$O.CommentsView);if(e){let t=e.getBoundingClientRect().top;(0,lX._m)(t,window.innerHeight,window.scrollY)?r(ct.$O.CommentsView):r(ct.$O.DescriptionView)}};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[r]),l.createElement("div",{className:"meta_container--metaTabContainer--lvUtb"},l.createElement("button",{onClick:e=>mY(e,ct.$O.DescriptionView)},l.createElement("div",{className:D()(mW,{[mj]:a===ct.$O.DescriptionView})},(0,k.t)("community.resource_page.about"))),t&&l.createElement("button",{onClick:e=>mY(e,ct.$O.CommentsView)},l.createElement("div",{className:D()(mW,{[mj]:a===ct.$O.CommentsView})},(0,k.tx)("community.resource_page.comments",{numComments:l.createElement("span",{className:D()(m$,{[mG]:a===ct.$O.CommentsView})},e)}))))}function mK({resource:e,rdpImpressionId:t}){let a=(0,lX.qD)(e),r=mz(e),{externalCommentScrollRef:n}=l.useContext(dl.H),i=e.related_content,o=i&&i.content.length>0,s=(0,lJ.qw)(),c=(0,dE.TX)(e.id)&&s();return l.createElement(l.Fragment,null,l.createElement(du,{resourceId:e.id,resourceType:(0,l6.Vm)(e),containerClassName:mB}),!(0,l0.U)(e)&&l.createElement(dp,{pluginId:e.id,containerClassName:mB}),l.createElement(mQ,{commentCount:e.comment_count,hasCommentsEnabled:(0,iv.e5)(e)}),l.createElement("div",{className:mU},l.createElement("div",{className:mV})),l.createElement("div",{className:mB},l.createElement("div",{className:"meta_container--leftSide--KSlX8",ref:n,id:ct.$O.DescriptionView},a.description&&l.createElement(mD.u,{description:a.description,hideDivider:!0}),r&&!c&&l.createElement(l.Fragment,null,l.createElement("h3",{className:S.cx.font14.fontSemiBold.mb16.$},(0,k.t)("community.embed.preview_title")),l.createElement(dS,{enableEmbedOnSmallScreens:!0,resource:e}),l.createElement("hr",{className:S.cx.my24.$})),c&&l.createElement(d8,{libraryId:e.id}),o&&l.createElement(l.Fragment,null,l.createElement(mL,{resourceId:e.id,resourceType:(0,l6.Vm)(e),content:i.content,types:i.types,creators:e.community_publishers,rdpImpressionId:t}),l.createElement("hr",null)),l.createElement(mM,{resource:e}),l.createElement("div",{id:ct.$O.CommentsView},l.createElement(di,{resource:e}))),l.createElement("div",{className:"meta_container--rightSide--FQNL-"},l.createElement(dk,{resourceId:e.id,resourceType:(0,l6.Vm)(e)}),l.createElement(mP,{resource:e}),l.createElement(mA.R,{author:(0,sV.Lj)(e),title:a.name,resourceType:(0,l6.Vm)(e),resourceURL:(0,lX.DV)(e),resourceId:e.id,resourceName:a.name}),l.createElement(my,{resource:e}))))}function mq({resource:e,rdpImpressionId:t}){let a=mz(e),r=(0,lX.qD)(e),n=e.related_content,i=n&&n.content.length>0,o=(0,lJ.qw)(),s=(0,dE.TX)(e.id)&&o();return l.createElement(l.Fragment,null,l.createElement(du,{resourceId:e.id,resourceType:(0,l6.Vm)(e),containerClassName:mB}),!(0,l0.U)(e)&&l.createElement(dp,{pluginId:e.id,containerClassName:mB}),l.createElement(mQ,{commentCount:e.comment_count,hasCommentsEnabled:(0,iv.e5)(e)}),l.createElement("div",{className:mU},l.createElement("div",{className:mV})),l.createElement("div",{className:mB},l.createElement("div",{className:mH,"data-mobile-view":!0,id:ct.$O.DescriptionView},r.description&&l.createElement(mD.u,{description:r.description}),a&&!s&&l.createElement(l.Fragment,null,l.createElement("h3",{className:S.cx.font14.fontSemiBold.mb16.$},(0,k.t)("community.embed.preview_title")),l.createElement(dS,{enableEmbedOnSmallScreens:!0,resource:e}),l.createElement("hr",{className:S.cx.my24.$})),s&&l.createElement(d8,{libraryId:e.id}),l.createElement(dk,{resourceId:e.id,resourceType:(0,l6.Vm)(e)}),l.createElement(mP,{resource:e,showBottomDivider:!0}),i&&l.createElement(l.Fragment,null,l.createElement(mL,{resourceId:e.id,resourceType:(0,l6.Vm)(e),content:n.content,types:n.types,creators:e.community_publishers,rdpImpressionId:t}),l.createElement("hr",null)),l.createElement(mM,{resource:e}),l.createElement("div",{id:ct.$O.CommentsView},l.createElement(di,{resource:e})),l.createElement(mA.R,{author:(0,sV.Lj)(e),title:r.name,resourceType:(0,l6.Vm)(e),resourceURL:(0,lX.DV)(e),resourceId:e.id,resourceName:r.name}),l.createElement(my,{resource:e}))))}function mZ({resource:e}){if(!(0,dn.M)())return l.createElement(dA,null);{let t=(0,l0.U)(e)?e9.e0.COMMUNITY_HUB_FILE:(0,l0.xQ)(e)?e9.e0.COMMUNITY_HUB_WIDGET:e9.e0.COMMUNITY_HUB_PLUGIN;return l.createElement(cn.Q,{resource:e,viewContext:t})}}function mX({resource:e,rdpImpressionId:t}){let a=(0,lX.qD)(e),{externalCommentScrollRef:r}=l.useContext(dl.H),n=e.related_content,i=n&&n.content.length>0;return l.createElement(l.Fragment,null,l.createElement("div",{className:mH,"data-mobile-view":!0,ref:r},!!a.description&&l.createElement(mD.u,{description:a.description}),!!a.description&&l.createElement("hr",null),!(0,l0.U)(e)&&l.createElement(dp,{pluginId:e.id}),l.createElement(dk,{resourceId:e.id,resourceType:(0,l6.Vm)(e)}),l.createElement(mP,{resource:e,showBottomDivider:!0}),i&&l.createElement(l.Fragment,null,l.createElement(mL,{resourceId:e.id,resourceType:(0,l6.Vm)(e),content:n.content,types:n.types,creators:e.community_publishers,rdpImpressionId:t}),l.createElement("hr",null)),l.createElement(mM,{resource:e}),l.createElement("div",{id:ct.$O.CommentsView},l.createElement(di,{resource:e})),l.createElement(mA.R,{author:(0,sV.Lj)(e),title:a.name,resourceType:(0,l6.Vm)(e),resourceURL:(0,lX.DV)(e),resourceId:e.id,resourceName:a.name}),l.createElement(my,{resource:e})))}function mJ({resource:e,rdpImpressionId:t,isMobileSize:a}){return l.createElement(l.Fragment,null,l.createElement("div",{className:a?"meta_container--metaContainer--kaSwh":""},l.createElement(df.Ay,{mediaQuery:`(max-width: ${dg.YW-1}px)`},l.createElement(mX,{resource:e,rdpImpressionId:t})),l.createElement(df.Ay,{mediaQuery:`(min-width: ${dg.YW}px) and (max-width: ${dg.w3-1}px)`},l.createElement(mq,{resource:e,rdpImpressionId:t})),l.createElement(df.Ay,{mediaQuery:`(min-width: ${dg.w3}px)`},l.createElement(mK,{resource:e,rdpImpressionId:t}))))}function m0({resource:e}){let t=(0,dn.M)()?"mobile_logged_in":"mobile_logged_out",a=l.useMemo(()=>(0,l0.I0)(e)||(0,l0.xQ)(e)?l.createElement(l.Fragment,null,l.createElement(cH,{resource:e,viewContext:t,enableWideButtonForStickyFooter:!0}),l.createElement(mZ,{resource:e})):l.createElement(l.Fragment,null,l.createElement(cX,{resource:e,resourceContent:e,enableWideButtonForStickyFooter:!0}),l.createElement(mZ,{resource:e}),l.createElement(cV,{resource:e,viewContext:t})),[e,t]);return l.createElement("div",{className:D()("meta_container--mobileButtonRow--a-eRc","meta_container--wideMobileButtonRow--ahIrA")},a)}let m1=a(218795).s;function m2({resource:e,resourceContent:t,hasScrolled:a}){let r=(0,cr.K2)(e),n=(0,s.d4)(e=>(0,iv.Tm)(e)),i=(0,lX.Qo)(t)?e9.e0.COMMUNITY_HUB_FILE:(0,l0.xQ)(t)?e9.e0.COMMUNITY_HUB_WIDGET:e9.e0.COMMUNITY_HUB_PLUGIN,o=null,c=l.createElement(cX,{resource:e,resourceContent:t}),d=(0,l6.$9)(e);if(m1&&d){let e=(0,lX.qD)(d),t=Object.values(n).some(e=>(0,l0.I0)(d)&&e.plugins_whitelist_enforced||(0,l0.xQ)(d)&&e.widgets_whitelist_enforced);!(e&&"is_private"in e&&e.is_private)&&t&&(o=l.createElement(m1,{resource:d,viewContext:i}))}let m=l.createElement(cV,{"data-onboarding-key":"save-button",resource:t,viewContext:i}),u=o?null:l.createElement(cn.Q,{resource:t,viewContext:i}),_=l.createElement(cm,{resource:e,resourceContent:t}),p=l.createElement(dt,{resource:e,resourceContent:t,viewContext:i});return a?l.createElement("div",{className:"basic_resource_header--resourcePageHeaderSticky--z2Rga"},l.createElement("div",{className:"basic_resource_header--resourcePageHeaderStickyContainer--XiXE-"},l.createElement("div",{className:"basic_resource_header--headerStickyLeftSide--OkZLQ"},l.createElement("h1",{className:"basic_resource_header--stickyTitle--oG0u0 ellipsis--ellipsis--Tjyfa text--fontPos18--rYXJb text--_fontBase--QdLsd"},r),l.createElement(m3,{hasCommentsEnabled:(0,iv.e5)(t),commentCount:t.comment_count})),l.createElement("div",{className:c9},c,o,u,m))):l.createElement(m4,{publishers:e.community_publishers.accepted,title:r,resourceHeaderStats:p,CTAButton:c,approveButton:o,likeButton:u,saveButton:m,headerBadges:_})}function m4({CTAButton:e,publishers:t,title:a,description:r,resourceHeaderStats:n,approveButton:i,likeButton:o,saveButton:s,learnMore:c,headerBadges:d,openInNewTab:m=!1}){let u=[...t.filter(e=>(0,ci.J3)(e.badges)),...t.filter(e=>!(0,ci.J3)(e.badges))];return l.createElement("div",{className:"basic_resource_header--headerContainer--YYSPX"},l.createElement("div",{className:"basic_resource_header--authors--1PIBq text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(s3.L,{publishers:u,showFigmaPartnerBadge:!0}),l.createElement(s3.I,{publishers:u,openInNewTab:m,useSmallWidth:!0,removeByLabel:!0})),l.createElement("div",{className:"basic_resource_header--title_badge_container--vH8BZ"},l.createElement("div",{className:"basic_resource_header--title--9jW4i text--fontPos24--YppUD text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k"},l.createElement("h1",null,a)),d),n,!!r&&l.createElement("div",{className:"basic_resource_header--description--718b9 text--fontPos13--xW8hS text--_fontBase--QdLsd"},r),l.createElement("div",{className:c9},e,c,i,o,s))}function m8({resource:e,resourceContent:t,hasScrolled:a}){let r=(0,cr.K2)(e),n=e.community_publishers.accepted,i=(0,iv.e5)(t),o=t.comment_count;return a?l.createElement("div",{className:"basic_resource_header--mobileResourcePageHeaderSticky--k2EHs basic_resource_header--mobileResourcePageHeader--EgM2G"},l.createElement("div",{className:c2},l.createElement("div",{className:c6},l.createElement("h1",{className:c4},l.createElement("span",{className:c8},r))),l.createElement(m0,{resource:t}),l.createElement(m3,{hasCommentsEnabled:i,commentCount:o}))):l.createElement("div",{className:"basic_resource_header--resourcePageHeaderMobile--pJLU0 basic_resource_header--mobileResourcePageHeader--EgM2G"},l.createElement("div",{className:c2},l.createElement("div",{className:c6},l.createElement("h1",{className:c4},l.createElement("span",{className:c8},r)),l.createElement("div",{className:"basic_resource_header--mobileAttributionLine--SVYDo basic_resource_header--attributionLine--3-ssm text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"mobile-header-attribution"},l.createElement(cm,{resource:e,resourceContent:t}),l.createElement(dt,{resource:e,resourceContent:t}),l.createElement("div",{className:"basic_resource_header--attributionCreator--rV-9C"},l.createElement(s3.L,{publishers:n}),l.createElement(s3.I,{publishers:n})))),l.createElement(m0,{resource:t}),l.createElement(m3,{hasCommentsEnabled:i,commentCount:o})))}function m3({hasCommentsEnabled:e,commentCount:t}){let[a,r]=(0,e_.fp)(ca);l.useEffect(()=>{let e=()=>{let e=document.getElementById(ct.$O.CommentsView);if(e){let t=e.getBoundingClientRect().top;(0,lX._m)(t,window.innerHeight,window.scrollY)?r(ct.$O.CommentsView):r(ct.$O.DescriptionView)}};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[r]);let n=(e,t)=>{if(e.preventDefault(),t===ct.$O.DescriptionView){window.scrollTo({top:0,behavior:"smooth"});return}let a=document.getElementById(t);if(a){let e=ct.bK,t=a.getBoundingClientRect().top+window.scrollY+e;window.scrollTo({top:t,behavior:"smooth"})}};return l.createElement("div",{className:"basic_resource_header--anchorLinkContainer--UaF3S"},l.createElement("button",{onClick:e=>n(e,ct.$O.DescriptionView)},l.createElement("div",{className:D()(c3,{[c5]:a===ct.$O.DescriptionView})},(0,k.t)("community.resource_page.about"))),e&&l.createElement("button",{onClick:e=>n(e,ct.$O.CommentsView)},l.createElement("div",{className:D()(c3,{[c5]:a===ct.$O.CommentsView})},(0,k.tx)("community.resource_page.comments",{numComments:l.createElement("span",{className:D()(m$,{[mG]:a===ct.$O.CommentsView})},t)}))))}var m5=a(560945),m9=a(30637);let m6=(0,n0.eU)(!1);var m7=a(491679),ue=a(187216);function ut({thumbnailUrls:e,altText:t,size:a,tileAspectRatio:r="16 / 9"}){let n=0;e.length>12&&(n=e.length-12,e=e.slice(0,12));let i=l.useMemo(()=>{let[t,a]=e.length>8?[4,3]:e.length>4?[4,2]:[2,2];return tB.sx.add({gridTemplateColumns:`repeat(${t}, 1fr)`,gridTemplateRows:`repeat(${a}, 1fr)`}).$},[e.length]),o=l.useMemo(()=>{switch(a){case"thumbnail":return"grid_view--carouselGridViewThumbnail--VQ4Aa grid_view--carouselGridView--kG9U6";case"hero":return"grid_view--carouselGridViewHero--fJM2n grid_view--carouselGridView--kG9U6 text--fontNeg20--h0WuY text--_fontBase--QdLsd text--_negText--j9g-L";case"fullscreen_hero":return"grid_view--carouselGridViewFullscreenHero--wJryP grid_view--carouselGridView--kG9U6 text--fontNeg40--v1X92 text--_fontBase--QdLsd text--_negText--j9g-L";default:(0,x.assertNever)(a)}},[a]),s=l.useMemo(()=>tB.sx.if(!!r,{aspectRatio:r}).$,[r]);return l.createElement("div",{className:D()("grid_view--carouselGridViewContainer--LoaLV",{[ue.mH]:"fullscreen_hero"===a})},l.createElement("div",{"aria-label":t,style:i,className:o},e.map((e,t,r)=>l.createElement("div",{key:e,style:s,"aria-hidden":!0,className:"grid_view--carouselGridImageContainer--e2OUP"},l.createElement("img",{src:e,draggable:!1}),"thumbnail"!==a&&t===r.length-1&&n>0&&l.createElement("div",{className:"grid_view--overflowThumbnailCount--2YPuu"},l.createElement("span",null,`+${n}`))))))}var ua=a(921211);let ur="hero--lightboxButton--5mIOs";function un({children:e,showLetterbox:t=!1,showSlidesPreviewButton:a=!1}){let r=l.useRef(null),[n,i]=(0,e_.fp)(m6);return l.useEffect(()=>{let e=r.current;if(e){let t=e=>{"Escape"===e.key&&i(!1)};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}},[i]),l.createElement("div",{ref:r,className:t?"hero--heroImageWrapperWithLetterbox--68M0e hero--heroImageWrapper--Tr0mE":"hero--heroImageWrapper--Tr0mE",onClick:()=>i(!0),role:"button",tabIndex:-1},l.createElement("div",{className:"hero--heroImage--fwiPW","data-testid":"rdp-carousel-hero"},e),a?l.createElement("div",{className:"hero--heroImageSlidesPreviewButton--ymaXm"},l.createElement(ua.K,null),(0,k.tx)("community.embed.preview_title")):l.createElement("div",{className:"hero--heroImageFullScreenIcon--Mn7mU"},l.createElement(eO.In,{icon:"full-screen-enter-32",fill:"menu"})))}function ui({children:e,is16to9AspectRatio:t}){let[a,r]=(0,e_.fp)(m6),n=e=>{e.stopPropagation(),r(!1)};return a?l.createElement("div",{className:"hero--modalBackground--zjoAE",onClick:n,role:"button",tabIndex:-1},l.createElement("div",{className:t?"hero--rdpImageCloseupModal--7mxym":"hero--rdpImageCloseupModal2to1AspectRatio---JVP8 hero--rdpImageCloseupModal--7mxym",onClick:n,role:"button",tabIndex:-1},e,l.createElement("div",{className:"hero--heroImageExitFullScreenIcon--OjJSh hero--heroImageFullScreenIcon--Mn7mU"},l.createElement(eO.In,{icon:"full-screen-exit-32",fill:"menu"})))):null}function uo({children:e,currentIndex:t,totalItems:a,onPrev:r,onNext:n,onRestart:i,imageAspectRatio:o="16 / 9",showLetterbox:s=!1}){let c=l.useRef(null),d=l.useRef(null),m=l.useMemo(()=>0===t,[t]),u=l.useMemo(()=>t===a-1,[t,a]),[_,p]=(0,e_.fp)(m6),f=l.useCallback(()=>{d.current?.focus({preventScroll:!0})},[]);l.useEffect(()=>{let e=c.current;if(_&&e){f();let t=e=>{"ArrowLeft"===e.key?r():"ArrowRight"===e.key?n():"Escape"===e.key&&p(!1)};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}},[f,n,r,p,_]);let g=l.useCallback(e=>{e.stopPropagation(),p(!1)},[p]),E=l.useMemo(()=>tB.sx.if(!!o,{aspectRatio:o}).$,[o]);return _?l.createElement("div",{ref:c,className:"hero--lightboxContainer--c8JpB hero--modalBackground--zjoAE"},l.createElement("div",{className:"hero--lightboxTopRow---zayD"},l.createElement("button",{onClick:g,className:ur},l.createElement(eO.In,{icon:"x-32",fill:"menu"}))),l.createElement("div",{className:"hero--lightboxMediumRow---Gopf",onBlur:f},l.createElement("button",{className:ur,disabled:m,onClick:r},l.createElement(eO.In,{icon:"chevron-left-32",fill:m?"menu-disabled":"menu"})),l.createElement("div",{ref:d,style:E,className:s?"hero--lightboxHeroImageWithLetterbox--0kTBx hero--lightboxHeroImage--3orhF":"hero--lightboxHeroImage--3orhF",role:"button",tabIndex:0,onClick:u?i:n},s?l.createElement("div",{className:"hero--lightboxHeroImageWithLetterboxInnerContainer--buJug"},e):e),l.createElement("button",{className:ur,disabled:u,onClick:n},l.createElement(eO.In,{icon:"chevron-right-32",fill:u?"menu-disabled":"menu"}))),l.createElement("div",{className:"hero--lightboxBottomRow--wnrYI"},l.createElement("div",{className:"hero--lightboxControlsContainer--9MZdh"},l.createElement("button",{className:"hero--lightboxControlsRestartButton--mVitF hero--lightboxControlsButton--Ve597 text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",disabled:m,onClick:i},l.createElement(eO.In,{icon:"return-32",fill:m?"menu-disabled":"menu"}),(0,k.tx)("community.resource_page.media_carousel.restart")),l.createElement("button",{className:"hero--lightboxControlsButton--Ve597",disabled:m,onClick:r},l.createElement(eO.In,{icon:"navigate-back-32",fill:m?"menu-disabled":"menu"})),l.createElement("span",{className:"hero--lightboxProgressIndicator--w-JVT text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},`${t+1} / ${a}`),l.createElement("button",{className:"hero--lightboxControlsButtonMirrored--8Ljmt hero--lightboxControlsButton--Ve597",disabled:u,onClick:n},l.createElement(eO.In,{icon:"navigate-back-32",fill:u?"menu-disabled":"menu"}))))):null}var ul=a(197979),us=a(582493);let uc=l.forwardRef(({index:e,selectedIndex:t,onClick:a,children:r},n)=>l.createElement("div",{ref:n,role:"button",tabIndex:e,onClick:a,className:e===t?"thumbnail--carouselThumbnailSelected--htIXX thumbnail--carouselThumbnailBase--WdkqA":"thumbnail--carouselThumbnail--Gr5mS thumbnail--carouselThumbnailBase--WdkqA"},r));function ud({thumbnailUrl:e,resizedThumbnailUrls:t,resourceId:a,altText:r,isVideo:n}){return l.createElement(l.Fragment,null,l.createElement(ul.F5,{thumbnailUrl:e,resourceId:a,altText:r,thumbnailContext:sx.O7.DETAIL,resizedThumbnailUrls:t}),n&&l.createElement("div",{className:"thumbnail--carouselThumbnailOverlayForVideo--pfKHV"},l.createElement(us.p,null)))}function um(e){let t=(0,l6.XW)(e)?e.name:(0,lX.qD)(e).name;return`${t} preview`}function uu({resource:e,resourceContent:t,is16to9AspectRatio:a}){let r=l.useRef(null),n=l.useRef(null),[i,o]=l.useState(!1),[s,c]=l.useState(0),[d,m]=l.useState(!1),[u,_]=l.useState(!0),p=l.useMemo(()=>(0,lX.N6)(e),[e]),f=function(e,t,a=!1){let r=(0,m7.fq)((0,l6.cX)(e)?l6.eO(e)?.library_key:void 0);return l.useMemo(()=>{let e=void 0===r,n=e?t:r.length;if(n<=1)return[];let i=a?function(e){let t=e,a=[];for(;t>16;)a.push(12),t-=12;return t>12&&(a.push(8),t-=8),t>0&&a.push(t),a}(n):[n],o=[];return i.reduce((t,a)=>{let n=e?[]:r.slice(t,t+a);return o.push({type:"grid",thumbnailUrls:n}),t+a},0),o},[a,t,r])}(e,p.length),g=l.useMemo(()=>[...f,...p],[p,f]),E=l.useRef([]),h=(0,lJ.lZ)();l.useEffect(()=>{c(f.length)},[f.length,e]);let v=l.useCallback(()=>{r.current&&o(r.current.scrollWidth>r.current.clientWidth)},[]);l.useEffect(v,[v,g.length]),(0,m5.w)(r,v);let y=l.useCallback(()=>{let e=r.current,t=E.current[g.length-1];if(e&&t){let a=e.getBoundingClientRect(),r=t.getBoundingClientRect();m(e.scrollLeft>0),_(Math.abs(r.right-a.right)>1)}},[g.length]);l.useEffect(()=>{let e=r.current,t=E.current[s];if(e&&t){let a=e.getBoundingClientRect(),r=t.getBoundingClientRect(),n=(()=>{let e=parseInt(ue.lp)/2+parseInt(ue.v$),t=0===s,n=a.left+(t?0:e);if(r.left<n)return r.left-n;let i=s===g.length-1,o=a.right-(i?0:e);return r.right>o?r.right-o:0})();(0,m9.Lg)()||0===n||e.scrollBy({left:n,behavior:"smooth"})}},[g.length,s]);let b=l.useCallback(()=>{c(e=>Math.max(0,e-1))},[]),w=l.useCallback(()=>{c(e=>Math.min(g.length-1,e+1))},[g.length]),T=l.useCallback(()=>{c(0)},[]),[I,C]=(0,e_.fp)(m6);l.useEffect(()=>{let e=n.current;if(!I&&e){E.current[s]?.focus({preventScroll:!0});let t=e=>{let t=!0;"ArrowLeft"===e.key?b():"ArrowRight"===e.key?w():"Enter"===e.key?C(!0):t=!1,t&&e.preventDefault()};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}},[w,b,s,C,I]);let N=(0,cE.J)(),S=(0,lX.z$)(e),k=(0,l6.cX)(e);if(S===dh.Z4.EMBED||0===g.length)return l.createElement(u_,{resource:e,heroType:S,is16to9AspectRatio:a});let L=s<g.length?g[s]:g[0],A=Object.keys(g).length>1;return l.createElement(l.Fragment,null,function(r){let n=um(e);switch(r.type){case"image":let[i,o]=(0,ul.P)(r);return l.createElement(l.Fragment,null,l.createElement(un,{showLetterbox:k,showSlidesPreviewButton:k&&h()},l.createElement(ul.F5,{thumbnailUrl:i,resourceId:e.id,altText:n,thumbnailContext:sx.O7.DETAIL,resizedThumbnailUrls:o})),k?l.createElement(uo,{currentIndex:s,totalItems:g.length,onPrev:b,onNext:w,onRestart:T,showLetterbox:k},l.createElement(ul.ru,{thumbnailUrl:i,altText:n,resourceId:e.id})):l.createElement(ui,{is16to9AspectRatio:a},l.createElement(ul.ru,{thumbnailUrl:i,altText:n,resourceId:e.id})));case"video":return l.createElement("div",{className:"hero--heroVideo--XAdfp hero--heroImage--fwiPW"},l.createElement(us.A,{src:(0,ul.Mf)(r,e),fallbackSrc:r.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,ei.sx)("rdp_video_ended",{community_resource_id:e.id,resouce_type:(0,l6.Vm)(t),searchSessionId:N})}}));case"grid":return l.createElement(l.Fragment,null,l.createElement(un,{showSlidesPreviewButton:k&&h()},l.createElement(ut,{thumbnailUrls:r.thumbnailUrls,altText:n,size:"hero"})),k?l.createElement(uo,{currentIndex:s,totalItems:g.length,onPrev:b,onNext:w,onRestart:T},l.createElement(ut,{thumbnailUrls:r.thumbnailUrls,altText:n,size:"fullscreen_hero"})):l.createElement(ui,{is16to9AspectRatio:a},l.createElement(ut,{thumbnailUrls:r.thumbnailUrls,altText:n,size:"fullscreen_hero"})));default:(0,x.assertNever)(r)}}(L),A&&l.createElement("div",{ref:n,className:ue.xW,"data-testid":"rdp-carousel-thumbnails"},l.createElement("div",{ref:r,className:i?ue.UY:ue.Ec,onScroll:y},Object.values(g).map(function(a,r){let n=null,i=um(e);if("image"===a.type||"video"===a.type){let[t,r]=(0,ul.P)(a);n=l.createElement(ud,{thumbnailUrl:t,resizedThumbnailUrls:r,resourceId:e.id,altText:i,isVideo:"video"===a.type})}else"grid"===a.type?n=l.createElement(ut,{thumbnailUrls:a.thumbnailUrls,altText:i,size:"thumbnail"}):(0,x.assertNever)(a);return l.createElement(uc,{ref:e=>{E.current[r]=e},key:r,index:r,selectedIndex:s,onClick:()=>{c(r),(0,ei.sx)("CTA Clicked",{name:"Resource Carousel Thumbnail Clicked",community_resource_id:e.id,index:r,media_type:a.type,resouce_type:(0,l6.Vm)(t),searchSessionId:N})}},n)})),i&&d&&l.createElement(l.Fragment,null,l.createElement("div",{className:ue.sp}),l.createElement("div",{className:ue.T9,role:"button",tabIndex:0,onClick:b},l.createElement(eO.In,{icon:"chevron-left-32"}))),i&&u&&l.createElement(l.Fragment,null,l.createElement("div",{className:ue.jp}),l.createElement("div",{className:ue.aT,role:"button",tabIndex:0,onClick:w},l.createElement(eO.In,{icon:"chevron-right-32"})))))}function u_({resource:e,heroType:t,is16to9AspectRatio:a}){let r=(0,lJ.lZ)();if(t!==dh.Z4.EMBED){let t=e.thumbnail_url??void 0,n=(0,l6.XW)(e)?e.thumbnail_src_set:(0,l0.U)(e)&&e.resized_thumbnail_urls,i=(0,l6.cX)(e);return l.createElement(l.Fragment,null,l.createElement(un,{showSlidesPreviewButton:i&&r()},l.createElement(ul.F5,{thumbnailUrl:t,resourceId:e.id,altText:um(e),thumbnailContext:sx.O7.DETAIL,resizedThumbnailUrls:n||void 0})),l.createElement(ui,{is16to9AspectRatio:a},l.createElement(ul.ru,{thumbnailUrl:t,altText:um(e),resourceId:e.id})))}let n=(0,l6.XW)(e)?(0,l6.qY)(e):e;return n?l.createElement("div",{className:ue.Wf,"data-testid":"rdp-embed"},l.createElement(dS,{enableEmbedOnSmallScreens:!0,resource:n})):null}var up=a(335666);function uf({title:e,description:t,children:a}){return l.createElement("section",{className:D()("collection_section--section--RLij0","collection_section--breadcrumbsPadding--JYTAp")},l.createElement("div",{className:"collection_section--title--tNWji text--fontPos24--YppUD text--_fontBase--QdLsd"},e),!!t&&l.createElement("div",{className:"collection_section--description--UH-JN text--fontPos16--oMC-G text--_fontBase--QdLsd"},t),l.createElement("div",{className:"collection_section--content--rIF8z"},a))}var ug=a(375360);let uE="two_column_resource_page--leftSideRedesign--W3m0M",uh="two_column_resource_page--rightSideRedesignCarousel--d7GTz two_column_resource_page--rightSideRedesign--KsU3v",uv="two_column_resource_page--rightSideRedesignFallbackThumbnail--Ydb1e two_column_resource_page--rightSideRedesign--KsU3v";function uy({title:e,resource:t,meta:a,showCTA:r=!0}){let n=(0,sS.N)(`(max-width: ${dg.YW}px)`),i=(0,up.C)(t),o=sc(t,a),s=r?l.createElement(cX,{resource:t,resourceContent:t}):null,c=(0,lX._t)({resource:t}),d=l.createElement(eG.o3,{className:"hero_section--learnMore--a7m3e text--fontPos13--xW8hS text--_fontBase--QdLsd",to:c,trackingEventName:"community_collections",trackingProperties:{href:c},target:"_blank"},(0,k.tx)("community.collections.learn_more")),m=(0,lX.qD)(t),u=l.createElement(dt,{resource:t,resourceContent:t});return l.createElement(uf,{title:e},n?l.createElement("div",null,l.createElement(ug.rS,{resource:t,title:o?.title,description:o?.description})):l.createElement("div",{className:"hero_section--section--xyS5J"},l.createElement(nV.Y,{width:"100%",direction:"horizontal",height:"hug-contents",verticalAlignItems:"center",horizontalAlignItems:"center",spacing:"auto"},l.createElement("div",{className:uE},l.createElement(m4,{publishers:t.community_publishers.accepted,resourceHeaderStats:u,CTAButton:s,learnMore:d,title:o?.title??m.name,description:o?.description,openInNewTab:!0})),l.createElement("div",{className:i?uh:uv},l.createElement(uu,{resource:t,resourceContent:t,is16to9AspectRatio:i})))))}var ub=a(407844),uw=a(164795),uT=a(967063);function uI(){let e={id:uw.om.communityResourceInReviewBanner,bannerType:uw.x1.WARN,icon:uT.A,mainText:(0,k.t)("community.collections.unpublished_banner.this_page_is_not_published"),description:(0,k.t)("community.collections.unpublished_banner.only_admins_can_see_this_page"),dismissible:!1,positionStatic:!0};return l.createElement(ub.C,{content:e,onDismiss:g.lQ})}let uC=a(643233).i,ux="resource_bundle_section--resources--h-L7L";function uN({title:e,description:t,resources:a,meta:r}){let n=a.filter(e=>!!e);return n.length?l.createElement(uf,{title:e,description:t},l.createElement("div",{className:ux},n.map(e=>{let t=sc(e,r);return l.createElement(ug.rS,{resource:e,title:t?.title,description:t?.description,key:e.id})}))):null}function uS({title:e,description:t,meta:a,preview:r=!1}){return l.createElement(uf,{title:e,description:t},l.createElement("div",{className:ux},r?"Preview not supported":(a.figjam_ai??[]).map(e=>l.createElement(uC,{title:e.title,description:e?.description??"",imageUrl:e.imageUrl,prompt:e.prompt,promptCategory:e.category,key:`${e.title}-${e.prompt}`}))))}function uk(){let{urlSlug:e}=(0,lV.g)(),[{data:t,status:a}]=(0,f.IT)(sI({urlSlug:e,isTemplateUrl:function(e){try{return/^\/community\/templates\/.+$/.test(new URL(e).pathname)}catch{return!1}}(m.Ay.location.href)}));return((0,l.useLayoutEffect)(()=>{let t=sd[e];(0,s6.N)(t,sO.LJ)&&m.Ay.replace(new sP.IE({categorySlug:t}).href);let a=sm[e];a&&m.Ay.replace(`/community/collections/${a}`)},[e]),"loading"===a)?null:t?(document.title=t.meta_title||"Collection | Figma",l.createElement(l.Fragment,null,l.createElement(uL,{collection:t}),!(0,d.y3)()&&l.createElement("div",{className:"collection_page--footerContainer--Y-BuI collection_page--pageSections--mndLy"},l.createElement(sU,null)))):l.createElement(sZ,null)}function uL({collection:e,preview:t=!1}){return l.createElement(eG.fu,{name:"community_collections",properties:{urlSlug:e.url_slug,title:e.title}},!("published"===e.publishing_status&&e.latest_published_at)&&l.createElement(uI,null),l.createElement("div",{className:"collection_page--page--XgZLM"},l.createElement(s9,{collection:e,preview:t}),!!e.sections.length&&l.createElement("section",{className:"collection_page--pageSectionsRedesign--CwAe3"},e.sections.map((e,a)=>e.section_type===se.BUNDLE_SECTION&&e.resources?l.createElement(uN,{title:e.title||"",description:e.description||"",resources:e.resources,meta:e.meta,key:a}):e.section_type===se.HERO_SECTION&&e.resource?l.createElement(uy,{title:e.title||"",resource:e.resource,meta:e.meta,showCTA:!t,key:a}):e.section_type===se.BUNDLE_SECTION&&e.meta.figjam_ai?l.createElement(uS,{title:e.title||"",description:e.description||"",meta:e.meta,preview:t,key:a}):void 0)),!!e.faqs&&l.createElement(ce,{faqs:e.faqs})))}function uA(){let e=(0,cE.J)(),[t,a]=l.useState();return l.useEffect(()=>m.Ay.listen(()=>{a(e)}),[e]),l.useEffect(()=>{t&&!m.Ay.location.state?.searchSessionId&&m.Ay.replace(null,{...m.Ay.location.state,searchSessionId:t})},[t]),null}function uR(){return(0,l.useEffect)(()=>m.Ay.listen(e=>{"PUSH"===e&&window.scrollTo(0,0)}),[]),null}var uF=a(62589),uO=(e=>(e.COLLECTIONS="collections",e.TEMPLATES="templates",e))(uO||{});class uP extends uF.nS{constructor(e){super(e)}}uP.path="/community/:collectionType(collections|templates)/:urlSlug",uP.parseQueryString=()=>({});class uD extends uF.nS{}uD.path="/community/collections",uD.parseQueryString=()=>({});var uM=a(417659),uB=a(97128),uU=a(697170),uV=a(177131),uH=a(343427);function uW(e){let t;return()=>t??=e()}let uj=uW(function(){return{designTemplates:[{urlSlug:sO.LJ.desktopAppsWebsites,text:(0,k.t)("categories.desktop_apps_websites")},{urlSlug:sO.LJ.mobileApps,text:(0,k.t)("categories.mobile_apps")},{urlSlug:sO.LJ.portfolios,text:(0,k.t)("categories.portfolios")},{urlSlug:sO.LJ.resumes,text:(0,k.t)("categories.resumes")}],libraries:[{urlSlug:sO.LJ.uiKits,text:(0,k.t)("categories.ui_kits")},{urlSlug:sO.LJ.wireframes,text:(0,k.t)("categories.wireframes")}],plugins:[{urlSlug:sO.LJ.editingEffects,text:(0,k.t)("categories.editing_effects")},{urlSlug:sO.LJ.fileOrganization,text:(0,k.t)("categories.file_organization")},{urlSlug:sO.LJ.development,text:(0,k.t)("categories.development")},{urlSlug:sO.LJ.whiteboarding,resourceType:"widgets",text:(0,k.t)("categories.widgets")},{urlSlug:sO.LJ.importExport,text:(0,k.t)("categories.import_export")},{urlSlug:sO.LJ.prototypingAnimation,text:(0,k.t)("categories.prototyping_animation")}],visualAssets:[{urlSlug:sO.LJ.illustrations,text:(0,k.t)("categories.illustrations")},{urlSlug:sO.LJ.icons,text:(0,k.t)("categories.icons")},{urlSlug:sO.LJ.shapesColors,text:(0,k.t)("categories.shapes_colors")}],whiteboarding:[{urlSlug:sO.LJ.brainstorming,text:(0,k.t)("categories.brainstorming")},{urlSlug:sO.LJ.diagramming,text:(0,k.t)("categories.diagramming")},{urlSlug:sO.LJ.funGames,text:(0,k.t)("categories.fun_games")},{urlSlug:sO.LJ.teamMeetings,text:(0,k.t)("categories.team_meetings")},{urlSlug:sO.LJ.strategicPlanning,text:(0,k.t)("categories.strategic_planning")}],presentations:[{urlSlug:sO.LJ.presentations,resourceId:"1382483546106051977",text:(0,k.t)("categories.presentations.pitch_deck")},{urlSlug:sO.LJ.presentations,resourceId:"1382445842871959915",text:(0,k.t)("categories.presentations.product_roadmap")}]}}),u$=uW(function(){return{libraries:{urlSlug:sO.LJ.libraries,text:(0,k.t)("categories.design_libraries"),allText:(0,k.t)("categories.all_design_libraries")},designTemplates:{urlSlug:sO.LJ.designTemplates,text:(0,k.t)("categories.design_templates"),allText:(0,k.t)("categories.all_design_templates")},visualAssets:{urlSlug:sO.LJ.visualAssets,text:(0,k.t)("categories.assets"),allText:(0,k.t)("categories.all_assets")},plugins:{urlSlug:sO.LJ.designTools,resourceType:"plugins",text:(0,k.t)("community.view_bar.plugins"),allText:(0,k.t)("categories.all_plugins")},whiteboarding:{urlSlug:sO.LJ.whiteboarding,text:(0,k.t)("categories.whiteboarding"),allText:(0,k.t)("categories.all_whiteboarding")},presentations:{urlSlug:sO.LJ.presentations,text:(0,k.t)("categories.presentations"),allText:(0,k.t)("categories.all_presentations")}}});function uG(e){return e.resourceId?new uB.ax({resourceId:e.resourceId,apiResourceType:uB.Uo.FILE}).href:e.resourceType&&e.urlSlug?new sP.IE({categorySlug:e.urlSlug},{resource_type:e.resourceType}).href:new sP.IE({categorySlug:e.urlSlug}).href}function uY(e){let t=uG(e);return{key:function(e){let t=e.urlSlug;return e.resourceId?t+"-"+e.resourceId:e.resourceType?t+"-"+e.resourceType:t}(e),text:e.allText?e.allText:e.text,path:t,className:e.allText?S.cx.underline.$:void 0,trackingProps:{trackingEventName:"community_mobile_nav_category_clicked",trackingProperties:{slug:e.urlSlug,url:t}}}}var uz=a(232655);let uQ="mobile_flyout_item--mobileFlyoutItem--7KYhr text--fontPos20--Bcz97 text--_fontBase--QdLsd";function uK({navItem:e,onClose:t}){let a={trackingEventName:"mobile_flyout_item_select",trackingProperties:{path:e.path},...e.trackingProps};return l.createElement("div",{className:uQ},l.createElement(eG.o3,{key:e.key,to:e.path,onClick:a=>{e.onClick&&e.onClick(a),t()},className:D()(S.cx.colorText.block.$,e.className??""),...a},e.text))}function uq({isExpanded:e,toggleExpanded:t,navItemGroup:a,onClose:r}){let n=l.useRef(null);return l.useEffect(()=>{if(e&&n.current?.style.maxHeight==="0px"){let e=0;n.current.childNodes.forEach(t=>{t instanceof HTMLElement&&(e+=t.offsetHeight)}),n.current.style.maxHeight=`${e}px`}else!e&&n.current&&(n.current.style.maxHeight="0px")},[e]),l.createElement("div",{className:uQ},l.createElement("button",{onClick:t,className:S.cx.flex.justifyStart.alignLeft.colorText.itemsCenter.$},a.text,l.createElement(H.B,{svg:rK.A,className:D()("mobile_flyout_item_group--mobileFlyoutItemGroupCaret--lbbaU",{"mobile_flyout_item_group--mobileFlyoutItemGroupCaretExpanded--P269f":e}),svgClassName:S.cx.w8.h8.$,style:{fill:(0,uz.TD)("default")}})),l.createElement("div",{ref:n,className:"mobile_flyout_item_group--mobileFlyoutSubItems--Ze8c7"},a.children.map(e=>l.createElement(uK,{key:e.key,navItem:e,onClose:r}))))}var uZ=a(234269),uX=a(137466);function uJ({navItems:e,onClose:t,trackingContext:a}){let[r,n]=l.useState(!1);l.useEffect(()=>{let e=document.body.style.overflow;return document.body.style.overflow="hidden",n(!0),()=>{document.body.style.overflow=e}},[]);let[i,o]=l.useState(null),s={name:"mobile_flyout",...a};return l.createElement(l.Fragment,null,l.createElement("div",{className:"mobile_flyout--mobileFlyoutContainer--Z9i-T",onClick:e=>{e.stopPropagation(),t()}},l.createElement("div",{className:D()("mobile_flyout--mobileFlyout--YX14z",{"mobile_flyout--mobileFlyoutMounted--RUFmS":r}),onClick:e=>e.stopPropagation()},l.createElement(eG.fu,{...s},l.createElement("div",{className:S.cx.flex.justifyBetween.itemsCenter.$},l.createElement(H.B,{svg:uZ.A,className:"mobile_flyout--communitySvgContainer--R6Qs9",style:{fill:(0,uz.TD)("default")},svgClassName:S.cx.w32.h32.$,onClick:e=>{(0,mT.qG)("/community",e,!1),t()}}),l.createElement(H.B,{svg:uX.A,svgWidth:"18px",onClick:t,style:{fill:(0,uz.TD)("default")}})),l.createElement("div",{className:S.cx.flex.flexWrap.flexColumn.gap2.pt32.$},e.map(e=>"children"in e?l.createElement(uq,{key:e.key,isExpanded:i===e.key,toggleExpanded:()=>o(i===e.key?null:e.key),navItemGroup:e,onClose:t}):l.createElement(uK,{key:e.key,navItem:e,onClose:t})))))))}function u0({showNewIcon:e}){let[t,a]=l.useState(!1),r=function(){let e=function(){let e=uj(),t=u$();return(0,l.useMemo)(()=>[{category:t.libraries,dropdownCategories:e.libraries},{category:t.designTemplates,dropdownCategories:e.designTemplates},{category:t.visualAssets,dropdownCategories:e.visualAssets},{category:t.plugins,dropdownCategories:e.plugins},{category:t.whiteboarding,dropdownCategories:e.whiteboarding},{category:t.presentations,dropdownCategories:e.presentations}],[t,e])}();return(0,l.useMemo)(()=>e.reduce((e,{category:t,dropdownCategories:a})=>{if(!("urlSlug"in t||"resourceId"in t))return e;if(a&&a.length>0){let r=[...a.map(e=>uY(e)),uY(t)];return[...e,{key:t.urlSlug,text:t.text,children:r}]}return[...e,{key:t.urlSlug,text:t.text,path:uG(t)}]},[{key:"home",text:(0,k.t)("community.view_bar.home"),path:"/community"}]),[e])}();return l.createElement("div",{"data-testid":"flyout-category-selector",className:S.cx.p12.flexShrink0.$},t&&l.createElement(uJ,{navItems:r,onClose:()=>a(!1),trackingContext:{name:"community_mobile_nav_flyout"}}),l.createElement("button",{className:S.cx.flex.gap6.flexNowrap.fontMedium.colorText.itemsCenter.$,onClick:()=>a(!0)},e?l.createElement(uH.Z,null):l.createElement(eO.In,{icon:"workspace-16"}),l.createElement("span",{className:S.cx.font13.$},(0,k.tx)("community.view_bar.browse"))))}let u1="nav_dropdown_card--linearGradientBackground--lJEst",u2="nav_dropdown_card--animatedImage--K1GI2",u4="nav_dropdown_card--icon--i86uY",u8="nav_dropdown_card--card--byB-G",u3="nav_dropdown_card--smallCard---QRv1",u5=e=>e.backgroundDotted&&e.backgroundFading?u1:e.backgroundDotted?"nav_dropdown_card--dottedBackground--JKonD":e.backgroundDottedSmall?"nav_dropdown_card--dottedBackgroundSmall--SQfOI":e.backgroundFading?u1:void 0,u9={scaleOut:"nav_dropdown_card--scaleOut--qGBOE",slideLeft:"nav_dropdown_card--slideLeft--TxPHT",shuffle:"nav_dropdown_card--shuffle--1xZAE",slideUp:"nav_dropdown_card--slideUp--ihkWb",iconFan:"nav_dropdown_card--iconFan--ujwnb",cardFan:"nav_dropdown_card--cardFan--AxUDL",accordian:"nav_dropdown_card--accordian--vOvt0"};var u6=(e=>(e.HALF="HALF",e.FULL="FULL",e))(u6||{});function u7(e){let{cardSize:t,title:a,subtitle:r,url:n,animation:i,backgroundColor:o}=e;return l.createElement(eG.jm,{className:"nav_dropdown_card--navDropdownCard--MAs6u","data-card-size":t,trackingEventName:"community_global_nav_category_clicked",trackingProperties:{url:n},onClick:()=>m.Ay.push(n)},l.createElement("div",{className:"nav_dropdown_card--titleAndSubtitle--gq1Eu"},l.createElement("a",{className:"nav_dropdown_card--title--ytbFI text--fontPos13--xW8hS text--_fontBase--QdLsd",href:n,onClick:e=>e.preventDefault()},a),r&&l.createElement("div",{className:"nav_dropdown_card--subTitle--Z3jMj text--fontPos11--2LvXf text--_fontBase--QdLsd"},r)),l.createElement("div",{className:D()("nav_dropdown_card--imagesContainer--BXAtR",u5(e),u9[i]),style:{backgroundColor:o},"data-card-size":t},"accordian"===i&&l.createElement(l.Fragment,null,l.createElement("div",{"data-animation-index":"2",className:u2}),l.createElement("div",{"data-animation-index":"1",className:u2,style:{backgroundColor:e.middleCardColor}}),l.createElement("img",{alt:a,"data-animation-index":"0",...e.images[0],className:D()(e.images[0].className,u2)})),!!i&&"accordian"!==i&&e.images.map((e,t)=>l.createElement("img",{key:t,alt:a,"data-animation-index":t,...e,className:D()(e.className,u2)}))))}function _e(e){return({[sO.LJ.visualAssets]:(0,k.t)("community.categories.visual_assets"),[sO.LJ.development]:(0,k.t)("community.categories.development"),[sO.LJ.accessibility]:(0,k.t)("categories.accessibility"),[sO.LJ.brainstorming]:(0,k.t)("categories.brainstorming"),[sO.LJ.classroomActivities]:(0,k.t)("categories.classroom_activities"),[sO.LJ.designTemplates]:(0,k.t)("community.categories.design_templates"),[sO.LJ.designTools]:(0,k.t)("community.categories.design_tools"),[sO.LJ.desktopAppsWebsites]:(0,k.t)("categories.desktop_apps_websites"),[sO.LJ.diagramming]:(0,k.t)("categories.diagramming"),[sO.LJ.editingEffects]:(0,k.t)("categories.editing_effects"),[sO.LJ.education]:(0,k.t)("community.categories.education"),[sO.LJ.fileOrganization]:(0,k.t)("categories.file_organization"),[sO.LJ.fontsTypography]:(0,k.t)("categories.fonts_typography"),[sO.LJ.funGames]:(0,k.t)("categories.fun_games"),[sO.LJ.icons]:(0,k.t)("community.categories.icons"),[sO.LJ.illustrations]:(0,k.t)("categories.illustrations"),[sO.LJ.importExport]:(0,k.t)("categories.import_export"),[sO.LJ.libraries]:(0,k.t)("categories.libraries"),[sO.LJ.mobileApps]:(0,k.t)("categories.mobile_apps"),[sO.LJ.portfolios]:(0,k.t)("categories.portfolios"),[sO.LJ.calendarTemplates]:(0,k.t)("categories.calendar_templates"),[sO.LJ.presentations]:(0,k.t)("categories.presentations"),[sO.LJ.prototypingAnimation]:(0,k.t)("categories.prototyping_animation"),[sO.LJ.resumes]:(0,k.t)("categories.resumes"),[sO.LJ.shapesColors]:(0,k.t)("categories.shapes_colors"),[sO.LJ.stockPhotography]:(0,k.t)("categories.stock_photography"),[sO.LJ.strategicPlanning]:(0,k.t)("categories.strategic_planning"),[sO.LJ.teamMeetings]:(0,k.t)("categories.team_meetings"),[sO.LJ.tutorials]:(0,k.t)("categories.tutorials"),[sO.LJ.uiKits]:(0,k.t)("categories.ui_kits"),[sO.LJ.wireframes]:(0,k.t)("categories.wireframes"),[sO.LJ.whiteboarding]:(0,k.t)("community.categories.whiteboarding")})[e]}function _t({links:e}){return l.createElement("div",{className:"nav_dropdown_list--navDropdownList--WMnxk"},e.map(({route:e,textOverride:t,isBold:a})=>{let r=_e(e.params.categorySlug);return l.createElement(eG.o3,{trackingEventName:"community_global_nav_category_clicked",to:e.href,key:e.pathname,trackingProperties:{slug:e.params.categorySlug}},l.createElement("div",{className:a?"nav_dropdown_list--navDropdownListLinkBold--TAZNI nav_dropdown_list--navDropdownListLink--fjC8M text--fontPos13--xW8hS text--_fontBase--QdLsd":"nav_dropdown_list--navDropdownListLink--fjC8M text--fontPos13--xW8hS text--_fontBase--QdLsd"},t||r))}))}let _a="nav_category_selector_2--navDropdownContainer--qK25n",_r="nav_category_selector_2--navDropdownCardColumn--bCxFr";function _n(){let{uikitRoute:e,wireframesRoute:t,designTemplatesRoute:a,desktopAppRoute:r,mobileAppRoute:n,portfolioRoute:i,resumeRoute:o,visualAssetsRoute:s,illustrationsRoute:c,iconsRoute:d,shapesColorsRoute:m}=(0,l.useMemo)(()=>({uikitRoute:new sP.IE({categorySlug:sO.LJ.uiKits}),wireframesRoute:new sP.IE({categorySlug:sO.LJ.wireframes}),designTemplatesRoute:new sP.IE({categorySlug:sO.LJ.designTemplates}),desktopAppRoute:new sP.IE({categorySlug:sO.LJ.desktopAppsWebsites}),mobileAppRoute:new sP.IE({categorySlug:sO.LJ.mobileApps}),portfolioRoute:new sP.IE({categorySlug:sO.LJ.portfolios}),resumeRoute:new sP.IE({categorySlug:sO.LJ.resumes}),visualAssetsRoute:new sP.IE({categorySlug:sO.LJ.visualAssets}),illustrationsRoute:new sP.IE({categorySlug:sO.LJ.illustrations}),iconsRoute:new sP.IE({categorySlug:sO.LJ.icons}),shapesColorsRoute:new sP.IE({categorySlug:sO.LJ.shapesColors})}),[]);return l.createElement("div",{className:_a},l.createElement(df.Ay,{mediaQuery:`(min-width: ${i0.U1R})`},l.createElement(u7,{cardSize:u6.FULL,title:(0,k.t)("categories.ui_kits"),subtitle:(0,k.t)("categories.navbar.ui_kits.subtitle"),url:e.href,animation:"cardFan",images:[{src:"https://static.figma.com/uploads/c9620888b341fdf8bfcb6cb53ef798b8efd27159",className:u8},{src:"https://static.figma.com/uploads/f5921b0ab0398572836ad5724607bab4431bb730",className:u8}]})),l.createElement(df.Ay,{mediaQuery:`(min-width: ${i0.U1R})`},l.createElement(u7,{cardSize:u6.FULL,title:(0,k.t)("categories.wireframes"),subtitle:(0,k.t)("categories.navbar.wireframes.subtitle"),url:t.href,animation:"cardFan",images:[{src:"https://static.figma.com/uploads/da71ee40d7bcd76b5f8857c1694056d19da681b2",className:u8},{src:"https://static.figma.com/uploads/d50b185c8aba27a30207c8d938fcd13faadf9f32",className:u8}]})),l.createElement(df.Ay,{mediaQuery:`(max-width: ${(0,ik.jz)(i0.U1R)-1}px)`},l.createElement("div",{className:_r},l.createElement(u7,{cardSize:u6.HALF,title:(0,k.t)("categories.ui_kits"),subtitle:(0,k.t)("categories.navbar.ui_kits.subtitle"),url:e.href,animation:"slideUp",images:[{src:"https://static.figma.com/uploads/c9620888b341fdf8bfcb6cb53ef798b8efd27159",className:u3}]}),l.createElement(u7,{cardSize:u6.HALF,title:(0,k.t)("categories.wireframes"),subtitle:(0,k.t)("categories.navbar.wireframes.subtitle"),url:t.href,animation:"slideUp",images:[{src:"https://static.figma.com/uploads/d50b185c8aba27a30207c8d938fcd13faadf9f32",className:u3}]}))),l.createElement(_t,{links:[{route:a,isBold:!0},{route:r},{route:n},{route:i},{route:o}]}),l.createElement(_t,{links:[{route:s,textOverride:(0,k.t)("categories.assets"),isBold:!0},{route:c},{route:d},{route:m}]}))}function _i(){let e=(0,iD.DP)(),{editingEffectsRoute:t,fileOrganizationRoute:a,developmentRoute:r,widgetsRoute:n,pluginsRoute:i,importExportRoute:o,accessibilityRoute:s,prototypingAnimationRoute:c}=(0,l.useMemo)(()=>({editingEffectsRoute:new sP.IE({categorySlug:sO.LJ.editingEffects},{resource_type:"plugins"}),fileOrganizationRoute:new sP.IE({categorySlug:sO.LJ.fileOrganization},{resource_type:"plugins"}),developmentRoute:new sP.IE({categorySlug:sO.LJ.development},{resource_type:"plugins"}),widgetsRoute:new sP.IE({categorySlug:sO.LJ.whiteboarding},{resource_type:"widgets"}),pluginsRoute:new sP.IE({categorySlug:sO.LJ.designTools},{resource_type:"plugins"}),importExportRoute:new sP.IE({categorySlug:sO.LJ.importExport},{resource_type:"plugins"}),accessibilityRoute:new sP.IE({categorySlug:sO.LJ.accessibility},{resource_type:"plugins"}),prototypingAnimationRoute:new sP.IE({categorySlug:sO.LJ.prototypingAnimation},{resource_type:"plugins"})}),[]);return l.createElement("div",{className:_a},l.createElement(df.Ay,{mediaQuery:`(min-width: ${i0.U1R})`},l.createElement(u7,{cardSize:u6.FULL,title:(0,k.t)("categories.editing_effects"),subtitle:(0,k.t)("categories.navbar.editing_effects.subtitle"),url:t.href,animation:"slideLeft",images:[{src:"dark"===e?"https://static.figma.com/uploads/c55e977611400609a084e5620d40edc6c50a9a1b":"https://static.figma.com/uploads/5c737368bdd000ee52eb78e6424e14baeded37fb",className:u8,style:{boxShadow:"none"}}]})),l.createElement("div",{className:_r},l.createElement(u7,{cardSize:u6.HALF,title:(0,k.t)("categories.file_organization"),subtitle:(0,k.t)("categories.navbar.file_organization.subtitle"),url:a.href,animation:"scaleOut",images:[{src:"https://static.figma.com/uploads/ea10da5555080d6f61eceb6403aa7c1cef613347",className:u4}]}),l.createElement(u7,{cardSize:u6.HALF,title:(0,k.t)("categories.development"),subtitle:(0,k.t)("categories.navbar.development.subtitle"),url:r.href,animation:"iconFan",images:[{src:"https://static.figma.com/uploads/33deabb795dc9e08a039e2f0994d68dfb5770cbc",className:u4},{src:"https://static.figma.com/uploads/48bc4dd034de8b31df987fa89dbf6a1faa65c194",className:u4}]})),l.createElement(df.Ay,{mediaQuery:`(min-width: ${i0.U1R})`},l.createElement(u7,{cardSize:u6.FULL,title:(0,k.t)("categories.widgets"),subtitle:(0,k.t)("categories.navbar.widgets.subtitle"),url:n.href,animation:"shuffle",images:[{src:"https://static.figma.com/uploads/b1db3193a01e80c6c6875e569a65db5785d85903"},{src:"https://static.figma.com/uploads/859671379f19079b85b3611c4934611a1c915174"}],backgroundDotted:!0,backgroundFading:!0})),l.createElement(df.Ay,{mediaQuery:`(max-width: ${(0,ik.jz)(i0.U1R)-1}px)`},l.createElement("div",{className:_r},l.createElement(u7,{cardSize:u6.HALF,title:(0,k.t)("categories.editing_effects"),subtitle:(0,k.t)("categories.navbar.editing_effects.subtitle"),url:t.href,animation:"iconFan",images:[{src:"https://static.figma.com/uploads/9fed7cff708002c2773ec818595f3c9e6cdd86e6",className:u4},{src:"https://static.figma.com/uploads/d32402204d96164f250d67fea5576b7175b3b663",className:u4}]}),l.createElement(u7,{cardSize:u6.HALF,title:(0,k.t)("categories.widgets"),subtitle:(0,k.t)("categories.navbar.widgets.subtitle"),url:n.href,animation:"scaleOut",images:[{src:"https://static.figma.com/uploads/b1db3193a01e80c6c6875e569a65db5785d85903",style:{width:"64px"}}],backgroundDottedSmall:!0}))),l.createElement(_t,{links:[{route:i,textOverride:(0,k.t)("categories.more_plugins"),isBold:!0},{route:o},{route:s},{route:c}]}))}var _o=a(357611);function _l(){let e=new sP.IE({categorySlug:sO.LJ.presentations},{editor_type:_o.k.Editors.SLIDES}),[t,a]="staging"===(0,p.Ay)().cluster_name?[{route:new uB.ax({resourceId:"1380690018201193525",apiResourceType:uB.Uo.FILE}),text:(0,k.t)("categories.presentations.pitch_deck"),subText:(0,k.t)("categories.presentations.pitch_deck.description")},{route:new uB.ax({resourceId:"1380614040001429551",apiResourceType:uB.Uo.FILE}),text:(0,k.t)("categories.presentations.product_roadmap"),subText:(0,k.t)("categories.presentations.product_roadmap.description")},{route:new uB.ax({resourceId:"1380608789812079661",apiResourceType:uB.Uo.FILE}),text:(0,k.t)("categories.presentations.research_readout")},{route:new uB.ax({resourceId:"1380608691855352876",apiResourceType:uB.Uo.FILE}),text:(0,k.t)("categories.presentations.all_hands_meeting")},{route:new uB.ax({resourceId:"1380280625154305056",apiResourceType:uB.Uo.FILE}),text:(0,k.t)("categories.presentations.design_review")}]:"prod"===(0,p.Ay)().cluster_name?[{route:new uB.ax({resourceId:"1382483546106051977",apiResourceType:uB.Uo.FILE}),text:(0,k.t)("categories.presentations.pitch_deck"),subText:(0,k.t)("categories.presentations.pitch_deck.description")},{route:new uB.ax({resourceId:"1382445842871959915",apiResourceType:uB.Uo.FILE}),text:(0,k.t)("categories.presentations.product_roadmap"),subText:(0,k.t)("categories.presentations.product_roadmap.description")},{route:new uB.ax({resourceId:"1382481559228932486",apiResourceType:uB.Uo.FILE}),text:(0,k.t)("categories.presentations.research_readout")},{route:new uB.ax({resourceId:"1382859851486347871",apiResourceType:uB.Uo.FILE}),text:(0,k.t)("categories.presentations.all_hands_meeting")},{route:new uB.ax({resourceId:"1383475610293894214",apiResourceType:uB.Uo.FILE}),text:(0,k.t)("categories.presentations.design_review")}]:"local"===(0,p.Ay)().cluster_name?[{route:new sP.IE({categorySlug:sO.LJ.uiKits}),text:(0,k.t)("categories.presentations.pitch_deck"),subText:(0,k.t)("categories.presentations.pitch_deck.description")},{route:new sP.IE({categorySlug:sO.LJ.uiKits}),text:(0,k.t)("categories.presentations.product_roadmap"),subText:(0,k.t)("categories.presentations.product_roadmap.description")},{route:new sP.IE({categorySlug:sO.LJ.uiKits}),text:(0,k.t)("categories.ui_kits")},{route:new sP.IE({categorySlug:sO.LJ.uiKits}),text:(0,k.t)("categories.ui_kits")},{route:new sP.IE({categorySlug:sO.LJ.uiKits}),text:(0,k.t)("categories.ui_kits")}]:[];return l.createElement("div",{className:_a},l.createElement(u7,{cardSize:u6.FULL,title:t.text,subtitle:t.subText,url:t.route.href,animation:"accordian",images:[{src:"https://static.figma.com/uploads/b88b1be49cdff971481ddb424741db908d32e124"}],middleCardColor:"#FFFAD0"}),l.createElement(u7,{cardSize:u6.FULL,title:a.text,subtitle:a.subText,url:a.route.href,animation:"accordian",images:[{src:"https://static.figma.com/uploads/0386cedef8498e1adb43cd3d338558dba27e0961"}],middleCardColor:"#F5F0EC"}),l.createElement(u7,{cardSize:u6.FULL,title:(0,k.t)("categories.more_presentations"),subtitle:(0,k.t)("categories.more_presentations.subheader"),url:e.href,animation:"cardFan",images:[{src:"https://static.figma.com/uploads/c798a639e2b774985f1fcc4677d056b62e9d070d",className:u8,style:{borderRadius:"4px"}},{src:"https://static.figma.com/uploads/550755dd0003cb7431de9233c72a37f7569ecad9",className:u8,style:{borderRadius:"4px"}}]}))}function _s(){let{brainstormingRoute:e,diagrammingRoute:t,funGamesRoute:a,teamMeetingsRoute:r,whiteboardingRoute:n,strategicPlanningRoute:i}=(0,l.useMemo)(()=>({brainstormingRoute:new sP.IE({categorySlug:sO.LJ.brainstorming}),diagrammingRoute:new sP.IE({categorySlug:sO.LJ.diagramming}),funGamesRoute:new sP.IE({categorySlug:sO.LJ.funGames}),teamMeetingsRoute:new sP.IE({categorySlug:sO.LJ.teamMeetings}),whiteboardingRoute:new sP.IE({categorySlug:sO.LJ.whiteboarding}),strategicPlanningRoute:new sP.IE({categorySlug:sO.LJ.strategicPlanning})}),[]);return l.createElement("div",{className:_a},l.createElement(df.Ay,{mediaQuery:`(min-width: ${i0.U1R})`},l.createElement(u7,{cardSize:u6.FULL,title:(0,k.t)("categories.brainstorming"),subtitle:(0,k.t)("categories.navbar.brainstorming.subtitle"),url:e.href,animation:"cardFan",images:[{src:"https://static.figma.com/uploads/60a2ac68e6705460d12ac34906f51091a7873a9c",className:u8},{src:"https://static.figma.com/uploads/8c15440f329bf3dc8940ad1d2267c4a67e592964",className:u8}]})),l.createElement("div",{className:_r},l.createElement(u7,{cardSize:u6.HALF,title:(0,k.t)("categories.diagramming"),subtitle:(0,k.t)("categories.navbar.diagramming.subtitle"),url:t.href,animation:"slideUp",images:[{src:"https://static.figma.com/uploads/881b987a3b8af1a1ee08a8316f7688e1bf34376c",className:u3}],backgroundDottedSmall:!0}),l.createElement(u7,{cardSize:u6.HALF,title:(0,k.t)("categories.fun_games"),subtitle:(0,k.t)("categories.navbar.fun_games.subtitle"),url:a.href,animation:"slideUp",images:[{src:"https://static.figma.com/uploads/7b72cc0729e30a7918fceeb4b4b3a86b4a900e18",className:u3}],backgroundColor:"#FFE9F2"})),l.createElement(df.Ay,{mediaQuery:`(min-width: ${i0.U1R})`},l.createElement(u7,{cardSize:u6.FULL,title:(0,k.t)("categories.team_meetings"),subtitle:(0,k.t)("categories.navbar.team_meetings.subtitle"),url:r.href,animation:"cardFan",images:[{src:"https://static.figma.com/uploads/24ec653794817747706ab7225c4c200e599fc7f8",className:u8},{src:"https://static.figma.com/uploads/fcbfaf7de5395838863bf7d8dd3dc5805bb509d6",className:u8}]})),l.createElement(df.Ay,{mediaQuery:`(max-width: ${(0,ik.jz)(i0.U1R)-1}px)`},l.createElement("div",{className:_r},l.createElement(u7,{cardSize:u6.HALF,title:(0,k.t)("categories.brainstorming"),subtitle:(0,k.t)("categories.navbar.brainstorming.subtitle"),url:e.href,animation:"slideUp",images:[{src:"https://static.figma.com/uploads/8c15440f329bf3dc8940ad1d2267c4a67e592964",className:u3}]}),l.createElement(u7,{cardSize:u6.HALF,title:(0,k.t)("categories.team_meetings"),subtitle:(0,k.t)("categories.navbar.team_meetings.subtitle"),url:r.href,animation:"slideUp",images:[{src:"https://static.figma.com/uploads/fcbfaf7de5395838863bf7d8dd3dc5805bb509d6",className:u3}]}))),l.createElement(_t,{links:[{route:n,textOverride:(0,k.t)("categories.more_whiteboarding"),isBold:!0},{route:i}]}))}function _c(){return l.createElement("div",{"data-testid":"nav-category-selector",className:"nav_category_selector_2--categorySelector--b-k5b"},l.createElement(_d,{text:(0,k.t)("community.homepage.figma_section.header"),slug:"design_template"},l.createElement(_n,null)),l.createElement(_d,{text:(0,k.t)("categories.plugins"),slug:"plugins"},l.createElement(_i,null)),l.createElement(_d,{text:(0,k.t)("categories.whiteboarding"),slug:"whiteboarding"},l.createElement(_s,null)),l.createElement(_d,{text:(0,k.t)("categories.presentations"),slug:"presentations",showNewBadge:!0},l.createElement(_l,null)))}function _d({text:e,slug:t,children:a,showNewBadge:r}){let[n,i]=l.useState(!1),o=l.useRef(null);return(0,l.useLayoutEffect)(()=>{if(o.current){let e=o.current.getBoundingClientRect().width,t=`${Math.min(150,(document.documentElement.clientWidth-e)/2)}px`;o.current.style.left=t}}),l.createElement("div",{onMouseEnter:()=>{i(!0)},onMouseMove:()=>{n||i(!0)},onMouseLeave:()=>{i(!1)},role:"button",tabIndex:0,className:S.cx.flex.itemsCenter.$},l.createElement(eG.fu,{name:"Global Nav Category",properties:{slug:t}},l.createElement("div",{className:n?"nav_category_selector_2--navCategorySelectorTextHover--viMyk nav_category_selector_2--navCategorySelectorText--Tkc7a text--fontPos13--xW8hS text--_fontBase--QdLsd":"nav_category_selector_2--navCategorySelectorText--Tkc7a text--fontPos13--xW8hS text--_fontBase--QdLsd"},e,r&&l.createElement("div",{className:"nav_category_selector_2--newBadge--3isz- text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.t)("community.badge.new")),l.createElement(H.B,{svg:oI.A,style:{fill:(0,uz.TD)("default")}})),l.createElement("div",{className:D()("nav_category_selector_2--navDropdownWrapper--UbL1U",{"nav_category_selector_2--navDropdownWrapperHover--SJqCp":n}),onClick:e=>{e.stopPropagation(),i(!1)},ref:o},a)))}var _m=a(802536);let _u=(0,n0.eU)(!1);var __=a(582064);let _p=(0,n0.eU)({}),_f=(0,n0.eU)({idx:-1}),_g=(0,n0.eU)({}),_E=(0,n0.eU)({idx:-1});function _h(e){let t=e===sO.PF.LANDING?_g:_p,a=e===sO.PF.LANDING?_E:_f,[r,n]=(0,e_.fp)(t),[i,o]=(0,e_.fp)(a),s=l.useMemo(()=>["files","plugins","widgets","creators"].reduce((e,t)=>{let a=(r?.[t]??[]).map((e,a)=>({type:t,idx:a})).slice(0,4);return e.concat(a)},[]),[r]),c=l.useMemo(()=>s.findIndex(e=>e.type===i?.type&&e.idx===i?.idx),[s,i]);return{renderedOrder:s,renderedSelectedIdx:c,resources:r,setResources:n,selectedIdx:i,setSelectedIdx:o}}var _v=a(440248),_y=a(159696);function _b({query:e,inSearchPath:t,onChange:a,onSubmit:r,inputPlaceholder:n,context:i,className:o,searchIconClassName:c,closeIconClassName:d}){let m=(0,s.wA)(),u=(0,cE.J)(!0),_=(0,l.useRef)(null),{renderedOrder:p,renderedSelectedIdx:f,resources:g,setResources:E,selectedIdx:h,setSelectedIdx:v}=_h(i),y=(0,l.useCallback)(()=>{v({idx:-1})},[v]);return l.createElement("div",{className:o,tabIndex:0,onFocus:()=>{null!==_.current&&_.current.focus(),m(__.Dy({entryPoint:"community"}))}},l.createElement(H.B,{svg:_v.A,className:c}),l.createElement("input",{type:"text",value:e,spellCheck:!1,placeholder:n??(0,k.t)("community.search.search_community"),ref:_,onChange:e=>{let n=e.currentTarget.value;a(n),t&&n&&r(n)},onBlur:y,onKeyDown:n=>{let i=n.currentTarget.value.trim();if("Enter"===n.key){if(n.preventDefault(),f>=0&&h.type){let t=g[h.type]?.[h.idx],r="model"in t?new uM.xn({profileHandle:t.model.profile_handle}).href:(0,lX._t)({resource:t});(0,mT.VJ)(r),_.current?.blur(),a(""),E({}),m(__.ky()),(0,ei.sx)("search_result_clicked",{query:e,resourceType:p[f]?.type,scope:"community",is_preview:!0,index:f,entry_point:"community_via_enter",searchSessionId:u})}else r(i),t&&!i?m(__.ky()):!t&&i&&m(__.Je({entryPoint:"community"}))}else if("Escape"===n.key)_.current?.blur();else if(n.keyCode===R.Uz.DOWN_ARROW||n.keyCode===R.Uz.UP_ARROW){n.preventDefault();let e=f===p.length-1?f:f+1,t=f<=0?f:f-1;switch(n.keyCode){case R.Uz.DOWN_ARROW:v(p[e]||{idx:-1});break;case R.Uz.UP_ARROW:v(p[t]||{idx:-1})}}},required:!0}),e&&e.length>0&&l.createElement(H.B,{svg:_y.A,className:d,onClick:()=>{a(""),t&&r(""),m(__.ky())}}))}var _w=a(408552),_T=a(792199),_I=a(709495),_C=a(367935),_x=a(56714);let _N="search_dropdown--meta--a-aV4",_S="search_dropdown--pluginOrWidgetTilePreview--Rfef1",_k="search_dropdown--section--VJbkB",_L="search_dropdown--sectionTitle--x7FyO",_A="search_dropdown--title--eiIIy",_R="search_dropdown--authorRow--Uk00Y",_F="search_dropdown--authorRowText--vsAii",_O="search_dropdown--authorRowAvatar--jFZyx",_P="search_dropdown--resourceRowExtension--v4dY8 search_dropdown--resourceRow--P-Lig",_D="search_dropdown--hover--stEGe";function _M({profiles:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){return e&&0!==e.length?l.createElement("div",{className:_k},l.createElement("div",{className:_L},(0,k.tx)("community.view_bar.creators")),l.createElement(_B,{profiles:e.map(e=>e.model),onResourceClick:t,onResourceHover:a,selectedIdx:r})):null}function _B({profiles:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){return l.createElement("div",{className:"search_dropdown--resourceRowProfiles--bz2ck"},e.map((e,n)=>l.createElement("div",{onMouseEnter:()=>a(n),key:e.id,className:D()({[_D]:r===n})},l.createElement(_U,{profile:e,onResourceClick:t}))))}function _U({profile:e,onResourceClick:t}){return l.createElement("div",{className:"search_dropdown--profile--HRd2s",key:e.id},l.createElement(lZ.N_,{to:new uM.xn({profileHandle:e.profile_handle}).to,className:"search_dropdown--resourceRowProfile--HScpw",onClick:()=>{document.activeElement.blur(),t()}},l.createElement(lk.e,{adtlClassName:"search_dropdown--profileRowAvatar--TOSBT",entity:e,size:40}),l.createElement("div",{className:"search_dropdown--profileRowName--oRTAf ellipsis--ellipsis--Tjyfa text--fontPos12--YsUAh text--_fontBase--QdLsd"},e.name),l.createElement("div",{className:"search_dropdown--profileRowProfileHandle--DuEYR ellipsis--ellipsis--Tjyfa text--fontPos12--YsUAh text--_fontBase--QdLsd"},"@",e.profile_handle)))}function _V({resources:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){let n=(0,s.d4)(e=>e.authedActiveCommunityProfile);return e&&0!==e.length?l.createElement("div",{className:_k},l.createElement("div",{className:_L},(0,k.tx)("community.view_bar.widgets")),e.slice(0,4).map((e,i)=>{let o=(0,lX.qD)(e);return l.createElement("div",{onMouseEnter:()=>a(i),key:e.id,className:D()({[_D]:r===i})},l.createElement(mT.A6,{to:(0,lX._t)({resource:e}),className:_P,onClick:()=>{document.activeElement.blur(),t()}},l.createElement(mw.V,{plugin:o,className:_S,alt:o.name,onError:e=>e.target.src=lX.ZD}),l.createElement("div",{className:_N},l.createElement("div",{className:_A},o.name),l.createElement("div",{className:_R},e.community_publishers.accepted.map(e=>l.createElement(lk.e,{key:e.id,entity:e,size:16,adtlClassName:_O})),l.createElement("div",{className:_F},(0,sV.Lj)(e)))),(0,_w.$3)({resource:e,authedActiveCommunityProfile:n})))})):null}function _H({resources:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){let n=(0,s.d4)(e=>e.authedActiveCommunityProfile);return e&&0!==e.length?l.createElement("div",{className:_k},l.createElement("div",{className:_L},(0,k.tx)("community.view_bar.plugins")),e.slice(0,4).map((e,i)=>{let o=(0,lX.qD)(e);return l.createElement("div",{onMouseEnter:()=>a(i),key:e.id,className:D()({[_D]:r===i})},l.createElement(mT.A6,{to:(0,lX._t)({resource:e}),className:_P,onClick:()=>{document.activeElement.blur(),t()}},l.createElement("img",{src:o.redirect_icon_url,className:_S,alt:o.name,onError:e=>e.target.src=lX.ZD}),l.createElement("div",{className:_N},l.createElement("div",{className:_A},o.name),l.createElement("div",{className:_R},e.community_publishers.accepted.map(e=>l.createElement(lk.e,{key:e.id,entity:e,size:16,adtlClassName:_O})),l.createElement("div",{className:_F},(0,sV.Lj)(e)))),(0,_w.$3)({resource:e,authedActiveCommunityProfile:n})))})):null}function _W({resources:e,onResourceClick:t,onResourceHover:a,selectedIdx:r}){let n=(0,s.d4)(e=>e.authedActiveCommunityProfile);if(!e||0===e.length)return null;let i=(0,p.kc)().cmty_thumbnail_16x9_ar;return l.createElement("div",{className:_k},l.createElement("div",{className:_L},(0,k.tx)("community.view_bar.files")),e.slice(0,4).map((e,o)=>{let s=(0,lX.qD)(e);return l.createElement("div",{onMouseEnter:()=>a(o),key:e.id,className:D()({[_D]:r===o})},l.createElement(mT.A6,{to:(0,lX._t)({resource:e}),className:"search_dropdown--resourceRow--P-Lig",onClick:()=>{document.activeElement.blur(),t()}},l.createElement("img",{src:e.thumbnail_url,className:i?"search_dropdown--fileTilePreview16x9---1A4y":"search_dropdown--fileTilePreview--uCbva",alt:s.name,onError:e=>e.target.src=lX.ZD}),l.createElement("div",{className:_N},l.createElement("div",{className:_A},s.name),l.createElement("div",{className:_R},e.community_publishers.accepted.map(e=>l.createElement(lk.e,{key:e.id,entity:e,size:16,adtlClassName:_O})),l.createElement("div",{className:_F},(0,sV.Lj)(e)))),(0,_w.$3)({resource:e,authedActiveCommunityProfile:n})))}))}let _j=function(e,t){let a;return(...t)=>new Promise(r=>{clearTimeout(a),a=setTimeout(()=>{r(e.apply(e,t))},250)})}((e,t)=>t((0,_T.nC)().filter({query:e,sort_by:_I.e.Search.RELEVANCY}).searchResourcesAndProfiles({resourceType:"mixed",limit:(0,p.kc)().ext_plugin_skip_size_multiplier?12:8,isPreview:!0,profileLimit:3})),0);function _$(e){let{query:t,context:a,width:r,clearSearchInput:n}=e,{resources:i,setResources:o,selectedIdx:c,setSelectedIdx:d}=_h(a),m=(0,s.wA)(),u=(0,cE.J)(!0),_=l.useCallback(()=>{m(__.Pj({})),(0,ei.sx)("search_show_all_clicked",{query:t,scope:"community",entry_point:"community",searchSessionId:u})},[m,t,u]);l.useEffect(()=>{t&&_j(t,m).then(([e,r])=>{let n=e.data.meta.results.map(e=>e.model),i=n.filter(e=>(0,_C.zj)(e)),l=n.filter(e=>(0,_C.bT)(e)).map(_x.I$),s=n.filter(e=>(0,_C.AS)(e)).map(_x.I$);o({files:i,plugins:l,widgets:s,creators:r.data.meta.results.slice(0,3)}),d({idx:-1});let c=a===sO.PF.LANDING?"searchPreviewLanding":"searchPreview",m=l.filter(e=>void 0!==e.roles&&e.roles.is_public).length,_=s.filter(e=>void 0!==e.roles&&e.roles.is_public).length;(0,ei.sx)("search_query_result",{query:t,responseCounts:n.length,scope:"community",entry_point:"community",context:c,searchSessionId:u,files:i.length,private_plugins:l.length-m,private_widgets:s.length-_,public_plugins:m,public_widgets:_,projects:0,teams:0,users:r.data.meta.results.length})}).catch(()=>{})},[t,m,u,a,o,d]);let p=l.useCallback(e=>{(0,ei.sx)("search_result_clicked",{query:t,resourceType:e,scope:"community",is_preview:!0,entry_point:"community",searchSessionId:u}),n(),o({}),m(__.ky())},[t,m,u,o,n]),f=l.useCallback((e,t)=>{i[t]&&!((i[t]??[]).length<e)&&d({idx:e,type:t})},[i,d]);if(!t)return null;let g=i.files?.length||i.widgets?.length||i.plugins?.length||i.creators?.length,E=(0,n7.Mc)({...n7.qd,query:t});return l.createElement("div",{className:D()("search_dropdown--searchDropdown--HqMrn",{"search_dropdown--searchDropdownLanding--HJ002":a===sO.PF.LANDING,"search_dropdown--categoryNavDropdownResponsiveWidth--HzoIl":"small-responsive"===r}),style:"small-responsive"!==r?{width:`${r}px`}:void 0},l.createElement(_W,{resources:i.files,onResourceClick:()=>p("files"),onResourceHover:e=>f(e,"files"),selectedIdx:c?.type==="files"?c?.idx:null}),l.createElement(_H,{resources:i.plugins,onResourceClick:()=>p("plugins"),onResourceHover:e=>f(e,"plugins"),selectedIdx:c?.type==="plugins"?c?.idx:null}),l.createElement(_V,{resources:i.widgets,onResourceClick:()=>p("widgets"),onResourceHover:e=>f(e,"widgets"),selectedIdx:c?.type==="widgets"?c?.idx:null}),l.createElement(_M,{profiles:i.creators,onResourceClick:()=>p("profiles"),onResourceHover:e=>f(e,"creators"),selectedIdx:c?.type==="creators"?c?.idx:null}),g?l.createElement("div",{className:"search_dropdown--searchAllLink--VCaxM text--fontPos12--YsUAh text--_fontBase--QdLsd"},l.createElement(mT.A6,{to:E,onClick:_},(0,k.tx)("community.search.show_all_search_results"))):null)}var _G=a(639685);function _Y({query:e,inSearchPath:t,onChange:a,onSubmit:r,inputPlaceholder:n}){let i=l.useRef(null),o=(0,s.wA)(),[c,d]=l.useState(!1);return l.createElement("div",{className:"search_input_mobile--mobileSearchContainer--VsAJK text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement("button",{className:"search_input_mobile--searchIconButton--jvchC",onClick:()=>{c?o(__.ky()):(i.current?.focus(),o(__.Dy({entryPoint:"community"}))),d(!c)}},l.createElement(H.B,{className:"search_input_mobile--searchIcon--ExTte",svg:_G.A})),l.createElement("div",{className:"search_input_mobile--searchInput--bt9OT"},l.createElement("input",{type:"text",value:e,spellCheck:!1,ref:i,placeholder:n??(0,k.t)("community.search.search_community"),onChange:e=>{let n=e.currentTarget.value;a(n),t&&n&&r(n)},onKeyDown:e=>{let a=e.currentTarget.value.trim();"Enter"===e.key?(e.preventDefault(),r(a),i.current?.blur(),t&&!a?o(__.ky()):!t&&a&&o(__.Je({entryPoint:"community"}))):"Escape"===e.key&&i.current?.blur()},required:!0}),l.createElement("button",{className:"search_input_mobile--clearInputButton--cjPyc",onClick:e=>{a(""),e.preventDefault()}},"\xd7")))}function _z({onSubmit:e,pathname:t,isMobile:a}){let r=(0,n7.zX)(t)===n7.hX.SEARCH,[n,i]=l.useState(""),o=(0,e_.md)(_u);l.useEffect(()=>{let e=(0,n7.wl)();e&&(0,sO.OE)(e)&&e.query&&i(e.query)},[]);let s=(0,o4.A)(e,a?600:400),c=l.useCallback(()=>{i("")},[]);if(!function(e,t){let a=(0,_.ZC)(e);l.useEffect(()=>{e!==n7.hX.SEARCH&&a!==e&&t()},[e,t,a])}(t,c),o&&!n)return null;if(a)return l.createElement(_Y,{onChange:i,onSubmit:s,query:n,inSearchPath:r,inputPlaceholder:(0,k.t)("community.search.placeholder")});{let e=n&&!r&&window.innerWidth>800?l.createElement(_$,{query:n,clearSearchInput:c,context:sO.PF.NAV,width:(0,ik.jz)(i0.h63)}):null;return l.createElement(_m.ms,{preview:e,className:"dropdown_search_input--dropdown--fBh7I dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",disableRepositioning:!0},l.createElement(_b,{onChange:i,onSubmit:s,query:n,inSearchPath:r,inputPlaceholder:(0,k.t)("community.search.placeholder"),context:sO.PF.NAV,className:"dropdown_search_input--searchInput--ALtDK text--fontPos13--xW8hS text--_fontBase--QdLsd",searchIconClassName:"dropdown_search_input--searchIcon--edfC0",closeIconClassName:"dropdown_search_input--closeIcon--Zfoh0"}))}}function _Q(){let e=(0,n7.UH)(),t=!!(e&&(0,sO.OE)(e));return{onSubmit:a=>{a.length?m.Ay.push(function({query:e,view:t,inSearchPath:a}){let r={...n7.qd,editor_type:t?.editor_type||n7.qd.editor_type,resourceType:t?.resourceType||n7.qd.resourceType,price:t?.price||n7.qd.price,query:e};return a&&(r.sort_by=t?.sort_by||n7.qd.sort_by),(0,n7.Mc)(r)}({query:a,view:e,inSearchPath:t})):t&&m.Ay.push("/community")},inSearchPath:t}}function _K(e){let{pathname:t}=(0,lV.zy)(),{onSubmit:a}=_Q(),r=e.isMobile??E.Ay.mobile;return l.createElement(_z,{isMobile:r,onSubmit:a,pathname:t})}var _q=a(878711);function _Z({parentBackgroundColor:e}){let t=l.useRef(window.history.length-1),[a,r]=l.useState(t.current);return l.useEffect(()=>m.Ay.listen(e=>{"PUSH"===e&&r(e=>e+1)}),[]),l.createElement(_q.f,{onLeftClick:()=>{m.Ay.back(),r(e=>e-1)},onRightClick:()=>{m.Ay.forward(),r(e=>e+1)},isLeftEnabled:a>t.current,isRightEnabled:a<window.history.length-1,parentBackgroundColor:e})}var _X=a(63397),_J=a(950142);function _0(){let e=(0,s.wA)(),t=(0,iv.kc)();return t?.primary_user_id?l.createElement(l.Fragment,null):l.createElement("div",{className:"admin_profile_banner--root--HDfDA"},l.createElement("span",{className:"admin_profile_banner--text--cpDIW text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L"},t?.org_id?(0,k.tx)("community.banner.browsing_community_as_the_current_profile_name_organization",{profileName:t?.name}):(0,k.tx)("community.banner.browsing_community_as_the_current_profile_name_team",{profileName:t?.name})),l.createElement("div",{className:"admin_profile_banner--closeIconContainer--bm5wf",onClick:()=>{e((0,_X.rO)())}},l.createElement(H.B,{svg:_J.A,className:"admin_profile_banner--close--ib2wO"})))}var _1=a(679282);function _2(){return l.createElement("div",{className:S.cx.flex.flexShrink0.alignCenter.alignCenter.gap16.$},l.createElement(eG.$z,{className:"auth_buttons--logInButton--ln482 shared--_button--qcVz- text--fontPos11--2LvXf text--_fontBase--QdLsd",trackingProperties:{trackingDescriptor:ep.c.LOGGED_OUT_NAV_LOGIN},onClick:()=>(0,cg.FL)(cf.qB.SIGN_IN,{preventDefaultRedirect:!0}),type:"button"},(0,k.t)("community.signed_out_modal.log_in")),l.createElement(eG.$z,{className:"auth_buttons--signUpButton--lM9GB shared--_button--qcVz- text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>(0,cg.FL)(cf.qB.SIGN_UP,{preventDefaultRedirect:!0}),trackingProperties:{trackingDescriptor:ep.c.LOGGED_OUT_NAV_SIGN_UP},type:"button"},(0,k.t)("community.signed_out_modal.sign_up")))}function _4(){return l.createElement("svg",{className:"svg",width:"38",height:"57",viewBox:"0 0 38 57",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M19 28.5c0-5.247 4.253-9.5 9.5-9.5 5.247 0 9.5 4.253 9.5 9.5 0 5.247-4.253 9.5-9.5 9.5-5.247 0-9.5-4.253-9.5-9.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#1abcfe",stroke:"none"}),l.createElement("path",{d:"M0 47.5C0 42.253 4.253 38 9.5 38H19v9.5c0 5.247-4.253 9.5-9.5 9.5C4.253 57 0 52.747 0 47.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#0acf83",stroke:"none"}),l.createElement("path",{d:"M19 0v19h9.5c5.247 0 9.5-4.253 9.5-9.5C38 4.253 33.747 0 28.5 0H19z",fillRule:"nonzero",fillOpacity:"1",fill:"#ff7262",stroke:"none"}),l.createElement("path",{d:"M0 9.5C0 14.747 4.253 19 9.5 19H19V0H9.5C4.253 0 0 4.253 0 9.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#f24e1e",stroke:"none"}),l.createElement("path",{d:"M0 28.5C0 33.747 4.253 38 9.5 38H19V19H9.5C4.253 19 0 23.253 0 28.5z",fillRule:"nonzero",fillOpacity:"1",fill:"#a259ff",stroke:"none"}))}function _8({showCommunityText:e}){return l.createElement("div",{className:D()("homepage_link--homepageLinkContainer---EZRJ",{"homepage_link--rightBorder--hQMW-":!e})},l.createElement(eG.o3,{trackingEventName:"community_nav_click_communitiy_heading",to:"/community",className:S.cx.font14.fontSemiBold.lh24.flex.flexNowrap.$},l.createElement("div",{className:"homepage_link--logoLinkWrapper---5vec"},l.createElement(_4,null)),e&&(0,k.t)("community.community")))}let _3=a(754915).i,_5=a(765612).Xg;function _9({}){let e=(0,dn.M)(),t=!!d.eD||(0,c.ce)(),a=(0,sS.N)(`(max-width: ${i0._C6})`),r=(0,e_.md)(cg.U8).mounted,n=(0,ik.jz)(i0.qvA)+(t?(0,ik.jz)(i0.ngI):0),i=(0,sS.N)(`(max-width: ${n}px)`),o=(0,sS.N)(`(max-width: ${i0.g8m})`),u=l.useRef(null),_=(0,sO.OE)((0,n7.wl)(location.pathname)),p=!1,f=l.useCallback(e=>{},[]),g=null;return _=(0,s.d4)(e=>e?.selectedView?.view==="search"),p=(0,s.d4)(e=>e.communityHub.showingCommunityAdminBanner),f=(0,e_.fp)(uV.A)[1],g=(0,iv.kc)(),l.useLayoutEffect(()=>{f(u.current?.getBoundingClientRect())},[f]),l.createElement(l.Fragment,null,l.createElement("div",{className:"navbar--navbarContainer--4keOh",id:"cmty-consolidated-navbar","data-redesigned-navbar":!0},r&&l.createElement(_1.P,{origin:uU.DT.COMMUNITY,iFrameHandler:e=>{(0,cg.I9)({name:cf.mK,options:{redirectUrl:m.Ay.location.pathname+m.Ay.location.search}}),(0,cg.I9)({name:uU.aL,userInfo:e,redirectUrl:m.Ay.location.pathname,origin:uU.DT.COMMUNITY})}}),l.createElement("div",{className:"navbar--leftNav--ndjh7"},e&&l.createElement("div",{className:"navbar--accountAndNotificationsContainer--P-BiH"},l.createElement(_5,{hideNotifications:a})),t&&l.createElement("div",{className:"navbar--navigationChevronsContainer--RLmsc"},l.createElement(_Z,null)),l.createElement(_8,{showCommunityText:!1}),o?l.createElement(u0,{showNewIcon:!0}):l.createElement("div",{className:"navbar--navCategoriesContainer--PN1Ov"},l.createElement(_c,null))),l.createElement("div",{className:"navbar--rightNav--Shg9M"},l.createElement("div",{className:"navbar--searchInputContainer--wsxXk"},l.createElement(_K,{isMobile:i})),e?l.createElement(l.Fragment,null,g&&!a&&l.createElement(_3,null)):l.createElement(_2,null))),p&&!_&&l.createElement(_0,null))}var _6=a(566083),_7=a(580857),pe=a(971120);let pt="feed_controls--feedFilterDropdown--0rv-X dropdown--selectDropdown--Lqj6J dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd";function pa({onUpdate:e,value:t,isSearch:a}){return l.createElement(_m.A5,{name:(0,k.t)("community.landing_page.dropdown_filter__creators"),onUpdate:([t])=>{e(t)},options:[function(e){let t=!e&&(0,dn.M)();return[{key:_7.Z.ALL,label:(0,k.t)("community.view_bar.all_creators")},t?{key:_7.Z.FOLLOWING,label:(0,k.t)("community.view_bar.following")}:null,{key:_7.Z.FIGMA_PARTNER,label:(0,k.t)("community.view_bar.figma_partners_only")}].filter(Boolean)}(!!a)],initialValues:[t],adtlClassName:pt})}var pr=a(251960);function pn({onUpdate:e,editorType:t,resourceType:a,allowedEditorTypes:r}){let n,i,o,s,c;return r&&1===r.length?null:l.createElement(_m.A5,{name:(0,k.t)("community.landing_page.dropdown_filter__editor"),onUpdate:([t])=>{e(t)},initialValues:[t],adtlClassName:pt,dataOnboardingKey:"community_feed_product_filter",onClick:()=>{(0,ei.sx)("editor_type_filter_clicked")},options:[(n=!0,i=!0,o=a===pe.L.BrowseResourceTypes.MIXED||a===pe.L.BrowseResourceTypes.FILES,s=!1,c=!1,(0,lJ.Oh)()?r&&r.length>0&&(n=r.includes(_o.k.Editors.FIGMA),i=r.includes(_o.k.Editors.FIGJAM),o=r.includes(_o.k.Editors.SLIDES)&&o):(s=a===pe.L.BrowseResourceTypes.MIXED||a===pe.L.BrowseResourceTypes.PLUGINS,c=a===pe.L.BrowseResourceTypes.FILES),[{key:_o.k.Editors.ALL,label:(0,k.t)("community.landing_page.sort.all_products")},n?{key:_o.k.Editors.FIGMA,label:(0,k.t)("general.figma_design")}:null,s?{key:_o.k.Editors.DEV_MODE,label:(0,k.t)("community.view_bar.dev_mode")}:null,c?{key:_o.k.Editors.PROTOTYPE,label:(0,k.t)("community.view_bar.figma_prototype")}:null,i?{key:_o.k.Editors.FIGJAM,label:(0,k.t)("community.view_bar.fig_jam")}:null,o?{key:_o.k.Editors.SLIDES,label:(0,k.t)("community.view_bar.slides")}:null].filter(Boolean))]})}function pi({onUpdate:e,value:t}){return l.createElement(_m.A5,{name:(0,k.t)("community.landing_page.dropdown_filter__paid"),onUpdate:([t])=>{e(t)},adtlClassName:pt,initialValues:[t],options:[[{key:_6.C.ALL,label:(0,k.t)("community.landing_page.sort.paid_and_free")},{key:_6.C.PAID,label:(0,k.t)("community.landing_page.sort.paid")},{key:_6.C.FREE,label:(0,k.t)("community.landing_page.sort.free")}]]})}function po({onUpdate:e,resourceType:t,isSearch:a,editorType:r}){return l.createElement(_m.A5,{name:(0,k.t)("community.landing_page.dropdown_filter__resource_type"),onUpdate:([t])=>{e(t)},initialValues:[t],adtlClassName:pt,options:[function(e,t){if(!e&&t===_o.k.Editors.DEV_MODE)return[{key:pe.L.BrowseResourceTypes.PLUGINS,label:(0,k.t)("community.view_bar.plugins")}];if(!e&&t===_o.k.Editors.PROTOTYPE||!e&&t===_o.k.Editors.SLIDES)return[{key:pe.L.BrowseResourceTypes.FILES,label:(0,k.t)("community.view_bar.files")}];let a=[{key:pe.L.BrowseResourceTypes.MIXED,label:(0,k.t)("community.view_bar.all_resources")},{key:pe.L.BrowseResourceTypes.FILES,label:(0,k.t)("community.view_bar.files")},{key:pe.L.BrowseResourceTypes.PLUGINS,label:(0,k.t)("community.view_bar.plugins")},{key:pe.L.BrowseResourceTypes.WIDGETS,label:(0,k.t)("community.view_bar.widgets")}];return e&&a.push({key:"profiles",label:(0,k.t)("community.view_bar.creators")}),a}(a,r)]})}function pl({onUpdate:e,value:t,isSearch:a,price:r}){return l.createElement(_m.A5,{name:(0,k.t)("community.curated_page.sort"),onUpdate:([t])=>e(t),initialValues:[t],options:[function(e,t){let a=[{key:_I.e.Shared.POPULAR,label:(0,k.t)("community.landing_page.sort.trending")},{key:_I.e.Shared.ALL_TIME,label:(0,k.t)("community.curated_page.popular")},{key:_I.e.Shared.PUBLISHED_AT,label:(0,k.t)("community.landing_page.sort.recent")}];return e&&(a.unshift({key:_I.e.Search.RELEVANCY,label:(0,k.t)("community.landing_page.sort.relevancy")}),t!==_6.C.FREE&&a.push({key:_I.e.Search.PRICE_DESC,label:(0,k.t)("community.landing_page.sort.price_high_to_low")},{key:_I.e.Search.PRICE_ASC,label:(0,k.t)("community.landing_page.sort.price_low_to_high")})),a}(a,r)]})}function ps({filterState:e,onUpdate:t,containerRef:a,context:r,allowedEditorTypes:n}){let{resourceType:i,editorType:o=_o.k.Editors.ALL,price:s,sortBy:c,creators:d=_7.Z.ALL}=e,m=(0,sS.N)(`(max-width: ${i0._C6})`);return l.createElement("div",{className:"feed_controls--feedFilterControls--eiYSY","data-resource-type":i,ref:a,"data-feed-filter-context":r},l.createElement("div",{className:"feed_controls--leftSideControls--Xr-DO"},"category"===r&&l.createElement("div",{className:S.cx.flex.itemsCenter.font13.fontMedium.$},(0,k.tx)("categories.filter_by")),l.createElement(df.Ay,{mediaQuery:`(min-width: ${i0.glm})`},"profiles"!==i&&l.createElement(pn,{onUpdate:e=>{let a=[{key:"editorType",value:e}];(0,lJ.Oh)()||"search"===r||(e===_o.k.Editors.DEV_MODE?a.push({key:"resourceType",value:pe.L.BrowseResourceTypes.PLUGINS}):(e===_o.k.Editors.SLIDES||e===_o.k.Editors.PROTOTYPE)&&a.push({key:"resourceType",value:pe.L.BrowseResourceTypes.FILES})),"search"!==r&&e===_o.k.Editors.SLIDES&&a.push({key:"resourceType",value:pe.L.BrowseResourceTypes.FILES}),t(a),(0,ei.sx)("editor_type_filter_changed",{editor_type:e,from:o})},editorType:o,resourceType:i,allowedEditorTypes:(0,lJ.Oh)()?n:void 0})),("explore"===r||"redesigned-homepage"===r||"category"===r||m)&&(o!==_o.k.Editors.SLIDES?l.createElement(po,{onUpdate:e=>{let a=[{key:"resourceType",value:e}];o===_o.k.Editors.PROTOTYPE&&e!==pe.L.BrowseResourceTypes.FILES&&a.push({key:"editorType",value:_o.k.Editors.ALL}),t(a),(0,ei.sx)("resource_type_filter_changed",{resource_type:e,from:i})},resourceType:i,isSearch:"search"===r,editorType:o}):o===_o.k.Editors.SLIDES&&i!==pe.L.BrowseResourceTypes.FILES?(t([{key:"resourceType",value:pe.L.BrowseResourceTypes.FILES}]),null):void 0),l.createElement(pi,{onUpdate:e=>{let a=[{key:"price",value:e}];e===_6.C.FREE&&(c===_I.e.Search.PRICE_ASC||c===_I.e.Search.PRICE_DESC)&&a.push({key:"sortBy",value:_I.e.Shared.POPULAR}),t(a),(0,ei.sx)("price_filter_changed",{price:e,from:s})},value:s}),"category"!==r&&l.createElement(df.Ay,{mediaQuery:`(min-width: ${i0.ltq})`},l.createElement(pa,{onUpdate:e=>{t([{key:"creators",value:e}]),(0,ei.sx)("creators_filter_changed",{creators:e,from:d})},value:d,isSearch:"search"===r}))),"category"!==r&&"profiles"!==i&&l.createElement(pl,{onUpdate:e=>{t([{key:"sortBy",value:e}]),(0,ei.sx)("ranking_type_filter_changed",{ranking_type:e})},value:c,isSearch:"search"===r,price:s}))}a(218997),a(15839);var pc=a(976999);function pd(){return l.createElement("div",{className:"resource_loading_row--loadingRow--o1YwH","data-testid":"resource-loading-row"},l.createElement(pc.Qp,{className:"resource_loading_row--loadingRowImage--KGDsz",animationType:pc.JR.NO_SHIMMER}),l.createElement("div",{className:"resource_loading_row--loadingRowMeta--T19Be"},l.createElement(pc.Wi,{className:"resource_loading_row--loadingTitleText--qN-3G",animationType:pc.JR.NO_SHIMMER}),l.createElement(pc.Wi,{className:"resource_loading_row--loadingSubTitleText--26zTk",animationType:pc.JR.NO_SHIMMER})))}function pm({plugins:e,onIntersectionChange:t,isOrgTeamBrowsing:a,isLoading:r,loadingRowCount:n=10}){return l.createElement("div",{className:S.cx.wFull.$,"data-testid":"plugin-list"},r?(0,lb.range)(n).map(e=>l.createElement(pd,{key:e})):e.map((e,r)=>l.createElement(l4.mb,{key:`plugin-row-${e.id}`,resource:e,onIntersectionChange:a=>t(e,a.isIntersecting),isOrgTeamBrowsing:a,index:r})))}function pu(){return l.createElement("div",{className:S.cx.flex.flexColumn.gap12.$,"data-testid":"resource-loading-tile"},l.createElement("div",{className:"resource_loading_tile--loadingImageWrapper--J9BDB"},l.createElement(pc.Qp,{className:"resource_loading_tile--loadingImage--yFmKa",animationType:pc.JR.NO_SHIMMER})),l.createElement("div",{className:S.cx.flex.flexColumn.gap4.$},l.createElement(pc.Wi,{className:"resource_loading_tile--loadingTitleText--osfVq",animationType:pc.JR.NO_SHIMMER}),l.createElement(pc.Wi,{className:"resource_loading_tile--loadingSubTitleText--B4vzW",animationType:pc.JR.NO_SHIMMER})))}let p_="resource_tile_group--resourceTileGroup--gpDUh",pp="resource_tile_group--resourceTileGroupCarousel--Cy8Oc",pf="resource_tile_group--carouselCardWrapper--xwpG5";function pg({showCarousel:e,loadingTileCount:t}){return l.createElement(l.Fragment,null,(0,lb.range)(t).map(t=>l.createElement("div",{key:t,className:D()({[pf]:e},S.cx.p1.$)},l.createElement(pu,{key:t}))))}function pE({resources:e,showCarousel:t,onIntersectionChange:a}){return l.createElement(l.Fragment,null,e.map((e,r)=>l.createElement("div",{key:e.id,className:D()({[pf]:t},S.cx.p1.$)},l.createElement(l4.fz,{resource:e,index:r,onIntersectionChange:t=>a(e,t.isIntersecting),subView:"communityHomepage"}))))}function ph({resources:e,maxGridDim:t,mobileMaxGridDim:a={rows:1},onIntersectionChange:r,mobileBreakpoint:n=i0.ikM,xScrollLocked:i=!0,isLoading:o,loadingTileCount:s=6}){let c=(0,sS.N)(`(max-width: ${n})`),{rows:d,cols:m}=c&&a?a:t,u=o?s:e.length;if(!u)return null;m&&!d?d=Math.floor(u/m):d&&!m&&(m=Math.floor(u/d));let _=(m=m||1)*(d=d||1);u<_&&(d=Math.ceil(u/m),_=m*d);let p=e.slice(0,_),f=!!(c&&m&&m>1);if(i)return l.createElement("div",{className:D()(p_,{[pp]:f}),style:{gridTemplateColumns:`repeat(${m}, 1fr)`,gridTemplateRows:`repeat(${d}, 1fr)`},"data-testid":"resource-tile-group"},o?l.createElement(pg,{showCarousel:f,loadingTileCount:_}):l.createElement(pE,{resources:p,showCarousel:f,onIntersectionChange:r}));let g=p.reduce((e,t,a)=>(Math.floor(a/m)>e.length-1&&e.push([]),e[e.length-1].push(t),e),[]);return l.createElement("div",{className:"resource_tile_group--nestedResourceTileGroup--PFO-3"},(0,lb.range)(d).map(e=>l.createElement("div",{key:e,className:D()(p_,{[pp]:f}),style:{gridTemplateColumns:`repeat(${m}, 1fr)`,gridTemplateRows:"1"},"data-testid":"resource-tile-group"},o?l.createElement(pg,{showCarousel:f,loadingTileCount:m}):l.createElement(pE,{resources:g[e],showCarousel:f,onIntersectionChange:r}))))}var pv=a(897088);function py({editorType:e,resourceType:t,price:a,sortBy:r,limit:n,creators:i,category:o,tags:s},c=!0){let[d,m]=l.useState([]),[u,_]=l.useState(!1),[p,f]=l.useState(null),[g,E]=l.useState(),h=l.useRef((0,_T.nC)()),v=(0,l.useCallback)(async()=>{if(g?.next_page){_(!0),f(null);try{let e=await (0,ts.GD)(g.next_page);m(t=>[...t,...e.data.meta.resources]),E(e.data.pagination)}catch(e){console.error("Error fetching popular resources",e),f(e)}finally{_(!1)}}},[g]);return l.useEffect(()=>{let l=async()=>{_(!0),f(null);try{var l;let c=await h.current.filter({editor_type:(l={editorType:e,resourceType:t,price:a,sortBy:r,limit:n,creators:i,category:o,tags:s}).editorType,price:l.price,creators:l.creators,sort_by:l.sortBy,category:l.category,tags:l.tags}).browse(t,n??pv.b);m(c.data.meta.resources),E(c.data.pagination)}catch(e){console.error("Error fetching popular resources",e),f(e)}finally{_(!1)}};c&&l()},[t,e,a,r,n,i,o,c,s]),{resources:d,loading:u,error:p,loadMore:v,canLoadMore:h.current.isMoreToFetch(g)&&d.length>0}}let pb=()=>({sortBy:(0,_I.H)(),editorType:_o.k.Editors.ALL,price:_6.C.ALL,resourceType:pe.L.BrowseResourceTypes.MIXED});function pw({onIntersectionChange:e}){let t=(0,sS.N)(`(max-width: ${i0.ikM})`),a=(0,sS.N)(`(max-width: ${i0.g8m})`),[r,n]=(0,l.useState)(!0),[i,o]=(0,l.useState)(pb());(0,l.useEffect)(()=>{t&&o(pb())},[t]);let{resources:c,loadMore:d,canLoadMore:m,loading:u}=py(i),_=(0,l.useRef)(null),p=(0,s.d4)(e=>!!(e.authedActiveCommunityProfile?.team_id||e.authedActiveCommunityProfile?.org_id));(0,l.useEffect)(()=>{r&&!u&&n(!1)},[r,u]);let f=i.resourceType===pe.L.BrowseResourceTypes.PLUGINS&&c.every(e=>"is_widget"in e&&!e.is_widget);return l.createElement("div",{className:"all_resources--allResources--vIYK6"},!t&&l.createElement(ps,{containerRef:_,filterState:i,onUpdate:e=>{let t={};e.forEach(({key:e,value:a})=>{t[e]=a}),o(e=>({...e,...t}))},context:"redesigned-homepage"}),f?l.createElement(pm,{plugins:c,onIntersectionChange:e,isOrgTeamBrowsing:p,isLoading:r}):l.createElement(ph,{resources:c,maxGridDim:a?{cols:2}:{cols:3},mobileMaxGridDim:{cols:1},onIntersectionChange:e,isLoading:r}),m&&!t&&l.createElement(sW,{onClick:e=>{e.preventDefault(),d()},isLoading:u,isMoreToFetch:m}))}var pT=a(134288),pI=a(646240);function pC({isRedesignedHomepage:e}){let t=(0,sS.N)(`(max-width: ${i0.Ero})`),a=(0,sS.N)(`(max-width: ${i0.ikM})`),{onSubmit:r,inSearchPath:n}=_Q(),[i,o]=l.useState(""),s=(0,o4.A)(r,400),c=l.useCallback(()=>{o("")},[]),d=!i||n||(e?a:t)?null:l.createElement("div",{className:e?"homepage_dropdown_search_input--redesignedHomepageDropdownContentsPositionWrapper--qJcZD":void 0},l.createElement(_$,{query:i,clearSearchInput:c,context:sO.PF.LANDING,width:(0,ik.jz)(i0.eZi)}));return l.createElement("div",{className:e?"homepage_dropdown_search_input--redesignedHomepageSearchContainer--x42a- text--fontPos13--xW8hS text--_fontBase--QdLsd":"homepage_dropdown_search_input--homepageDropdownSearchContainer--OEViU"},l.createElement(_m.ms,{preview:d,className:e?"homepage_dropdown_search_input--redesignedHomepageDropdown--AsdzI dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd":"homepage_dropdown_search_input--dropdown--qY5GH dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",disableRepositioning:!0},l.createElement(_b,{onChange:o,onSubmit:s,query:i,inSearchPath:n,inputPlaceholder:e?(0,k.t)("community.search.placeholder.search_for_a_resource"):(0,k.t)("community.search.search_everything_in_community"),context:sO.PF.LANDING,className:e?"homepage_dropdown_search_input--redesignedSearchInput--CoAYJ text--fontPos11--2LvXf text--_fontBase--QdLsd":"homepage_dropdown_search_input--searchInput--8x2Cp text--fontPos13--xW8hS text--_fontBase--QdLsd",searchIconClassName:e?"homepage_dropdown_search_input--redesignedHomepageSearchIcon--RcD8I":"homepage_dropdown_search_input--searchIcon--55Xdx",closeIconClassName:e?"homepage_dropdown_search_input--redesignedHomepageCloseIcon--8bE70":"homepage_dropdown_search_input--closeIcon--iurnp"})))}let px="hero--pluginImg--OXkw4",pN="hero--header--PlMZA text--fontPos24--YppUD text--_fontBase--QdLsd",pS="hero--themedIcon--EfFFN";var pk=a(165690),pL=a(505045),pA=a(288495),pR=a(360957),pF=a(945111),pO=a(261595),pP=a(353917),pD=a(763939),pM=a(962888),pB=a(746510),pU=a(181865),pV=a(156564),pH=a(18412),pW=a(69969),pj=a(793445);let p$={colorIllustration:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-431.2,y:48,rotate:0},hover:{opacity:1,scale:1.15,x:-448.8,y:48,rotate:0}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:l.createElement(H.B,{className:"hero--colorIllustrations--SS5zw",svg:pR.A})},colorsIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-374,y:-8,rotate:0},hover:{opacity:1,scale:1.15,x:-391.6,y:-8,rotate:0}},transition:{delay:0,type:"spring",bounce:.4,duration:.25},element:l.createElement(H.B,{className:pS,svg:pF.A,style:{fill:(0,uz.TD)("default")}})},variableIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-440,y:-16,rotate:0},hover:{opacity:1,scale:1.15,x:-457.6,y:-16,rotate:0}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:l.createElement(H.B,{className:pS,svg:pj.A,style:{fill:(0,uz.TD)("default")}})},designLibraryIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:169.4,y:-16,rotate:0},hover:{opacity:1,scale:1.15,x:187,y:-16,rotate:0}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:l.createElement(H.B,{className:pS,svg:pB.A,style:{fill:(0,uz.TD)("default")}})},typeIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:105.6,y:-8,rotate:0},hover:{opacity:1,scale:1.15,x:123.2,y:-8,rotate:0}},transition:{delay:0,type:"spring",bounce:.4,duration:.25},element:l.createElement(H.B,{className:pS,svg:pW.A,style:{fill:(0,uz.TD)("default")}})},componentIllustration:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:123.2,y:48,rotate:0},hover:{opacity:1,scale:1.15,x:140.8,y:48,rotate:0}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:l.createElement(H.B,{svg:pO.A,useOriginalSrcFills_DEPRECATED:!0,className:"hero--colorSwatches--Vz0OG"})}},pG={pluginIconTopLeft:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-96.8,y:-24,rotate:16},hover:{opacity:1,scale:1.1,x:-114.4,y:-40,rotate:16}},transition:{delay:0,type:"spring",bounce:.4,duration:.25},element:l.createElement("img",{alt:"PluginIcon",className:px,src:"https://static.figma.com/uploads/ebe89d33f7040c60d83a01887800a522babf7de7"})},pluginIconMiddleLeft:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-171.6,y:-16,rotate:-16},hover:{opacity:1,scale:1.1,x:-180.4,y:-32,rotate:-16}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:l.createElement("img",{alt:"PluginIcon",className:px,src:"https://static.figma.com/uploads/65c3bfafc5758245135ea68c46bf8649e08fc682"})},pluginIconBottomLeft:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-110,y:16,rotate:-8},hover:{opacity:1,scale:1.1,x:-127.6,y:16,rotate:-8}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:l.createElement("img",{alt:"PluginIcon",className:px,src:"https://static.figma.com/uploads/4c694b59552bdaf728d6bbad5c5603c08e768dde"})},pluginIconTopRight:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:393.8,y:-24,rotate:-16},hover:{opacity:1,scale:1.1,x:400.4,y:-40,rotate:-16}},transition:{delay:0,type:"spring",bounce:.4,duration:.25},element:l.createElement("img",{alt:"PluginIcon",className:px,src:"https://static.figma.com/uploads/2a50b4b29af5a21bde6c7b4ef8cdfd97a2b16a39"})},pluginIconMiddleRight:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:448.8,y:-16,rotate:16},hover:{opacity:1,scale:1.1,x:466.4,y:-32,rotate:16}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:l.createElement("img",{alt:"PluginIcon",className:px,src:"https://static.figma.com/uploads/0d28516cbda0bfcf87b214c919c6ed52f3358efb"})},pluginIconBottomRight:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:400.4,y:16,rotate:8},hover:{opacity:1,scale:1.1,x:418,y:16,rotate:8}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:l.createElement("img",{alt:"PluginIcon",className:px,src:"https://static.figma.com/uploads/34cf09b757fec1181abee8d8ece8a06ee0383408"})}},pY={heartIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:48.4,y:-76,rotate:0},hover:{opacity:1,scale:1,x:48.4,y:-88,rotate:0}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:l.createElement(H.B,{svg:pD.A,style:{fill:"none",stroke:(0,uz.TD)("default")}})},libraryIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-8.8,y:-64,rotate:-8.5},hover:{opacity:1,scale:1,x:-26.4,y:-72,rotate:-8.5}},transition:{type:"spring",bounce:.4,duration:.25},element:l.createElement(H.B,{svg:pM.A,style:{fill:"none",stroke:(0,uz.TD)("default")}})},emojiIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:96.8,y:-64,rotate:6},hover:{opacity:1,scale:1,x:114.4,y:-72,rotate:6}},transition:{delay:.05,type:"spring",bounce:.4,duration:.25},element:l.createElement(H.B,{svg:pP.A,style:{fill:"none",stroke:(0,uz.TD)("default")}})},chatIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:158.4,y:-80,rotate:0},hover:{opacity:1,scale:1,x:178.2,y:-88,rotate:0}},transition:{delay:.125,type:"spring",bounce:.4,duration:.25},element:l.createElement(H.B,{svg:pA.A,style:{fill:"none",stroke:(0,uz.TD)("default")}})},profileIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-79.2,y:-80,rotate:0},hover:{opacity:1,scale:1,x:-96.8,y:-88,rotate:0}},transition:{delay:.125,type:"spring",bounce:.4,duration:.25},element:l.createElement(H.B,{svg:pV.A,style:{fill:"none",stroke:(0,uz.TD)("default")}})},mentionIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-162.8,y:12,rotate:0},hover:{opacity:1,scale:1,x:-180.4,y:20,rotate:0}},transition:{delay:.075,type:"spring",bounce:.4,duration:.25},element:l.createElement(H.B,{svg:pU.A,style:{fill:"none",stroke:(0,uz.TD)("default")}})},asterikIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:-187,y:-32,rotate:0},hover:{opacity:1,scale:1,x:-215.6,y:-32,rotate:0}},transition:{delay:.15,type:"spring",bounce:.4,duration:.25},element:l.createElement(H.B,{svg:pk.A,style:{fill:"none",stroke:(0,uz.TD)("default")}})},settingsIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:237.6,y:12,rotate:0},hover:{opacity:1,scale:1,x:255.2,y:20,rotate:0}},transition:{delay:.0725,type:"spring",bounce:.4,duration:.25},element:l.createElement(H.B,{svg:pH.A,style:{fill:"none",stroke:(0,uz.TD)("default")}})},bookmarkIcon:{variants:{hidden:{mouseEvents:"none",opacity:0,scale:.5,x:281.6,y:-32,rotate:0},hover:{opacity:1,scale:1,x:299.2,y:-32,rotate:0}},transition:{delay:.15,type:"spring",bounce:.4,duration:.25},element:l.createElement(H.B,{svg:pL.A,style:{fill:"none",stroke:(0,uz.TD)("default")}})}};function pz({elements:e,elementWrapperClassname:t,text:a,onMouseEnter:r,onMouseLeave:n,isActive:i}){return l.createElement(pT.P.span,{className:S.cx.colorTextBrand.$,variants:{hidden:{opacity:.9},hover:{opacity:1}},initial:"hidden",animate:i?"hover":"hidden"},l.createElement("span",{className:D()("hero--textElement--lpZt8",{"hero--highlightedTextElement--Z3Qhc":i}),onMouseEnter:r,onMouseLeave:n},a),l.createElement("div",{className:t,"aria-hidden":!0},Object.entries(e).map(([e,t])=>l.createElement(pT.P.span,{className:S.cx.absolute.top0.left0.eventsNone.$,key:e,variants:t.variants,transition:t.transition},t.element))))}let pQ=(e,t)=>{r=setTimeout(()=>{e(e=>(e+1)%6),pK(e)},t??500)},pK=e=>{r=setTimeout(()=>{e(e=>(e+1)%6),pQ(e)},3e3)};function pq(){let e=(0,sS.N)(`(max-width: ${(0,ik.jz)(i0.ikM)-1}px)`),[t,a]=l.useState(2*Math.floor(3*Math.random())),[n,i]=l.useState(null);(0,l.useEffect)(()=>(pQ(a),()=>{clearTimeout(r)}),[]),(0,l.useEffect)(()=>{null!==n?(clearTimeout(r),r=void 0,a(e=>e%2==1?(e+1)%6:e)):r||pQ(a,3e3)},[n]);let o=t%2==0?null:Math.ceil(t/2),s=n??o;return e?l.createElement(l.Fragment,null,l.createElement("h1",{className:pN},(0,k.tx)("community.homepage.mobile_header")),l.createElement("div",{className:"hero--subHeader--74gIe text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("community.homepage.mobile_subheader"))):l.createElement("h1",{className:pN},(0,k.tx)("community.homepage.header",{librariesLink:l.createElement(pz,{elements:p$,elementWrapperClassname:"hero--libraryElementsWrapper--8uOC3",text:(0,k.t)("community.homepage.header_libraries"),onMouseEnter:()=>i(1),onMouseLeave:()=>i(null),isActive:1===s}),pluginsLink:l.createElement(pz,{elements:pG,elementWrapperClassname:"hero--pluginElementsWrapper--E7QTs",text:(0,k.t)("community.homepage.header_plugins"),onMouseEnter:()=>i(2),onMouseLeave:()=>i(null),isActive:2===s}),iconSetsLink:l.createElement(pz,{elements:pY,elementWrapperClassname:"hero--iconElementWrapper--UvEtl",text:(0,k.t)("community.homepage.header_icon_sets"),onMouseEnter:()=>i(3),onMouseLeave:()=>i(null),isActive:3===s})}))}function pZ(){let e=(0,pI.Xr)(_u);return l.createElement("div",{className:"hero--hero--a1ML6"},l.createElement(pq,null),l.createElement(pC,{isRedesignedHomepage:!0}),l.createElement(l1.a,{callback:(0,l.useCallback)(t=>{e(t[0].isIntersecting)},[e]),cleanupCallback:(0,l.useCallback)(()=>e(!1),[e])}))}let pX=(0,l.forwardRef)(({href:e,navigate:t,title:a,onClick:r,categoryHighlight:n},i)=>{let o=(0,sS.N)(`(max-width: ${i0.ikM})`);return l.createElement("div",{ref:i,key:n.category,className:"homepage_categories_highlight--homepageCategoriesHighlightItemWrapper--iQwAJ"},l.createElement("div",{className:"homepage_categories_highlight--homepageCategoriesHighlightItem--peoMf",onClick:e=>{r&&r(e),t()},tabIndex:0,role:"link","aria-label":a},l.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCard--25fAI"},l.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCardTitleAndSubtitle--T8YwD"},l.createElement("a",{className:"homepage_categories_highlight--homepageCategoryHighlightCardTitle--9FmzL text--fontPos13--xW8hS text--_fontBase--QdLsd",href:e,onClick:e=>{e.preventDefault()}},a),l.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCardSubheader--EXycZ text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.text)),l.createElement("div",{className:"homepage_categories_highlight--homepageCategoryHighlightCardImageContainer--lOChl"},l.createElement("img",{alt:a,src:o&&n.mobileSrc?n.mobileSrc:n.src,className:D()("homepage_categories_highlight--homepageCategoryHighlightCardImage--HD0cW"),"data-category":n.category})))))});function pJ({categoryHighlights:e}){return l.createElement("div",{className:"homepage_categories_highlight--homepageCategoriesHighlight--XCng9"},e.map(e=>{let t=new sP.IE({categorySlug:e.category});return l.createElement(eG.o3,{key:e.category,to:t.href,trackingEventName:"community_homepage_category_highlight_clicked",trackingProperties:{slug:e.category},title:_e(e.category),href:t.href,categoryHighlight:e,component:pX})}))}var p0=a(171603);function p1({buttonLabel:e,route:t}){return l.createElement(eG.o3,{className:"homepage_section--viewAllLinks--ZxJcd text--fontPos13--xW8hS text--_fontBase--QdLsd",to:t.to,trackingEventName:"community_homepage_section_link_clicked",trackingProperties:{slug:t.pathname}},e,l.createElement(H.B,{svg:p0.A,className:"homepage_section--chevron--alHAr"}))}function p2({header:e,subHeader:t,buttonLabel:a,route:r,content:n}){return l.createElement("div",{className:S.cx.wFull.$},l.createElement("div",{className:S.cx.alignLeft.pb16.$},l.createElement("h3",{className:S.cx.fontMedium.font15.lh24.$},e),l.createElement("div",{className:"homepage_section--subheaderAndLink---Rv7r"},t&&l.createElement("div",{className:S.cx.font13.colorTextSecondary.lh24.pt4.$},t),a&&r&&l.createElement(p1,{buttonLabel:a,route:r}))),n)}let p4=(0,eg.Fu)(ie.E_);function p8(){let e=(0,s.wA)(),t=(0,e_.md)(p4);return t?.status!=="loaded"||t?.status==="loaded"&&t?.data?null:l.createElement(eG.fu,{name:"cmty_slides_promo_banner"},l.createElement("div",{className:"slides_promo_banner--banner--C7dcs","data-editor-theme":"piper"},l.createElement("div",{className:"slides_promo_banner--iconContainer--HC1lS"},l.createElement(rx.oS,{type:rx.y1.SLIDES,size:rx.LE.MEDIUM})),l.createElement("div",{className:"slides_promo_banner--description--DybQR text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("community.homepage.slides_promo_banner")),l.createElement(eG.L0,{name:"slides_promo_banner_cta",className:"slides_promo_banner--ctaButton--g9W36 text--fontPos11--2LvXf text--_fontBase--QdLsd",href:"https://www.figma.com/slides/",target:"_blank"},(0,k.tx)("community.learn_more")),l.createElement(nh.Jn,{onClick:()=>{e(t5.b({[ie.E_]:!0}))},className:"slides_promo_banner--dismissButton--8RidG","aria-label":(0,k.t)("banner.shared.close_banner")})))}let p3=e=>`${e.id}---${(0,l6.Vm)(e)}`,p5=e=>{let[t,a]=e.split("---");return{id:t,type:a}};function p9({debounceWaitInMs:e=1e3,extraProperties:t={}}={}){let{name:a=e9.e0.COMMUNITY_HUB,properties:r}=(0,eG.j6)(),n=(0,l.useRef)([]),i=(0,l.useRef)(new Set),o=(0,l.useCallback)(e=>{if(0===n.current.length)return;let i=[],o=[];n.current.forEach(e=>{let{id:t,type:a}=p5(e);i.push(t),o.push(a)}),(0,ei.sx)("hub_impressed_resources",{impressedItems:i,impressedItemTypes:o,trackingContext:a,...r,...t},{sendAsBeacon:e}),n.current=[]},[t,a,r]),s=(0,l.useMemo)(()=>(0,tA.s)(o,e),[e,o]);return(0,l.useEffect)(()=>s.flush,[s]),(0,l.useEffect)(()=>{let e=()=>{"hidden"===document.visibilityState&&o(!0)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[o]),{trackResourceImpression:(0,l.useCallback)(e=>{let t=p3(e);i.current.has(t)||(i.current.add(t),n.current.push(t),s())},[s]),flushAndResetResourceImpressions:(0,l.useCallback)(()=>{s.flush(),i.current.clear()},[s])}}function p6(){let e=(0,sS.N)(`(max-width: ${i0.g8m})`)?{rows:3,cols:2}:{rows:2,cols:3},{trackResourceImpression:t}=p9(),{resources:a,loading:r}=function({limit:e}={limit:pv.b}){let[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),s=(0,l.useRef)((0,_T.nC)());return(0,l.useEffect)(()=>{n(!0),o(null),s.current.filter({editor_type:_o.k.Editors.SLIDES,sort_by:(0,_I.H)()}).browse(pe.L.BrowseResourceTypes.FILES,e).then(e=>{a(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular slide templates",e),o(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:r,error:i}}(),{resources:n,loading:i}=function({limit:e}={limit:pv.b}){let[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),s=(0,l.useRef)((0,_T.nC)());return(0,l.useEffect)(()=>{n(!0),o(null),s.current.filter({editor_type:_o.k.Editors.FIGMA,sort_by:(0,_I.H)()}).browse(pe.L.BrowseResourceTypes.FILES,e).then(e=>{a(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular figma files",e),o(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:r,error:i}}(),{resources:o,loading:s}=function({limit:e}={limit:pv.N}){let[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),s=(0,l.useRef)((0,_T.nC)());return(0,l.useEffect)(()=>{n(!0),o(null),s.current.filter({category:sO.LJ.designTools,sort_by:(0,_I.H)()}).browse(pe.L.BrowseResourceTypes.PLUGINS,e).then(e=>{a(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular plugins",e),o(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:r,error:i}}(),{resources:c,loading:d}=function({limit:e}={limit:pv.b}){let[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),s=(0,l.useRef)((0,_T.nC)());return(0,l.useEffect)(()=>{n(!0),o(null),s.current.filter({editor_type:_o.k.Editors.FIGJAM,sort_by:(0,_I.H)()}).browse(pe.L.BrowseResourceTypes.FILES,e).then(e=>{a(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular figjam files",e),o(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:r,error:i}}(),{resources:m,loading:u}=function({limit:e}={limit:pv.b}){let[t,a]=(0,l.useState)([]),[r,n]=(0,l.useState)(!1),[i,o]=(0,l.useState)(null),s=(0,l.useRef)((0,_T.nC)());return(0,l.useEffect)(()=>{n(!0),o(null),s.current.filter({category:sO.LJ.whiteboarding,sort_by:(0,_I.H)()}).browse(pe.L.BrowseResourceTypes.WIDGETS,e).then(e=>{a(e.data.meta.resources)}).catch(e=>{console.error("Error fetching popular widgets",e),o(e)}).finally(()=>n(!1))},[e]),{resources:t,loading:r,error:i}}(),{slideTemplatesRoute:_,designResourcesRoute:f,pluginsRoute:g,figjamAssetsRoute:E,widgetsRoute:h}=(0,l.useMemo)(()=>({slideTemplatesRoute:new sP.IE({categorySlug:sO.LJ.presentations}),designResourcesRoute:new sP.IE({categorySlug:sO.LJ.designTemplates}),pluginsRoute:new sP.IE({categorySlug:sO.LJ.designTools},{resource_type:"plugins"}),figjamAssetsRoute:new sP.IE({categorySlug:sO.LJ.whiteboarding}),widgetsRoute:new sP.IE({categorySlug:sO.LJ.whiteboarding},{resource_type:pe.L.BrowseResourceTypes.WIDGETS})}),[]),v=(0,l.useCallback)((e,a)=>{a&&t(e)},[t]);return l.createElement("div",{className:"homepage--homepageContainer--q0JuX"},l.createElement("div",{className:"homepage--homepageContent--XDBs9"},l.createElement(pZ,null),(0,p.kc)().piper_cmty_home_banner&&l.createElement(p8,null),l.createElement("div",{className:"homepage--homepageSectionsContainer--rXSN9"},l.createElement(p2,{header:(0,k.t)("community.homepage.slides_section.header"),subHeader:(0,k.t)("community.homepage.slides_section.sub_header"),buttonLabel:(0,k.t)("community.homepage.slides_section.browse_all"),route:_,content:l.createElement(ph,{resources:a,maxGridDim:e,onIntersectionChange:v,isLoading:r,loadingTileCount:6})}),l.createElement(p2,{header:(0,k.t)("community.homepage.figma_section.header"),subHeader:(0,k.t)("community.homepage.figma_section.sub_header"),buttonLabel:(0,k.t)("community.homepage.figma_section.browse_all"),route:f,content:l.createElement(ph,{resources:n,maxGridDim:e,onIntersectionChange:v,isLoading:i,loadingTileCount:6})}),l.createElement(p2,{header:(0,k.t)("community.view_bar.plugins"),subHeader:(0,k.t)("community.homepage.plugins_section.sub_header"),buttonLabel:(0,k.t)("community.homepage.plugins_section.browse_all"),route:g,content:l.createElement(pm,{plugins:o,onIntersectionChange:v,isOrgTeamBrowsing:!1,isLoading:s,loadingRowCount:10})}),l.createElement(p2,{header:(0,k.t)("community.homepage.figjam_section.header"),subHeader:(0,k.t)("community.homepage.figjam_section.sub_header"),buttonLabel:(0,k.t)("community.homepage.figjam_section.browse_all"),route:E,content:l.createElement(ph,{resources:c,maxGridDim:e,onIntersectionChange:v,isLoading:d,loadingTileCount:6})}),l.createElement(p2,{header:(0,k.t)("community.view_bar.widgets"),subHeader:(0,k.t)("community.homepage.widgets.sub_header"),buttonLabel:(0,k.t)("community.homepage.widgets.browse_all"),route:h,content:l.createElement(ph,{resources:m,maxGridDim:e,onIntersectionChange:v,isLoading:u,loadingTileCount:6})}),l.createElement(p2,{header:(0,k.t)("community.homepage.categories_section.header"),subHeader:(0,k.t)("community.homepage.categories_section.sub_header"),content:l.createElement(pJ,{categoryHighlights:[{category:sO.LJ.designTemplates,src:"https://static.figma.com/uploads/f35144ac6be1301b0c300fdb5ba0761f85d610da",mobileSrc:"https://static.figma.com/uploads/d09077ccb81fdbb9d927f28eab6d6aff62def241",text:(0,k.t)("categories.homepage_highlight.design_templates")},{category:sO.LJ.uiKits,src:"https://static.figma.com/uploads/6b7af7165268ef5a4d90fc48f1a9d311bb52780a",mobileSrc:"https://static.figma.com/uploads/bbe5c1f9cc2c99dce19c64a5c3667bac836def1d",text:(0,k.t)("categories.homepage_highlight.ui_kits")},{category:sO.LJ.icons,src:"https://static.figma.com/uploads/12cea3d845a2aebb7027af6890160caeb7e4ce9f",mobileSrc:"https://static.figma.com/uploads/478f606904a2341a2b01fb2ef3cafb9f63b29f79",text:(0,k.t)("categories.homepage_highlight.icons")},{category:sO.LJ.designTools,src:"https://static.figma.com/uploads/404bbfd2c09daf145970196f3d762807fd711299",text:(0,k.t)("categories.homepage_highlight.design_tools")},{category:sO.LJ.visualAssets,src:"https://static.figma.com/uploads/8857bb67fa108380ce502139054754c89feb9f3e",mobileSrc:"https://static.figma.com/uploads/3a887f58127d5e03c61c7884b9fce47ae6c6c16b",text:(0,k.t)("categories.homepage_highlight.visual_assets")},{category:sO.LJ.whiteboarding,src:"https://static.figma.com/uploads/e1915a29a858e7c0d717471cf0108aeba02c7dbe",mobileSrc:"https://static.figma.com/uploads/bfeb514427f6279d7e6b4902a38fd7f576b394e4",text:(0,k.t)("categories.homepage_highlight.whiteboarding")}]})}),l.createElement(p2,{header:(0,k.t)("community.view_bar.all_resources"),content:l.createElement(pw,{onIntersectionChange:v})}),l.createElement("div",{className:S.cx.wFull.$},l.createElement(sU,null)))))}var p7=a(740222),fe=a.n(p7),ft=a(135876),fa=a(746058),fr=a(827553),fn=a(336599),fi=a(163056);let fo=[{img:"https://static.figma.com/uploads/49e43aec887df7422ff9643d11465bcdeded548e",color:sj.S0},{img:"https://static.figma.com/uploads/c00f8b3e0cd9a66eb8c4ee4e6d307fff82c9ab27",color:sj.S0},{img:"https://static.figma.com/uploads/3f772c66c1cddf1d0b6c5f8f41395bcafd135566",color:sj.S0},{img:"https://static.figma.com/uploads/960d3a00ab8d8c4db2f27b7814c911ae974c770b",color:sj.fr},{img:"https://static.figma.com/uploads/cda2753116908ec0abf57b611934479cebbcdbeb",color:sj.fr},{img:"https://static.figma.com/uploads/37f4db88a8104a239f3d761763f8d7e0826d7765",color:sj.fr}],fl=function({profile:e,onImageUploaded:t}){let a=l.useRef(null),r=(0,s.wA)(),n=(0,s.d4)(e=>e.loadingState),i=_X.Ai.loadingKeyForPayload({profileId:e.id}),o=(0,fn.VP)(n,i),c=l.useCallback(()=>{a.current?.click()},[]),d=l.useCallback(a=>{null!=a&&r(_X.Ai({profileId:e.id,file:a,onSuccessCallback:t}))},[r,t,e.id]),m=l.useCallback(async()=>{try{let e=a.current?.files;if(!e||0===e.length||!e[0])throw Error("File not found");let t=e[0];(0,iv.YU)(t);let r=await (0,dc.l8)(URL.createObjectURL(t));if(r.width>iv.M0||r.height>iv.Zs)throw Error((0,k.t)("community.profiles.cover_image_must_be_less_than_dimensions",{PROFILE_COVER_IMAGE_MAX_WIDTH:iv.M0,PROFILE_COVER_IMAGE_MAX_HEIGHT:iv.Zs}));if(r.width<iv.gZ||r.height<iv.xj)throw Error((0,k.t)("community.profiles.cover_image_must_be_at_least_dimensions",{PROFILE_COVER_IMAGE_MIN_WIDTH:iv.gZ,PROFILE_COVER_IMAGE_MIN_HEIGHT:iv.xj}));d(t)}catch(e){r(W.s.error(e.message))}a.current&&(a.current.value="")},[r,d]);return l.createElement(l.Fragment,null,l.createElement("input",{type:"file",accept:"image/*",ref:a,onChange:m,style:{display:"none"}}),l.createElement(H.B,{svg:fi.A,className:"profile_header--uploadIcon--FFtoL",onClick:c}),o&&l.createElement(tP.qc,null))};function fs({profile:e}){let t=(0,s.d4)(t=>(0,iv.jG)(e,t)),a=(0,iv.si)(e),r=(0,p.kc)().cmty_deprecate_browse_as_admin?a:t,[n,i]=l.useState((0,cp.g)()),o=l.useCallback(()=>{i((0,cp.g)())},[]),c=l.useMemo(()=>e.redirect_cover_image_url?{backgroundColor:"rgba(0, 0, 0, 0.03)",backgroundImage:`url(${e.redirect_cover_image_url}?${n})`}:function(e){if(null==e||!e.id)return;let t=fo[parseInt(e.id.length>=4?e.id.slice(e.id.length-4):"0")%fo.length];return{backgroundImage:`url(${t.img})`,backgroundColor:t.color}}(e),[e,n]);return l.createElement("div",{className:"profile_header--profileHeaderContainer--C-0mY",key:e?.cover_image_path,style:c},l.createElement("div",{className:"profile_header--profileHeaderAvatarContainer--1REx-"},l.createElement(a_.Ro,{entity:{...e,img_url:e?.img_urls["500_500"]||e?.img_url||void 0},size:96,className:"profile_header--avatarBackground--5XTWL"})),r&&l.createElement(fl,{profile:e,onImageUploaded:o}))}var fc=a(107897),fd=a(153234),fm=a(158950);let fu=/(https?:\/\/)?(www\.)?figma.com\/@/;function f_(e){return l.createElement(fc.A,{options:{target:{url:"_blank"},attributes:{rel:"noopener nofollow ugc",onMouseDown:e=>{e.preventDefault(),e.stopPropagation()}},className:"formatted_expanding_textarea--blueLink--GWaek blue_link--blueLink--9rlnd",format:e=>e.replace(fu,"@")}},e)}class fp extends fd.uA{constructor(e){super(e),this.onChange=e=>{this.setState({value:e.target.value})},this.onMouseDown=e=>{this.props.readOnly||e.preventDefault(),this.setState({isEditing:!0})},this.onFocus=()=>{this.state.isEditing||this.setState({isEditing:!0})},this.onSubmit=e=>{this.props.submit&&this.props.submit(e)},this.onBlur=()=>{this.setState({isEditing:!1})},this.state={value:this.props.value,isEditing:!1}}componentDidUpdate(e){this.props.value!==e.value&&this.setState({value:this.props.value})}renderFormattedValue(){return l.createElement("div",{dir:"auto",className:"formatted_expanding_textarea--value--XJ2Gh"},this.props.formatter?this.props.formatter(this.state.value):this.state.value)}renderPlaceholder(){return l.createElement("div",{className:"formatted_expanding_textarea--placeholder--JJ8AZ"},this.props.readOnly?"":this.props.placeholder)}render(){let e=!this.props.readOnly&&this.state.isEditing,t=["formatted_expanding_textarea--container--3NuYC text--fontPos13--xW8hS text--_fontBase--QdLsd",e?"formatted_expanding_textarea--editMode--wvP9s":"formatted_expanding_textarea--viewMode--GHMnM",this.props.readOnly?"formatted_expanding_textarea--readOnly--w19iZ":"formatted_expanding_textarea--canEdit--UVjHq",this.props.className||""].join(" ");return l.createElement("div",{className:t,onMouseDown:this.onMouseDown,onFocus:this.onFocus,tabIndex:0},!e&&(this.state.value?this.renderFormattedValue():this.renderPlaceholder()),e&&l.createElement(fm.v,{maxLength:this.props.maxLength||1e4,onChange:this.onChange,value:this.state.value,placeholder:this.props.placeholder,submit:this.onSubmit,onBlur:this.onBlur,selectOnMount:!0,className:"formatted_expanding_textarea--expandingTextarea--LLtsJ"}))}}fp.displayName="FormattedExpandingTextarea";var ff=a(752207),fg=a(988932),fE=a(370855),fh=a(709595),fv=a(301400),fy=a(93623),fb=a(492330),fw=a(354438),fT=a(432035);function fI(){return l.createElement(l.Fragment,null,l.createElement("div",{className:"monetization_metrics_tab_onboarding_modal--title--IfgQI text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.t)("community.seller.profiles.check_out_your_stats")),l.createElement("div",{className:"monetization_metrics_tab_onboarding_modal--description--2j8hj"},(0,k.t)("community.seller.profiles.added_some_metrics")))}let fC="metrics_tab_onboarding_key",fx="community_hub_view_bar--stickyHeaderIsSticky--jlnEf";class fN extends l.PureComponent{render(){return l.createElement("div",{className:`community_hub_view_bar--viewBar--T8-MS ${this.props.className||""}`},this.props.children)}}let fS=(0,s.Ng)(e=>({user:e.user||null}))(fN);class fk extends l.PureComponent{constructor(){super(...arguments),this.headerContentRef=l.createRef(),this.onIntersectionChange=e=>{this.node&&(e.isIntersecting?this.node.classList.remove(fx):e.boundingClientRect.y<window.innerHeight&&this.node.classList.add(fx))}}render(){return l.createElement("div",{className:["community_hub_view_bar--container--PBrf3",this.props.user?"community_hub_view_bar--viewBarSignedInSticky--swRMi":"community_hub_view_bar--viewBarSignedOutSticky--fpGkz"].join(" "),ref:e=>this.node=e},l.createElement(tM.a,{onIntersectionChange:this.onIntersectionChange,className:this.props.user?"community_hub_view_bar--scrollSentinelSignedIn--u73PI":"community_hub_view_bar--scrollSentinelSignedOut--9xL9d"}),l.createElement(fS,null,l.createElement("div",{ref:this.headerContentRef},this.props.children)))}}var fL=a(402609),fA=a(147829),fR=a(746806),fF=a(63666);let fO=(0,eg.r1)(ie.e9);function fP({onboardingKey:e}){let t=(0,e_.md)(fO),a=(0,ef.e)({overlay:ey.O9D,priority:eE.N.SECONDARY_MODAL},[t]);return(0,u.h)(()=>{a.show({canShow:e=>!e})}),(0,pr.E)(a.uniqueId,"profile-metrics-tab-clicked",()=>{a.isShowing&&a.complete()}),l.createElement(fA.M,{isShowing:a.isShowing,userFlagOnShow:ie.e9},l.createElement(eG.fu,{name:"Community monetization creator dashboard onboarding"},l.createElement(fF.NJ,{targetKey:e,width:300,topPadding:16,shouldCenterArrow:fR.EL.FALLBACK,dismissModal:a.complete},l.createElement(fI,null))))}var fD=a(677664),fM=a(320741);let fB=(0,tc.nF)(async(e,t,{loadingKey:a})=>{try{let r=ts.Ay.post("/api/community/seller/stripe_dashboard");(0,fM.N)(r,e,a);let n=await r;if(!n?.data?.meta){t?.callback(!1);return}let i=n.data.meta;e.dispatch((0,fD.RK)({rawInput:i})),setTimeout(()=>{t?.callback(!0)},1e3)}catch(e){t?.callback(!1)}});var fU=a(583894),fV=a(82388),fH=a(596578),fW=a(139387);let fj=(0,aL.Ju)(function(){let e=(0,s.wA)(),t=(0,eJ.iZ)(),[a,r]=l.useState([]),[n,i]=l.useState(!0),[o,c]=l.useState(!0),[d,m]=l.useState(!1),[_,p]=l.useState(!1),f=l.useRef(null);(0,u.h)(()=>{fH.C.getCmtyCreatorPayoutStatements({userId:t?.id}).then(({data:e})=>{i(!1),r(e.meta)}).catch(()=>{e(aJ.F.enqueue({type:"get-payout-statements-error",message:(0,k.t)("community.seller.payout_statement_error"),error:!0}))})});let E=e=>new Date(e.year,e.month-1).toLocaleDateString(void 0,{year:"numeric",month:"long"}),h="creator_payout_statements_modal--scrollContainer--8j6P4";return _&&(o||(h+=" creator_payout_statements_modal--topBorder--OHBCp"),d||(h+=" creator_payout_statements_modal--bottomBorder--tNtIc")),l.createElement(aA.Rw,{title:(0,k.t)("community.seller.community_payout_statements"),titleClassName:"creator_payout_statements_modal--title--t9wed",confirmText:(0,k.t)(0===a.length?"general.got_it":"general.done"),onConfirm:g.lQ,hideConfirmationTitle:!0,hideCancel:!0},n?l.createElement("div",{className:"creator_payout_statements_modal--loadingSpinner--HMTTZ"},l.createElement(tP.kt,null)):l.createElement("div",null,0===a.length&&l.createElement("div",null,(0,k.tx)("community.seller.no_payout_statements_yet")),a.length>0&&l.createElement(l.Fragment,null,l.createElement("div",null,(0,k.tx)("community.seller.click_to_download_statements")),l.createElement(tD.P,{className:h,ref:f,onCanScrollChange:e=>{p(e)},onScroll:(e,t)=>{c(0===e),m(e+t.trackHeight>=t.scrollHeight)}},a.map(e=>l.createElement("a",{className:"creator_payout_statements_modal--payoutStatementRow--4fDH3",key:`payout-statement-${e.year}-${e.month}`,href:e.signed_s3_url,download:`payout_statement_${e.year}_${e.month}.csv`},l.createElement(H.B,{svg:fW.A}),E(e)))))))},"CreatorPayoutStatementsModal");var f$=a(358157);let fG="profile_resources_grid--tabContainer--UsmoU",fY="profile_resources_grid--tabLink--8x9Of text--fontPos14--OL9Hp text--_fontBase--QdLsd",fz="profile_resources_grid--tabBadge--l97Nx",fQ="profile_resources_grid--labelBadgeContainer--gc9j0",fK="profile_resources_grid--selected--6CtGL",fq="profile_resources_grid--newBadge--LOtSf",fZ="profile_resources_grid--profileData--yzCa5 text--fontPos13--xW8hS text--_fontBase--QdLsd",fX="profile_resources_grid--profileDataReadOnly--Juje2 profile_resources_grid--profileData--yzCa5 text--fontPos13--xW8hS text--_fontBase--QdLsd",fJ="profile_resources_grid--followsData--WkXSx",f0="profile_resources_grid--followsDataClickable--PHNwr",f1="profile_resources_grid--followsDataCount--MoS2I",f2="profile_resources_grid--loadingContainer--hsPEQ",f4="profile_resources_grid--profileResourcesGridOuterContainer--ynOxv",f8="profile_resources_grid--profileMetricsStatsOuterContainer--FAXLb",f3="profile_resources_grid--profileMetricsTabLoadingButtonContent--lkd-l",f5="profile_resources_grid--profileMetricsTabLoadingButton--6tsqO",f9="profile_resources_grid--profileResourcesGridAndDataContainer--2gQaO",f6="profile_resources_grid--emptyStateContainer--EJug9",f7="profile_resources_grid--emptyStateHeader--c9srx text--fontPos14--OL9Hp text--_fontBase--QdLsd",ge="profile_resources_grid--emptyStateText--oEJHa",gt="profile_resources_grid--emptyStateMetricLabel--XqzzA",ga="profile_resources_grid--bannerContainer--eb6mO",gr="profile_resources_grid--stripeDashboardButtonContainer--1DAQE",gn="profile_resources_grid--metricContainer--SuhZ3",gi="profile_resources_grid--creatorLink--Rmyz- text--fontPos13--xW8hS text--_fontBase--QdLsd",go="profile_resources_grid--lockIcon--4VJCL",gl="profile_metrics_stats--divider--U2a8K";var gs=a(419902);let gc=(0,ik.jz)(i0.dxy);function gd({tooltipText:e}){return l.createElement(iL.z,{query:`(min-width: ${gc}px)`},l.createElement("span",{className:"profile_metrics_stats--infoTooltipContainer---MeEH","data-tooltip-type":eL.Ib.TEXT,"data-tooltip":e,"data-tooltip-max-width":"250"},l.createElement(H.B,{svg:gs.A,className:"profile_metrics_stats--infoTooltip--lsZkn"})))}function gm({valueClassName:e,value:t,labelClassName:a,label:r,children:n}){return l.createElement("div",{className:gn},l.createElement("div",{className:e},t),l.createElement("div",{className:"profile_metrics_stats--metricLabelContainer--24AJ-"},l.createElement("span",{className:a},r),n))}function gu(){return l.createElement("div",{className:gn},l.createElement("div",{className:"profile_resources_grid--emptyStateMetric--ktaw6"}),l.createElement("div",{className:gt}))}function g_({children:e}){return l.createElement("div",{className:f8},l.createElement(gu,null),l.createElement("div",{className:gl}),l.createElement(gu,null),l.createElement("div",{className:gl}),l.createElement(gu,null),e)}function gp({totalViewCount:e,metricValueStyle:t,metricLabelStyle:a,totalPurchases:r,totalEarned:n,children:i}){return l.createElement("div",{className:f8},l.createElement(gm,{valueClassName:t,value:e,labelClassName:a,label:(0,k.t)("community.seller.total_views")}),l.createElement("div",{className:gl}),l.createElement(gm,{valueClassName:t,value:r,labelClassName:a,label:(0,k.t)("community.seller.total_purchases")},l.createElement(gd,{tooltipText:(0,k.t)("community.seller.total_purchases_includes")})),l.createElement("div",{className:gl}),l.createElement(gm,{valueClassName:t,value:n,labelClassName:a,label:(0,k.t)("community.seller.total_earned")},l.createElement(gd,{tooltipText:(0,k.t)("community.seller.all_sales_before_figmas_fees")})),i)}var gf=a(820113);let gg="resource_stat_row--rowContainer--rapbF",gE="resource_stat_row--resourceMetadataContainer--bdvI3",gh="resource_stat_row--allStatContainer--vXmae",gv="resource_stat_row--statContainer--gp6KZ",gy="resource_stat_row--statValue--69Rff text--fontPos24--YppUD text--_fontBase--QdLsd",gb="resource_stat_row--statLabel--bgvwH text--fontPos13--xW8hS text--_fontBase--QdLsd",gw="resource_stat_row--verticalDivider--Whn5d",gT="resource_stat_row--textMetadataContainer--oQv9J",gI=(0,ik.jz)(i0.ZI8);function gC({resource:e}){return(0,lX.Qo)(e)?l.createElement(l4.Cv,{resource:e,isMetaHidden:!0}):"plugin"===(0,l6.Vm)(e)?l.createElement(l4.cS,{resource:e,isMetaHidden:!0}):l.createElement(l4.bN,{resource:e,isMetaHidden:!0})}function gx({resource:e}){let{name:t,created_at:a}=(0,lX.qD)(e),r=new Date(a).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),n=e.monetized_resource_metadata?(0,c$.bV)(e.monetized_resource_metadata):"",i=`/community/${(0,lX.ss)(e)}/${e.id}`;return l.createElement("div",{className:gE},l.createElement("div",{className:"resource_stat_row--thumbnailWrapper--M0vtN"},l.createElement(gC,{resource:e})),l.createElement(iL.z,{query:`(min-width: ${gI}px)`},l.createElement("div",{className:gT},l.createElement("div",null,l.createElement(mT.A6,{to:i,className:"resource_stat_row--resourceName--LFWUk text--fontPos14--OL9Hp text--_fontBase--QdLsd"},t),l.createElement("div",{className:"resource_stat_row--publishDate--oDkDH text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.t)("community.seller.last_updated_on",{date:r}))),l.createElement("div",{className:"resource_stat_row--price--1YYVn text--fontPos14--OL9Hp text--_fontBase--QdLsd"},n))))}function gN({value:e,label:t}){return l.createElement("div",{className:gv},l.createElement("span",{className:gy},e),l.createElement("span",{className:gb},t))}function gS(){return l.createElement("div",{className:gv},l.createElement("span",{className:gy},l.createElement("div",{className:"profile_resources_grid--emptyStateStatsMetric--qs3QD"})),l.createElement("span",{className:gb},l.createElement("div",{className:gt})))}function gk(){return l.createElement("div",{className:gE},l.createElement("div",{className:"resource_stat_row--emptyThumbnailWrapper--NNO1Y resource_stat_row--thumbnailWrapper--M0vtN"},l.createElement(tP.kt,null)),l.createElement(iL.z,{query:`(min-width: ${gI}px)`},l.createElement("div",{className:gT},l.createElement("div",null,l.createElement("div",{className:"resource_stat_row--emptyResourceName--gZCwX"}),l.createElement("div",{className:"resource_stat_row--emptyPublishDate--WVyqw"})),l.createElement("div",{className:"resource_stat_row--emptyPrice--HlOMG"}))))}function gL({resource:e}){return l.createElement("div",{className:gg},l.createElement(gk,null),l.createElement("div",{className:gh},l.createElement(gS,null),l.createElement("div",{className:gw}),l.createElement(gS,null),l.createElement("div",{className:gw}),l.createElement(gS,null),l.createElement("div",{className:gw}),l.createElement(gS,null)))}function gA({resource:e}){let t=(0,s.wA)(),{id:a,is_subscription:r}=e.monetized_resource_metadata,n=(0,np.Rs)(ng.aom,{monetizedResourceMetadataId:a}),i=new gf.vr("usd");if("loading"===n.status)return l.createElement(gL,{resource:e});if("loaded"!==n.status||n.errors?.length)return t(aJ.F.enqueue({message:(0,k.t)("community.actions.unable_to_load_stats_for_a_resource"),error:!0})),l.createElement(gL,{resource:e});{let t=n.data.communityM10nResourceStat,a={monetized_resource_metadata_id:t?.monetizedResourceMetadataId,all_time_total_earned:parseInt(t?.allTimeTotalEarned||"0"),monthly_total_earned:parseInt(t?.monthlyTotalEarned||"0"),num_purchases:parseInt(t?.numPurchases||"0")},o=e.view_count||0;return l.createElement("div",{className:gg},l.createElement(gx,{resource:e}),l.createElement("div",{className:gh},l.createElement(gN,{label:(0,k.t)("community.seller.views_label",{num:o}),value:o.toLocaleString()}),l.createElement("div",{className:gw}),r?l.createElement(gN,{label:(0,k.t)("community.seller.subscribers_label",{num:a.num_purchases}),value:a.num_purchases.toLocaleString()}):l.createElement(gN,{label:(0,k.t)("community.seller.purchases_label",{num:a.num_purchases}),value:a.num_purchases.toLocaleString()}),l.createElement("div",{className:gw}),l.createElement(gN,{label:(0,k.t)("community.seller.total_earned"),value:i.formatMoney(a.all_time_total_earned)}),l.createElement("div",{className:gw}),l.createElement(gN,{label:(0,k.t)("community.seller.earned_this_month"),value:i.formatMoney(a.monthly_total_earned)})))}}function gR({paidResources:e}){return(0,p.kc)().cmty_m10n_turn_creator_dash_off?l.createElement(l.Fragment,null):l.createElement("div",{className:"resource_stats_list--resourceStatsListContainer--3Xmb3"},l.createElement("p",{className:"resource_stats_list--resourceCount--SHJGY text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,k.tx)("community.seller.resources_for_sale",{numResources:e.length})),e.map((e,t,a)=>l.createElement("div",{key:e.id,className:"resource_stats_list--resourceStatContainer--GxfxK"},l.createElement(gA,{resource:(0,l0.Ch)(e)}),t<a.length-1&&l.createElement("div",{key:`${e.id}-divider`,className:"resource_stats_list--divider--F4HpT"}))))}function gF(){return l.createElement("svg",{width:"274",height:"133",viewBox:"0 0 274 133",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M124.179 65.3591C125.935 65.3591 127.359 63.9355 127.359 62.1795C127.359 60.4235 125.935 59 124.179 59C122.423 59 121 60.4235 121 62.1795C121 63.9355 122.423 65.3591 124.179 65.3591Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),l.createElement("path",{d:"M149.861 62.1795C149.861 63.9355 148.437 65.3591 146.681 65.3591C144.925 65.3591 143.502 63.9355 143.502 62.1795C143.502 60.4235 144.925 59 146.681 59C148.437 59 149.861 60.4235 149.861 62.1795Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),l.createElement("path",{d:"M123.092 73.4119V71.9119H120.092V73.4119C120.092 81.9723 127.032 88.9119 135.592 88.9119C144.152 88.9119 151.092 81.9723 151.092 73.4119V71.9119H148.092V73.4119C148.092 80.3154 142.496 85.9119 135.592 85.9119C128.688 85.9119 123.092 80.3154 123.092 73.4119Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),l.createElement("path",{d:"M232.862 51.8912L214.45 64.9049L240.999 74.0556L209.704 95.1483L208.027 92.6606L234.332 74.931L207.938 65.8337L231.13 49.4413L232.862 51.8912Z",fill:"var(--color-icon-disabled, #D9D9D9)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82.2828 0H148.05L185.283 38.0308V47.1645L188.993 45.3563L196.545 23.4452L218.456 30.9974L239.307 20.8359L249.468 41.6862L271.414 49.2505L263.85 71.1971L274 92.0236L253.173 102.174L245.609 124.12L223.663 116.556L202.812 126.717L192.651 105.867L185.283 103.327V133H82.2828V109.541L31.3574 128.076C27.4651 129.493 23.1613 127.486 21.7446 123.593L16.9646 110.46C16.4165 108.954 17.1953 107.612 18.0665 106.887C18.9369 106.163 20.3041 105.686 21.6406 106.175C24.3362 107.162 27.171 107.252 29.8132 106.29C36.5897 103.824 40.064 94.9827 36.8557 86.168C33.6474 77.3533 25.303 72.8139 18.5265 75.2803C15.8843 76.242 13.7706 78.1332 12.3398 80.6217C11.6304 81.8554 10.2763 82.3687 9.14412 82.3734C8.01076 82.3782 6.55152 81.8507 6.00341 80.3447L1.22339 67.2118C-0.193304 63.3194 1.8136 59.0156 5.70593 57.5989L18.1219 53.0799C18.1237 53.0772 18.1258 53.0738 18.1282 53.0695C18.1529 53.0257 18.1896 52.9235 18.1889 52.7663C18.1882 52.6115 18.1509 52.4593 18.0918 52.3414C18.0341 52.2263 17.9741 52.1774 17.9418 52.1588C14.9078 50.4143 12.5056 47.7738 11.2767 44.3974C8.07639 35.6046 14.0889 25.815 23.9574 22.2231C33.8259 18.6313 44.7244 22.2658 47.9247 31.0587C49.1536 34.435 49.0107 38.0019 47.8079 41.2884C47.7951 41.3234 47.7805 41.3994 47.8104 41.5248C47.8409 41.653 47.9101 41.7936 48.0091 41.9127C48.1096 42.0335 48.2035 42.0882 48.2505 42.1059C48.2551 42.1076 48.2589 42.1089 48.262 42.1098L62.0875 37.0777C65.9798 35.661 70.2836 37.6679 71.7003 41.5603L82.2828 70.6354V0ZM182.283 40.1429V48.6266V56.5V76.5V98V102.293V130H85.2828V108.449V107C85.2828 107 85.2828 102.5 85.2828 98.5V78.8779V3H145.919V40.1429H182.283ZM185.283 50.5018V100.154L194.803 103.435L204.195 122.706L223.466 113.314L243.75 120.306L250.742 100.021L269.989 90.6411L260.609 71.3943L267.601 51.1092L247.316 44.1175L237.924 24.847L218.654 34.2385L198.404 27.2591L191.424 47.5087L185.283 50.5018ZM68.8813 42.5863L82.2828 79.4069V106.348L30.3314 125.257C27.996 126.107 25.4137 124.903 24.5637 122.567L19.7881 109.447C19.789 109.443 19.7903 109.44 19.792 109.435C19.8097 109.388 19.8644 109.294 19.9852 109.194C20.1043 109.095 20.2449 109.025 20.3731 108.995C20.4985 108.965 20.5745 108.98 20.6095 108.992C23.896 110.195 27.4629 110.338 30.8392 109.109C39.6321 105.909 43.2666 95.0105 39.6748 85.1419C36.0829 75.2734 26.2933 69.2609 17.5005 72.4613C14.1241 73.6901 11.4836 76.0923 9.7391 79.1263C9.72052 79.1586 9.67163 79.2186 9.55647 79.2764C9.43858 79.3354 9.28639 79.3728 9.13155 79.3734C8.97443 79.3741 8.87215 79.3374 8.82842 79.3127C8.82414 79.3103 8.82071 79.3082 8.81802 79.3064L4.04247 66.1857C3.19245 63.8503 4.39659 61.268 6.73199 60.418L19.1602 55.8945C20.6662 55.3464 21.1936 53.8871 21.1889 52.7538C21.1841 51.6216 20.6709 50.2675 19.4371 49.5581C16.9487 48.1273 15.0575 46.0135 14.0958 43.3714C11.6294 36.5949 16.1688 28.2505 24.9835 25.0422C33.7981 21.8339 42.6392 25.3082 45.1057 32.0847C46.0673 34.7269 45.9772 37.5617 44.9907 40.2573C44.5015 41.5938 44.9788 42.961 45.7029 43.8314C46.4278 44.7026 47.7698 45.4814 49.2758 44.9333L63.1136 39.8968C65.449 39.0468 68.0312 40.2509 68.8813 42.5863ZM148.919 5.17631L180.215 37.1429H148.919V5.17631Z",fill:"var(--color-icon-disabled, #D9D9D9)"}))}function gO({paidResources:e,primaryUserId:t}){let a=(0,s.wA)(),r=(0,eJ.iZ)(),[n,i]=l.useState(!1),[o,c]=l.useState(!1),d=(0,np.Rs)(ng.wW7,{userId:t}),m=()=>{c(!0),a((0,e$.to)({type:fV.s,data:{setupStripeCallback:e=>{i(!1),c(!1),e||a(W.s.error((0,k.t)("community.seller.unable_to_launch_stripe_onboarding_please_check_your_details")))}}}))},u=()=>{i(!0),(0,tC.Cu)({user_id:r.id},"stripe_dasbhboard_link_clicked"),a(fB({callback:e=>{i(!1),e||a(W.s.error((0,k.t)("community.seller.unable_to_open_stripe_dashboard")))}}))};function _(){return r?.stripe_account_status===fU.P5.ENABLED||r?.stripe_account_status===fU.P5.DISABLED?l.createElement("div",{className:gr},l.createElement("button",{className:"profile_resources_grid--stripeDashboardButton--LHyS8 profile_resources_grid--stripeSetupButton--HNei8 profile_resources_grid--stripeSetupButtonDisabled--EUiQo text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:u},l.createElement("div",{className:f3},n&&l.createElement("div",{className:f5},l.createElement(tP.kt,{shouldMatchTextColor:!0})),(0,k.tx)("community.seller.view_stripe_dashboard"))),l.createElement("button",{className:"profile_resources_grid--blueLink--WjRaq blue_link--blueLink--9rlnd",onClick:()=>{a((0,e$.to)({type:fj,data:{}}))}},(0,k.tx)("community.seller.view_payout_statements"))):l.createElement("div",{className:gr},l.createElement("button",{className:"profile_resources_grid--stripeSetupButton--HNei8 profile_resources_grid--stripeSetupButtonDisabled--EUiQo text--fontPos13--xW8hS text--_fontBase--QdLsd",disabled:n,onClick:m},l.createElement("div",{className:f3},n&&l.createElement("div",{className:f5},l.createElement(tP.kt,{shouldMatchTextColor:!0})),l.createElement("div",null,f))),l.createElement("div",{className:"profile_resources_grid--creatorAgreement--seV1h text--fontPos11--2LvXf text--_fontBase--QdLsd"},g))}let f=(0,k.tx)("community.seller.set_up_stripe"),g=(0,k.tx)("community.seller.agree_to_figma_terms_of_service",{link:f$.Hl});n?f=(0,k.tx)("community.seller.stripe_loading_text"):r?.stripe_account_status===fU.P5.STARTED_ONBOARDING&&(f=(0,k.tx)("community.seller.finish_stripe_setup_button"));let E="profile_resources_grid--metricValue--w627p text--fontPos48--H177Q text--_fontBase--QdLsd",h="profile_resources_grid--metricLabel--1bOis text--fontPos13--xW8hS text--_fontBase--QdLsd",v=(0,k.tx)("community.seller.resource_metrics_coming_soon"),y=(0,k.tx)("community.seller.working_on_bringing_you_more_in_depth_metrics");r?.stripe_account_status!==fU.P5.ENABLED&&(E="profile_resources_grid--metricValueDisabled--mYlXF profile_resources_grid--metricValue--w627p text--fontPos48--H177Q text--_fontBase--QdLsd",h="profile_resources_grid--metricLabelDisabled--dTvu- profile_resources_grid--metricLabel--1bOis text--fontPos13--xW8hS text--_fontBase--QdLsd");let b=e.length>0,w=e.reduce((e,t)=>e+(t.view_count||0),0);return v=(0,k.tx)("community.seller.youre_all_set_up_to_sell_on_community"),y=r?.cmty_seller_capabilities?.includes(fU.D6.FILE)?(0,k.tx)("community.seller.to_publish_your_first_resource"):(0,k.tx)("community.seller.to_publish_your_first_extension"),r?.stripe_account_status!==fU.P5.ENABLED&&(v=(0,k.tx)("community.seller.resources_youre_selling_will_appear_here"),y=(0,k.tx)("community.seller.well_show_you_stripe_metrics")),l.createElement("div",{className:"profile_resources_grid--profileMetricsTabOuterContainer--d-PPR"},l.createElement("div",{className:"profile_resources_grid--stripeBannerContainer--xRX1g"},l.createElement(lq.S,{isFirstTimeLoading:o})),(()=>{let e=l.createElement(g_,null,l.createElement(_,null));if((0,p.kc)().cmty_m10n_turn_creator_dash_off||"loading"===d.status)return e;if("loaded"!==d.status||d.errors?.length)return a(aJ.F.enqueue({message:(0,k.t)("community.actions.unable_to_load_creator_stats"),error:!0})),e;{let e=d.data.userMonetizationMetadata?.stripeCmtyCreatorStatsMeta,t={num_purchases:e?.numPurchases||e?.num_purchases||0,all_time_total_earned:e?.allTimeTotalEarned||e?.all_time_total_earned||0};return l.createElement(gp,{totalViewCount:w,metricValueStyle:E,metricLabelStyle:h,totalPurchases:t[fU.VU.NUM_PURCHASES],totalEarned:(0,c$.up)(t[fU.VU.ALL_TIME_TOTAL_EARNED])},l.createElement(_,null))}})(),l.createElement("div",{className:"profile_resources_grid--divider--GZynB"}),b?l.createElement(gR,{paidResources:e}):l.createElement("div",{className:f6},l.createElement("div",{className:"profile_resources_grid--profileMetricsStatsEmptyStateIcon--DvLAr"},l.createElement(gF,null)),l.createElement("div",{className:f7},v),l.createElement("div",{className:ge},y)))}var gP=a(239671),gD=a(217288);let gM=(0,eg.r1)(ie.cX);function gB({profile:e}){let[t,a]=l.useState(!1),r=(0,e_.md)(gM),n=(0,s.wA)();if(t||r.data)return l.createElement(l.Fragment,null);let i=l.createElement("div",null,(0,k.tx)("community.profile.creator_banner.you_can_now_add_image_and_video_previews"),l.createElement(eG.L0,{href:"https://help.figma.com/hc/en-us/articles/22166943560983-Grow-your-audience-on-Community#mediapreviews",trackingProperties:{profileId:e.id},target:"_blank"},(0,k.tx)("community.learn_more"))),o={id:uw.om.CommunityResourceCreatorBanner,bannerType:uw.x1.INFO,icon:gD.A,iconSize:"large",mainText:(0,k.t)("community.profile.creator_banner.lets_spruce_things_up"),description:i,dismissible:!0,positionStatic:!0};return l.createElement(eG.fu,{name:"Profile Creator Upsell Banner",properties:{name:"profile_creator_upsell_banner",profileId:e.id}},l.createElement(ub.C,{content:o,editorType:gP.nT.Design,onDismiss:()=>{n(t5.b({[ie.cX]:!0})),a(!0),(0,ei.sx)("cmty_profile_creator_upsell_banner_dismissed",{profileId:e.id})}}))}var gU=a(560718),gV=a(688734),gH=(e=>(e.COPY_LINK="Copy profile link",e.RESTRICT_USER="Restrict user",e.UNRESTRICT_USER="Unrestrict user",e))(gH||{});let gW=e=>{switch(e){case"Copy profile link":return(0,k.t)("community.profiles.copy_profile_link");case"Restrict user":return(0,k.t)("community.profiles.restrict_user");case"Unrestrict user":return(0,k.t)("community.profiles.unrestrict_user");default:return""}};function gj(){let e=(0,s.wA)(),t=(0,eJ.iZ)(),a=(0,s.d4)(e=>e.dropdownShown?.data?.profile),r=(0,s.d4)(e=>e.dropdownShown?.data?.targetRect);if(!a)return l.createElement(l.Fragment,null);let n=a.is_restricted_by_current_user,i=()=>{e(a8.lW({stringToCopy:`${window.location.origin}${(0,uM.bL)(a.profile_handle)}`}))},o=a=>{e(_X._8({blockedProfileId:a,profileId:t?.community_profile_id||"",onSuccess:()=>{e(aJ.F.enqueue({message:"Restricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{m(a)}}})),(0,ei.sx)("comment_profile_restricted",{restricted_by_profile_id:t?.community_profile_id,restricted_profile_id:a,entry_point:"profile_page"})}}))},c=()=>{e((0,e$.to)({type:gV.H,data:{onBlock:()=>o(a.id),confirmationTitle:`Restrict ${a.name}?`,confirmButtonText:"Restrict"}}))},d=a=>{e(_X._8({blockedProfileId:a,profileId:t?.community_profile_id||"",onSuccess:()=>{e(aJ.F.enqueue({message:"Restricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{m(a)}}})),(0,ei.sx)("comment_profile_restricted",{restricted_by_profile_id:t?.community_profile_id,restricted_profile_id:a,entry_point:"profile_page"})}}))},m=a=>{e(_X.dL({blockedProfileId:a,profileId:t?.community_profile_id||"",onSuccess:()=>{e(aJ.F.enqueue({message:"Unrestricted this user's comments",type:"profile-restricted-change",button:{text:"Undo",action:()=>{d(a)}}})),(0,ei.sx)("comment_profile_unrestricted",{unrestricted_by_profile_id:t?.community_profile_id,unrestricted_profile_id:a,entry_point:"profile_page"})}}))},u=[{displayText:gW("Copy profile link")}];return(t?.community_profile_id&&a.entity_type===l7.o1.USER&&(n?u.push({displayText:gW("Unrestrict user")}):u.push({displayText:gW("Restrict user")})),r)?l.createElement(aF.j,{dispatch:e,items:u,showPoint:!0,parentRect:r,onSelectItem:(e,t)=>{"Copy profile link"===e.displayText?i():"Restrict user"===e.displayText?c():"Unrestrict user"===e.displayText&&m(a.id)},minWidth:96}):null}gj.displayName="ProfileMoreActionsDropdown";var g$=a(728859);function gG(e){let t=(0,J.Um)(),a=l.useRef(null),r=!!(t&&t.type===gU.N9),n=(0,s.wA)(),i=l.useCallback(()=>{n(z.oB())},[n]);return l.useEffect(()=>(window.addEventListener("scroll",i,!1),()=>{window.removeEventListener("scroll",i,!1)}),[i]),l.createElement("div",null,l.createElement(eA.K0,{svg:g$.A,ref:a,onClick:r=>{r.stopPropagation();let o=a.current;t?i():o&&n(z.j7({type:gU.N9,data:{profile:e.profile,targetRect:o.getBoundingClientRect()}}))},className:r?"profile_more_actions_button--iconButtonSelected--d85bU profile_more_actions_button--iconButton--RVCRS raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6":"profile_more_actions_button--iconButton--RVCRS raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6","data-tooltip-type":eL.Ib.TEXT,"data-tooltip":(0,k.t)("community.profiles.profile_actions")}),r&&l.createElement(gj,null))}gG.displayName="ProfileMoreActionsButton";var gY=a(183297),gz=a(708389);let gQ=new class{constructor(){this.CommunityResourceSavesSchemaValidator=(0,sb.ch)(),this.getCommunityResourceSaves=e=>this.CommunityResourceSavesSchemaValidator.validate(({xr:t})=>t.getPaginated("/api/resource_saves",sb.td.toAPIParameters(e))),this.CommunityUserResourceInstallsSchemaValidator=(0,sb.ch)(),this.getCommunityUserResourceInstalls=e=>this.CommunityUserResourceInstallsSchemaValidator.validate(({xr:t})=>t.getPaginated("/api/resources/installed/user",sb.td.toAPIParameters(e))),this.ProfileHasLikesSchemaValidator=(0,sb.vh)(),this.profileHasLikes=()=>this.ProfileHasLikesSchemaValidator.validate(async({xr:e})=>await e.get("/api/profile/has_likes"))}},gK=gz.f.byProperty("saved_at",gz.f.BY_DATETIME);function gq(){let[e,t]=l.useState([]),[a,r]=l.useState([]),[n,i]=l.useState([]),[o,s]=l.useState([]),[c,d]=l.useState(void 0),[m,_]=l.useState(void 0),[p,f]=l.useState(!1),[g,E]=l.useState(!1),h=o=>{Promise.all([v(o),y(o)]).then(([l,c])=>{let d=l?.meta.hub_files||[],m=c?.meta.plugins||[],u=c?.meta.widgets||[],_=e,p=a,f=n;o?.reset&&(_=[],p=[],f=[]);let{mergedResults:g,unmergedResultsList:[E,h,v]}=(0,gY.n0)([[..._,...d],[...p,...m],[...f,...u]],gK);o?.reset?s(g):s(e=>[...e,...g]),t(E),r(h),i(v)})},v=e=>{let t=c;if(e?.reset&&(t=void 0),null!==t&&!p)return f(!0),gQ.getCommunityResourceSaves({cursor:t,pageSize:30}).then(e=>(d(e.data.pagination.nextPage),e.data)).finally(()=>{f(!1)})},y=e=>{let t=m;if(e?.reset&&(t=void 0),null!==t&&!g)return E(!0),gQ.getCommunityUserResourceInstalls({cursor:t,pageSize:30}).then(e=>(_(e.data.pagination.nextPage),e.data)).finally(()=>{E(!1)})};(0,u.h)(()=>{h()});let b=p||g;return l.createElement(l.Fragment,null,l.createElement("div",{className:f2},l.createElement("div",{className:f4},b||0!==o.length?l.createElement(l9,{adtlClassName:l5("profile"),resources:o,viewContext:"ProfileSavesView",showMoreCallback:h}):l.createElement("div",{className:"profile_resources_grid--emptySavesTabContainer--4oQx-"},l.createElement(gX,null)),l.createElement("div",{className:"profile_resources_grid--loadingMoreContainer--jp4W1 profile_resources_grid--loadingContainer--hsPEQ"},b&&l.createElement(tP.kt,null)))))}function gZ(){return l.createElement("svg",{width:"86",height:"126",viewBox:"0 0 86 126",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.1772 97.1417L43 94.6L39.8228 97.1417L38.5735 95.58L43 92.0388L47.4266 95.58L46.1772 97.1417ZM36.6457 99.6835L35.3963 98.1217L29.042 103.205L30.2914 104.767L36.6457 99.6835ZM27.1142 107.309L25.8648 105.747L19.5105 110.83L20.7599 112.392L27.1142 107.309ZM17.5827 114.934L16.3333 113.372L9.97901 118.456L11.2284 120.017L17.5827 114.934ZM8.05125 122.559L6.80185 120.997L3.62469 123.539C2.96993 124.063 2 123.597 2 122.758V118.933H0V122.758C0 125.274 2.90979 126.672 4.87408 125.101L8.05125 122.559ZM0 115.108H2V107.457H0V115.108ZM0 103.632H2V95.9812H0V103.632ZM0 92.156H2V84.5054H0V92.156ZM0 80.6801H2V73.0296H0V80.6801ZM0 69.2043H2V61.5538H0V69.2043ZM0 57.7285H2V50.078H0V57.7285ZM0 46.2527H2V38.6022H0V46.2527ZM0 34.7769H2V27.1263H0V34.7769ZM0 23.3011H2V15.6505H0V23.3011ZM0 11.8253H2V8C2 6.90362 2.29224 5.88157 2.80175 5.00098L1.07063 3.99936C0.389718 5.1762 0 6.54259 0 8V11.8253ZM3.99936 1.07063L5.00097 2.80175C5.88157 2.29224 6.90362 2 8 2H11.8889V0H8C6.54259 0 5.1762 0.389719 3.99936 1.07063ZM15.7778 0V2H23.5556V0H15.7778ZM27.4444 0V2H35.2222V0H27.4444ZM39.1111 0H46.8889V2H39.1111V0ZM50.7778 0V2H58.5556V0H50.7778ZM62.4444 0V2H70.2222V0H62.4444ZM74.1111 0V2H78C79.0964 2 80.1184 2.29224 80.999 2.80175L82.0006 1.07063C80.8238 0.389718 79.4574 0 78 0H74.1111ZM84.9294 3.99936L83.1983 5.00097C83.7078 5.88157 84 6.90362 84 8V11.8253H86V8C86 6.54259 85.6103 5.1762 84.9294 3.99936ZM86 15.6505H84V23.3011H86V15.6505ZM86 27.1264H84V34.7769H86V27.1264ZM86 38.6022H84V46.2527H86V38.6022ZM86 50.078H84V57.7285H86V50.078ZM86 61.5538H84V69.2043H86V61.5538ZM86 73.0296H84V80.6802H86V73.0296ZM86 84.5054H84V92.156H86V84.5054ZM86 95.9812H84V103.632H86V95.9812ZM86 107.457H84V115.108H86V107.457ZM86 118.933H84V122.758C84 123.597 83.0301 124.063 82.3753 123.539L79.1981 120.997L77.9488 122.559L81.1259 125.101C83.0902 126.672 86 125.274 86 122.758V118.933ZM74.7716 120.017L76.021 118.456L69.6667 113.372L68.4173 114.934L74.7716 120.017ZM65.2401 112.392L66.4895 110.83L60.1352 105.747L58.8858 107.309L65.2401 112.392ZM55.7086 104.767L56.958 103.205L50.6037 98.1217L49.3543 99.6835L55.7086 104.767Z",fill:"var(--color-icon-tertiary, $figmaFGBlack3Opaque)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42 49V60H44V49H55V47H44V36H42V47H31V49H42Z",fill:"var(--color-icon-tertiary, $figmaFGBlack3Opaque)"}))}function gX(){return l.createElement("div",{className:S.cx.flex.itemsCenter.flexColumn.gap16.$},l.createElement(gZ,null),l.createElement("div",{className:S.cx.flex.flexColumn.gap8.alignCenter.$},l.createElement("h2",{className:S.cx.font14.fontMedium.$},(0,k.tx)("community.saves.no_saves_title")),l.createElement("p",{className:S.cx.font11.$},(0,k.tx)("community.saves.no_saves_subtitle"))),l.createElement(tF.nR,{target:"_blank",onClick:()=>{m.Ay.push("/community")}},(0,k.tx)("community.explore_resources")))}var gJ=a(348425),g0=a(306665),g1=a(26096),g2=a(327115);class g4 extends l.Component{constructor(){super(...arguments),this.getProfileLink=()=>{if(this.props.profile&&this.props.profile.profile_handle)return`figma.com/@${this.props.profile.profile_handle}`;let e=this.props.profile.id;return`figma.com/profile/${e}`},this.getProfileLinkText=()=>{let e=this.getProfileLink(),t=l.createElement(tF.N_,{href:`https://${e}`,className:g0.nf,trusted:!0},e);return this.props.profile.primary_user_id?(0,k.tx)("community.profiles.your_profile_is_visible_to_the_public_at",{link:t}):this.props.profile.entity_type===l7.o1.TEAM?(0,k.tx)("community.profiles.your_teams_profile_is_visible_to_the_public_at",{link:t}):this.props.profile.entity_type===l7.o1.ORG?(0,k.tx)("community.profiles.your_organizations_profile_is_visible_to_the_public_at",{link:t}):void 0}}render(){return this.props.profile?l.createElement("div",{className:this.props.className||""},l.createElement("div",{className:g0.cI},l.createElement(gJ.t,{svg:g1.A,fallbackSvg:g2.A,useOriginalSrcFills_DEPRECATED:!0,className:g0.q3}),l.createElement("span",{className:g0._M},this.getProfileLinkText()))):null}}g4.displayName="PublicProfileBanner";var g8=a(754961),g3=a(573812);let g5=(0,ik.jz)(i0.d8i),g9=(0,ik.jz)(i0.wOr);function g6(e){let{canEdit:t,canSellOnCommunity:a}=e,r=(0,eJ.iZ)(),n=l.useCallback(()=>{if(r)return(0,fh.tx)(r)},[r]);return r&&t?l.createElement(l.Fragment,null,a?l.createElement("div",{role:"link",tabIndex:0,onClick:n,className:gi},(0,k.tx)("community.profiles.contact_creator_support")):l.createElement("div",{className:"profile_resources_grid--sellOnCommunity--7r6cV"},l.createElement(tF.CY,{href:"https://www.figma.com/community-creators",className:gi,target:"_blank",trusted:!0},(0,k.tx)("community.profiles.interested_in_selling_your_resources")))):l.createElement(l.Fragment,null)}function g7(e){let{updateProfile:t,canEdit:a,isViewingCurrentUserProfile:r,showFollowsModal:n}=e,i=(0,fE.t)(e.profile.id),o=(0,iv.si)(i),s=(0,p.kc)().cmty_deprecate_browse_as_admin?o:a;return i?l.createElement(Ee,{profile:i,canEdit:s,updateProfile:t,isViewingCurrentUserProfile:r,showFollowsModal:n}):l.createElement(l.Fragment,null)}function Ee(e){let{profile:t,canEdit:a,updateProfile:r,isViewingCurrentUserProfile:n}=e,i=e.profile.name,o=t.profile_handle||null,s=e=>a=>{e in t&&t[e]!==a&&r({[e]:a})},c=(a||t.description)&&l.createElement(fp,{value:t.description||"",placeholder:(0,k.t)("community.profiles.add_a_description"),className:a?fZ:fX,submit:s("description"),formatter:f_,readOnly:!a,maxLength:160}),d=(a||t.location)&&l.createElement(fp,{value:t.location||"",placeholder:(0,k.t)("community.profiles.add_a_location"),className:a?fZ:fX,submit:s("location"),readOnly:!a,maxLength:30}),m=(a||t.website)&&l.createElement(fp,{value:t.website||"",placeholder:(0,k.t)("community.profiles.add_website_url"),className:a?fZ:fX,submit:s("website"),formatter:f_,readOnly:!a,maxLength:100}),u=(a||t.twitter)&&l.createElement(fp,{value:t.twitter||"",placeholder:(0,k.t)("community.profiles.add_x_handle"),className:a?fZ:fX,submit:s("twitter"),formatter:e=>lX.HD.test(e)?f_(`https://twitter.com/${e}`):f_(e),readOnly:!a,maxLength:100}),_=(a||t.instagram)&&l.createElement(fp,{value:t.instagram||"",placeholder:(0,k.t)("community.profiles.add_instagram_handle"),className:a?fZ:fX,submit:s("instagram"),formatter:e=>lX.Co.test(e)?f_(`https://www.instagram.com/${e}`):f_(e),readOnly:!a,maxLength:100}),p=l.createElement(fT.W,{profile:t,followClassName:"profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",followingClassName:"profile_resources_grid--followingButton--1oSba profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontPos11--2LvXf text--_fontBase--QdLsd",unfollowClassName:"profile_resources_grid--unfollowButton--MmYUn profile_resources_grid--followingButton--1oSba profile_resources_grid--followButton--iTOYw text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontPos11--2LvXf text--_fontBase--QdLsd",trackingProperties:{viewingProfileId:t.id}}),f=(0,cJ.$M)(t.follower_count),g=(0,cJ.$M)(t.following_count),E=l.createElement("div",{className:"profile_resources_grid--followsDataContainer--TnbJI"},l.createElement("div",{className:D()(fJ,{[f0]:!0}),onClick:()=>e.showFollowsModal(uM.g3.FOLLOWERS)},(0,k.tx)("community.profiles.follower_count",{followerCount:f,formattedFollowerCount:l.createElement("span",{className:f1},f)})),t.primary_user_id&&l.createElement("div",{className:D()(fJ,{[f0]:!0}),onClick:()=>e.showFollowsModal(uM.g3.FOLLOWING)},(0,k.tx)("community.profiles.following_count",{followingCount:l.createElement("span",{className:f1},g)}))),h=l.createElement("div",{className:"profile_resources_grid--profileDataHandleAndFollow--6kpYs"},l.createElement("div",{className:"profile_resources_grid--profileDataHandle--DB20D"},"@",o),t.current_user_is_followed&&l.createElement(db.v_,null)),v=l.createElement(gG,{profile:t}),y=n?null:l.createElement("div",{className:"profile_resources_grid--followMoreActionsContainer--uQNdm"},p,v),b=l.createElement(g6,{canEdit:a,canSellOnCommunity:(0,lX.kf)(t)});return l.createElement("div",null,l.createElement("h1",{className:"profile_resources_grid--profileDataName--xw46b text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI"},l.createElement(ff.G,{truncate:"end",text:i,className:"profile_resources_grid--profileNameText--WdY6t"}),l.createElement(fg.l,{profile:t,tooltip:!0})),o&&h,y,c,E,d,m,u,_,b)}(e=>{class t extends l.Component{constructor(e){super(e),this.isLoading=()=>null===this.props.resources,this.redirectToLanding=()=>{m.Ay.push("/community")},this.filterPaidResources=e=>!!e.monetized_resource_metadata,this.state={didFetchFail:!1,isLoadingStripe:!1}}componentDidUpdate(){this.props.tab===uM.g3.SAVES&&this.props.authedActiveCommunityProfileId!==this.props.profile.id&&this.props.dispatch(z.$T({...this.props.currentSelectedView,profileTab:uM.g3.RESOURCES}))}renderEmptyState(){return l.createElement("div",{className:f6},l.createElement(H.B,{svg:g8.default,useOriginalSrcFills_DEPRECATED:!0}),l.createElement("div",{className:f7},(0,k.t)("community.profiles.nothing_published_yet")),l.createElement("div",{className:ge},(0,k.t)("community.profiles.see_whats_being_created_in_figma")),l.createElement(tF.nR,{target:"_blank",onClick:this.redirectToLanding},(0,k.tx)("community.profiles.explore")))}render(){let e=[uM.g3.RESOURCES,uM.g3.FOLLOWERS,uM.g3.FOLLOWING,uM.g3.METRICS].includes(this.props.tab)?this.props.resources:[],t=((0,p.kc)().cmty_rdp_creator_nudge_email||(0,p.kc)().cmty_rdp_creator_modal)&&this.props.authedActiveCommunityProfileId===this.props.profile.id;return this.props.tab===uM.g3.METRICS?l.createElement(ft.x,{isLoading:this.isLoading(),className:f2},()=>((0,x.assertNotNullish)(e),l.createElement(gO,{paidResources:e.filter(this.filterPaidResources),primaryUserId:this.props.profile.primary_user_id}))):this.props.tab===uM.g3.SAVES?l.createElement(gq,null):l.createElement(ft.x,{isLoading:this.isLoading(),className:f2},()=>((0,x.assertNotNullish)(e),e.length>0)?l.createElement("div",{className:f4},t&&l.createElement("div",{className:"profile_resources_grid--profileResourcesGridBanner--6L4qI"},l.createElement(gB,{profile:this.props.profile})),l.createElement(l9,{adtlClassName:l5("profile"),resources:e,viewContext:e9.e0.COMMUNITY_HUB_PROFILE})):this.renderEmptyState())}}t.displayName="PublicProfileResourcesGrid",e.ConnectedPublicProfileResourcesGrid=(0,s.Ng)((e,t)=>{let a=t.profile;return{currentUser:e.user||null,isWithinProfileScope:(0,iv.E1)(a,e),currentOrgId:e.currentUserOrgId||null,authedActiveCommunityProfileId:e.authedActiveCommunityProfile?.id||null,currentSelectedView:e.selectedView}})(t);let a=e=>{let t=e.current_hub_file_version_id?e.current_hub_file_version_id:e.current_plugin_version_id||"";return e.versions[t].created_at},r=ro.M4.Query({fetch:async e=>{let{profileId:t}=e,[a,r,n,i,o]=await Promise.all([fv.H.getProfile({profileId:t}),fy.V.getProfile({profileId:t,currentOrgId:void 0}),fb.U.getProfile({profileId:t,currentOrgId:void 0}),(0,_x.UM)(t),(0,_x.Jr)(t)]);return{hubFiles:a.data.meta,pluginsAndWidgets:[...r.data.meta,...n.data.meta,...i,...o]}},output:e=>{let{profileId:t,currentOrgId:r}=e.args,n=(0,co.$2)((0,co.i8)(e.data.pluginsAndWidgets),r),i=Object.values((0,co.xK)(n,t)),o=(0,dd.uj)(e.data.hubFiles,t);return(0,B.sortByDateFn)([...o,...i],a)}});e.PublicProfileResourcesGrid=function(t){let a=(0,eq.dq)(),[n]=(0,ro.IT)(r({profileId:t.profile.id,currentOrgId:a}));return l.createElement(e.ConnectedPublicProfileResourcesGrid,{...t,resources:n.data})}})(i||(i={}));let Et=i.PublicProfileResourcesGrid;(e=>{class t extends l.Component{constructor(){super(...arguments),this.updateProfile=e=>{this.props.dispatch(_X.aP({profileId:this.props.profileId,...e}))},this.onFilesPluginsTabClick=()=>{(0,ei.sx)("Profile Resources Tab Clicked",{tabName:"resources",profileId:this.props.profileId,viewingUserId:this.props.currentUser?.id}),this.props.dispatch(z.$T({...this.props.currentSelectedView,profileTab:uM.g3.RESOURCES}))},this.onMetricsTabClick=()=>{(0,ei.sx)("Profile Resources Tab Clicked",{tabName:"metrics",profileId:this.props.profileId,viewingUserId:this.props.currentUser?.id}),(0,aS.YQ)({id:"profile-metrics-tab-clicked"}),this.props.dispatch(z.$T({...this.props.currentSelectedView,profileTab:uM.g3.METRICS}))},this.onSavesTabClick=()=>{(0,aS.YQ)({id:"cmty-profile-saves"}),(0,ei.sx)("Profile Resources Tab Clicked",{tabName:uM.g3.SAVES,profileId:this.props.profileId,viewingUserId:this.props.currentUser?.id}),this.props.dispatch(z.$T({...this.props.currentSelectedView,profileTab:uM.g3.SAVES}))},this.showFollowsModal=e=>{this.props.dispatch(z.$T({...this.props.currentSelectedView,profileTab:e}))}}render(){let e=l.createElement(Et,{...this.props,tab:this.props.profileTab}),t=this.props.profile.primary_user_id&&this.props.authedActiveCommunityProfileId===this.props.profile.id?l.createElement(l.Fragment,null,l.createElement("button",{className:D()(fY,fz,{[fK]:this.props.profileTab===uM.g3.SAVES}),onClick:this.onSavesTabClick,tabIndex:0,"data-onboarding-key":"cmty-profile-save-tab"},(0,k.tx)("community.profiles.saved"),l.createElement(H.B,{svg:g3.A,className:go,"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":(0,k.t)("community.only_visible_to_you")}))):l.createElement(l.Fragment,null),a=l.createElement("div",{className:"profile_resources_grid--profileDataContainer--e4QVX text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(g7,{profile:this.props.profile,canEdit:this.props.canEdit,updateProfile:this.updateProfile,isViewingCurrentUserProfile:this.props.authedActiveCommunityProfileId===this.props.profile.id,showFollowsModal:this.showFollowsModal}),this.props.isWithinProfileScope&&this.props.communityStatusOnProfile!==dc.Cw.ADMIN_IN_DIFFERENT_WORKSPACE&&l.createElement(iL.z,{query:`(min-width: ${g9}px)`},l.createElement(g4,{profile:this.props.profile,className:ga})),!this.props.isWithinProfileScope&&l.createElement(fw.H,{profile:this.props.profile,className:ga})),r=!!(this.props.isWithinProfileScope&&(0,lX.af)(this.props.currentUser))||!!(0,p.kc)().cmty_expand_extension_m10n&&!!this.props.profile.associated_users?.find(e=>e.user_id===this.props.currentUser?.id&&!0===e.is_primary_user),n=l.createElement(fk,{user:this.props.currentUser},l.createElement("div",{className:fG},l.createElement("div",{className:D()(fY,fz,{[fK]:this.props.profileTab===uM.g3.RESOURCES}),onClick:this.onFilesPluginsTabClick,role:"button",tabIndex:0},(0,k.tx)("community.profiles.resources")),t,r&&l.createElement(eG.fu,{name:e9.e0.COMMUNITY_PROFILE_METRICS_TAB},l.createElement("div",{className:fQ},l.createElement("div",{className:D()(fY,fz,fq,{[fK]:this.props.profileTab===uM.g3.METRICS}),onClick:this.onMetricsTabClick,role:"button",tabIndex:0},(0,k.tx)("community.seller.profiles.metrics"),l.createElement(H.B,{svg:g3.A,className:go,"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":(0,k.t)("community.only_visible_to_you")})))))),i=l.createElement("div",{className:fG},l.createElement("div",{className:D()(fY,fz,{[fK]:this.props.profileTab===uM.g3.RESOURCES}),onClick:this.onFilesPluginsTabClick,role:"button",tabIndex:0},(0,k.tx)("community.profiles.resources")),t,r&&l.createElement(eG.fu,{name:e9.e0.COMMUNITY_PROFILE_METRICS_TAB},l.createElement(fL.p,null,l.createElement(fP,{onboardingKey:fC})),l.createElement("div",{className:fQ},l.createElement("div",{className:D()(fY,fz,fq,{[fK]:this.props.profileTab===uM.g3.METRICS}),onClick:this.onMetricsTabClick,role:"button",tabIndex:0},l.createElement("span",{"data-onboarding-key":fC},(0,k.tx)("community.seller.profiles.metrics")),l.createElement(H.B,{svg:g3.A,className:go})))));return l.createElement(l.Fragment,null,l.createElement(iL.z,{query:`(min-width: ${g5}px)`},i,l.createElement("div",{className:f9},a,e)),l.createElement(iL.z,{query:`(max-width: ${g5-1}px)`},l.createElement("div",{className:f9},a,n,e)))}}t.displayName="PublicProfileResourcesGridAndData",e.ConnectedPublicProfileResourcesGridAndData=(0,s.Ng)((e,t)=>{let a=t.profile,r=uM.g3.RESOURCES,n=!1;if("selectedView"in e){let t=e.selectedView?.profileTab;n=(0,iv.E1)(a,e),t&&(t!==uM.g3.METRICS||n)&&(r=t)}return{profileId:a.id,currentUser:"user"in e?e.user:null,canEdit:(0,iv.jG)(a,e),isWithinProfileScope:n,currentSelectedView:"selectedView"in e?e.selectedView:null,profileTab:r,communityStatusOnProfile:(0,dc.kJ)(e,a),authedActiveCommunityProfileId:"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile?.id??null:null}})(t)})(o||(o={}));let Ea=o.ConnectedPublicProfileResourcesGridAndData;function Er({currentUser:e,currentSelectedView:t,authedActiveCommunityProfileId:a,currentProfile:r,dispatch:n}){let i=(0,s6.S)(t?.profileTab,Ei);return l.useEffect(()=>{if(r&&i)return n((0,e$.to)({type:fr.w,data:{currentSelectedView:t,profile:r,currentUserProfileId:e?.community_profile_id||null,authedActiveCommunityProfileId:a,dispatch:n}})),()=>{n(e$.Ce())}},[a,i,r,t,e?.community_profile_id,n]),l.createElement(ft.x,{className:"community_hub_public_profile--loadingContainer--GUi6s",isLoading:!r},()=>l.createElement(eG.fu,{name:e9.e0.COMMUNITY_HUB_PROFILE,properties:{handle:r.profile_handle,profileId:r.id}},l.createElement("div",{className:e?"community_hub_public_profile--signedInProfileContainer--8jWX9":"community_hub_public_profile--signedOutProfileContainer--nIxAf"},l.createElement("div",null,l.createElement(fs,{profile:r}),l.createElement(Ea,{profile:r})),!(0,d.y3)()&&l.createElement("div",{className:"community_hub_public_profile--footerContainer--L38Gh"},l.createElement(sU,null)),l.createElement(cg.Ay,null))))}Er.displayName="CommunityHubProfile";let En=(0,s.Ng)(e=>({currentUser:"user"in e?e.user:null,currentSelectedView:"selectedView"in e?e.selectedView:null,authedActiveCommunityProfileId:"authedActiveCommunityProfile"in e?e.authedActiveCommunityProfile?.id??null:null}))(Er),Ei=fe()(uM.g3,["FOLLOWERS","FOLLOWING"]),Eo=ro.M4.Query({fetch:async e=>(await fa.s.getHandle({handle:e})).data.meta});function El(){let{profileHandle:e}=(0,uF.Rd)(uM.xn),[t]=(0,ro.IT)(Eo(e)),a=(0,s.wA)();return l.useEffect(()=>{"errors"===t.status&&(404===t.errors.status&&m.Ay.redirect("/404"),a(W.s.error((0,k.t)("community.actions.error_fetching_profile_information"))))},[a,t]),l.createElement(En,{currentProfile:t.data?.profile??null})}var Es=a(30970);function Ec({category:e,rdpImpressionId:t}){let a=(0,sS.N)(`(max-width: ${i0._C6})`),{parent_category:r}=e||{parent_category:null},n=(0,s6.S)(r?.url_slug,sO.LJ),i=(0,s6.S)(e.url_slug,sO.LJ),o=!!t,s=[r&&n&&{text:(0,k.Yd)(r.i18n_meta.title,r.title),linkProps:{to:new sP.IE({categorySlug:n}).to,trackingEventName:"cmty_category",trackingProperties:{name:"category_breadcrumb_clicked",category_slug:n,category_text:r.title,rdpImpressionId:t,is_mobile:a}}},i&&{text:(0,k.Yd)(e.i18n_meta.title,e.title),linkProps:{to:new sP.IE({categorySlug:i}).to,trackingEventName:"cmty_category",trackingProperties:{name:"category_breadcrumb_clicked",category_slug:i,category_text:e.title,rdpImpressionId:t,is_mobile:a}}}].filter(Boolean);return l.createElement(sA,{breadcrumbs:s,surface:o?"resource":"category"})}function Ed({category:e,showTags:t=!1}){let a=(0,s6.S)(e.url_slug,sO.LJ);if(!a||e.selected_tag)return null;let r=t?e.tags.map(e=>({to:new sP.IE({categorySlug:a}).href+`/${e.url_slug}`,title:e.text,translatedTitle:(0,k.Yd)(e.i18n_meta.text,e.text),urlSlug:e.text})):e.child_categories?e.child_categories.filter(e=>(0,s6.N)(e.url_slug,sO.LJ)&&"other"!==e.title.toLowerCase()).map(e=>({to:new sP.IE({categorySlug:e.url_slug}).href,title:e.title,translatedTitle:(0,k.Yd)(e.i18n_meta.title,e.title),urlSlug:e.url_slug})):[];return 0===r.length?null:l.createElement("div",{className:"category_links_container--subcategoriesContainer--6e1tK"},r.map(({to:e,title:a,translatedTitle:r,urlSlug:n})=>l.createElement(eG.o3,{key:e,trackingEventName:"cmty_category",trackingProperties:{name:t?"tag_link_clicked":"subcategory_link_clicked",category_slug:n,text:a,to:e},to:e,className:"category_links_container--subcategory--Wzmn3 text--fontPos13--xW8hS text--_fontBase--QdLsd"},r)))}var Em=a(890710);function Eu({categorySlug:e,category:t,isTagsEnabled:a,isFeedPage:r=!1}){let n=(0,sS.N)(`(max-width: ${i0._C6})`),{parent_category:i}=t||{parent_category:null},o=(0,s6.S)(i?.url_slug,sO.LJ),s=r&&i&&o;return t?l.createElement("div",{className:"category_banner--categoryBannerRedesign--Ri6Fg"},l.createElement("div",{className:D()("category_banner--headerContainer--Wysim","category_banner--breadcrumbsPadding--o8hp4")},l.createElement(Ec,{category:t}),l.createElement("div",{className:D()("category_banner--categoryHeaderRedesign--NN5On text--fontPos24Whyte--gYiFz text--_fontBaseWhyte--efAjI",{[S.cx.flexColumn.$]:n})},s&&l.createElement(l.Fragment,null,l.createElement(eG.o3,{to:new sP.IE({categorySlug:o}).to,trackingEventName:"cmty_category",trackingProperties:{name:"category_breadcrumb_clicked",category_slug:i.url_slug,from_category_slug:e,is_mobile:n},className:"category_banner--categoryBannerParent--bx7AV"},n?l.createElement("div",{className:"category_banner--mobileBackButton--hZ3hI"},l.createElement(H.B,{svg:Em.A,style:{fill:(0,uz.TD)("default")}})):(0,k.Yd)(i.i18n_meta.title,i.title)),!n&&l.createElement(H.B,{svg:p0.A,style:{fill:(0,uz.TD)("default")}})),l.createElement("h1",null,function(e){let t=e.selected_tag,a=t?.i18n_meta.h1_title||e.i18n_meta.title,r=t?.h1_title||e.title;return(0,k.Yd)(a,r)}(t))),l.createElement("p",{className:"category_banner--categoryDescriptionRedesign--chvSi text--fontPos13--xW8hS text--_fontBase--QdLsd"},function(e){let t=e.selected_tag,a=t?.i18n_meta.description||e.i18n_meta.description,r=t?.description||e.description;return(0,k.Yd)(a,r)}(t))),l.createElement(Ed,{category:t,showTags:a&&!!t.tags.length}),(0,p.kc)().piper_cmty_home_banner&&e===sO.LJ.presentations&&l.createElement("div",{className:"category_banner--categorySlidesPromoBanner--itNB4"},l.createElement(p8,null))):null}function E_({category:e}){return e&&e.extended_description?l.createElement("div",{className:"category_extended_description--extendedDescriptionContainer--TTPGo"},l.createElement("div",{className:"category_extended_description--title--hucIj text--fontPos24--YppUD text--_fontBase--QdLsd"},(0,k.tx)("categories.about")),l.createElement("p",{className:"category_extended_description--extendedDescription--KngAg text--fontPos13--xW8hS text--_fontBase--QdLsd"},function(e){let t=e.selected_tag,a=t?.i18n_meta.extended_description||e.i18n_meta.extended_description,r=t?.extended_description||e.extended_description;return(0,k.Yd)(a,r)}(e))):null}var Ep=a(927092),Ef=a(117688),Eg=a(236705),EE=a(83958);let Eh={files:Ef.A,plugins:Eg.A,widgets:EE.A,profiles:Ep.A,mixed:g8.default};function Ev(e){if(e.isError)return null;let t=l.createElement("span",{className:"empty_search_state--bold--s4eFD"},e.query);switch(e.resourceType){case pe.L.SearchResourceTypes.FILES:if(e.view.price===_6.C.FREE)return(0,k.tx)("community.search.empty_state_hub_files_free",{query:t});if(e.view.price===_6.C.PAID)return(0,k.tx)("community.search.empty_state_hub_files_paid",{query:t});return(0,k.tx)("community.search.empty_state_hub_files",{query:t});case pe.L.SearchResourceTypes.PLUGINS:if(e.view.price===_6.C.FREE)return(0,k.tx)("community.search.empty_state_public_plugins_free",{query:t});if(e.view.price===_6.C.PAID)return(0,k.tx)("community.search.empty_state_public_plugins_paid",{query:t});return(0,k.tx)("community.search.empty_state_public_plugins",{query:t});case pe.L.SearchResourceTypes.WIDGETS:if(e.view.price===_6.C.FREE)return(0,k.tx)("community.search.empty_state_public_widgets_free",{query:t});if(e.view.price===_6.C.PAID)return(0,k.tx)("community.search.empty_state_public_widgets_paid",{query:t});return(0,k.tx)("community.search.empty_state_public_widgets",{query:t});case pe.L.SearchResourceTypes.PROFILES:return(0,k.tx)("community.search.empty_state_creators",{query:t});case pe.L.SearchResourceTypes.MIXED:default:if(e.view.price===_6.C.FREE)return(0,k.tx)("community.search.no_resources_matching_free",{query:t});if(e.view.price===_6.C.PAID)return(0,k.tx)("community.search.no_resources_matching_paid",{query:t});return(0,k.tx)("community.search.no_resources_matching",{query:t})}}function Ey(e){return l.createElement("div",{className:"empty_search_state--emptyState--2TAUS search_results_view--emptyState--HtHm1 tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd"},l.createElement(H.B,{className:"empty_search_state--emptyStateIllustrations--BnydB search_results_view--emptyStateIllustrations--CN9Y8",svg:Eh[e.resourceType],useOriginalSrcFills_DEPRECATED:!0}),l.createElement("div",{className:"empty_search_state--emptyStateTextWrapper--n2j3d search_results_view--emptyStateTextWrapper--zg-Cu"},l.createElement("div",{className:"empty_search_state--emptyStateText--Bv9hN search_results_view--emptyStateText---YT8b ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},l.createElement(Ev,{...e}))))}var Eb=a(592597);function Ew(){var e;let t;let a=(0,lJ.YQ)()(),{categorySlug:r,tagSlug:n}=(0,uF.Rd)(sP.IE),i=(0,uF.vA)(sP.IE),o=(0,l.useMemo)(()=>(r===sO.LJ.presentations&&void 0===i.resource_type&&(i.editor_type=_o.k.Editors.SLIDES,i.resource_type=pe.L.BrowseResourceTypes.FILES),{resourceType:i.resource_type??pe.L.BrowseResourceTypes.MIXED,editorType:i.editor_type??_o.k.Editors.ALL,price:i.price??_6.C.ALL,sortBy:i.sort_by??(0,_I.H)()}),[i,r]),{trackResourceImpression:c,flushAndResetResourceImpressions:u}=p9({extraProperties:{sort:i.sort_by,resourceType:i.resource_type}}),[_,p]=(0,l.useState)(!0),[f,g]=(0,l.useState)(!1),E=(0,sS.N)(`(max-width: ${i0.d8i})`),h=(0,sS.N)(`(max-width: ${i0.g8m})`),[v]=(0,ro.IT)((0,Eb.Zp)({categorySlug:r,tagSlug:n})),[y]=(0,ro.IT)((0,Eb.R5)(r));l.useEffect(()=>{u()},[r,u]);let b="loaded"!==v.status?null:v.data,w=n||"loaded"!==y.status?null:y.data,{resources:T,loadMore:I,canLoadMore:C,loading:x}=py((e=b?.editor_types[0],{...o,category:r,tags:n,editorType:e||o.editorType,limit:48}),"loaded"===v.status),N=(0,l.useMemo)(()=>{let e=new Set;return w&&w.shelf_content.forEach(t=>{e.add(t.id)}),e},[w]),k=(0,l.useMemo)(()=>T.filter(e=>!N.has(e.id)),[T,N]),L=(0,l.useMemo)(()=>{let e=(w?.shelf_content??[]).filter(e=>"viewer_mode"in e||"is_widget"in e);return(0,lX.o7)(e,{editor_type:o.editorType,price:o.price,resourceType:o.resourceType})},[w,o.editorType,o.price,o.resourceType]),A=(0,l.useMemo)(()=>[...L,...k],[L,k]),R=(0,l.useRef)(null),F=(0,s.d4)(e=>!!(e.authedActiveCommunityProfile?.team_id||e.authedActiveCommunityProfile?.org_id));(0,l.useEffect)(()=>{x||(_&&p(!1),g(!1))},[_,x]);let O=b?.selected_tag?.meta_title||b?.meta_title;if((0,l.useEffect)(()=>{O&&(document.title=O+" | Figma")},[O]),!b)return null;if(_&&(x||"loading"===v.status||"loading"===y.status))return l.createElement("div",{className:S.cx.p10.$},l.createElement(sV.y$,null));let P=!x&&0===A.length,D=x&&!f,M=o.resourceType===pe.L.BrowseResourceTypes.PLUGINS&&(D||A.every(l0.I0));return t=P?l.createElement(Ey,{resourceType:o.resourceType,query:r,view:o}):M?l.createElement(pm,{plugins:A,onIntersectionChange:(e,t)=>{t&&c(e)},isOrgTeamBrowsing:F,isLoading:D}):l.createElement(ph,{resources:A,maxGridDim:{cols:h?2:E?3:4},mobileMaxGridDim:{cols:1},onIntersectionChange:(e,t)=>{t&&c(e)},isLoading:D,loadingTileCount:8}),l.createElement(l.Fragment,null,l.createElement(Eu,{category:b,categorySlug:r,isTagsEnabled:a}),l.createElement("div",{className:"category_page--feedContainer--9f3SB text--fontPos15--IR8IB text--_fontBase--QdLsd"},l.createElement(ps,{allowedEditorTypes:b.editor_types,containerRef:R,filterState:o,onUpdate:e=>{let t={};e.forEach(({key:e,value:a})=>{t[e]=a});let a={...o,...t};b.editor_types[0]&&(a.editorType=b.editor_types[0]),m.Ay.replace(new sP.IE({categorySlug:r,tagSlug:n},{resource_type:a.resourceType,editor_type:a.editorType,price:a.price}).href)},context:"category"}),l.createElement("div",{className:"category_page--feed--j1AWz text--fontPos13--xW8hS text--_fontBase--QdLsd"},t,C&&l.createElement(sW,{onClick:e=>{e.preventDefault(),I(),g(!0)},isLoading:f,isMoreToFetch:C}),l.createElement(E_,{category:b}),!(0,d.y3)()&&l.createElement("div",{className:"category_page--footerContainer--RNpoP"},l.createElement(sU,null)))))}function ET(){let{categorySlug:e,tagSlug:t}=(0,uF.Rd)(sP.IE);return l.createElement(eG.fu,{name:e9.e0.COMMUNITY_HUB_CATEGORY,properties:{category:e,tag:t}},l.createElement(Ew,null))}var EI=a(157663);let EC={All:({active:e})=>l.createElement("svg",{width:"19",height:"19",viewBox:"-1 -1 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e?l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6V2H6V6H2ZM0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V7C8 7.55228 7.55228 8 7 8H1C0.447715 8 0 7.55228 0 7V1ZM2 17V13H6V17H2ZM0 12C0 11.4477 0.447715 11 1 11H7C7.55228 11 8 11.4477 8 12V18C8 18.5523 7.55228 19 7 19H1C0.447715 19 0 18.5523 0 18V12ZM13 13V17H17V13H13ZM12 11C11.4477 11 11 11.4477 11 12V18C11 18.5523 11.4477 19 12 19H18C18.5523 19 19 18.5523 19 18V12C19 11.4477 18.5523 11 18 11H12ZM12 0C11.4477 0 11 0.447715 11 1V7C11 7.55228 11.4477 8 12 8H18C18.5523 8 19 7.55228 19 7V1C19 0.447715 18.5523 0 18 0H12Z",fill:"var(--color-icon-selected, #0D99FF)"}):l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6V2H6V6H2ZM0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V7C8 7.55228 7.55228 8 7 8H1C0.447715 8 0 7.55228 0 7V1ZM2 17V13H6V17H2ZM0 12C0 11.4477 0.447715 11 1 11H7C7.55228 11 8 11.4477 8 12V18C8 18.5523 7.55228 19 7 19H1C0.447715 19 0 18.5523 0 18V12ZM13 13V17H17V13H13ZM12 11C11.4477 11 11 11.4477 11 12V18C11 18.5523 11.4477 19 12 19H18C18.5523 19 19 18.5523 19 18V12C19 11.4477 18.5523 11 18 11H12ZM13 6V2H17V6H13ZM11 1C11 0.447715 11.4477 0 12 0H18C18.5523 0 19 0.447715 19 1V7C19 7.55228 18.5523 8 18 8H12C11.4477 8 11 7.55228 11 7V1Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),Files:e=>l.createElement("svg",{width:"18",height:"23",viewBox:"0 0 18 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M-0.000976562 0.00390625H11.4132L17.999 6.58969V22.0039H-0.000976562V0.00390625ZM1.99902 2.00391V20.0039H15.999V8.00391H9.99902V2.00391H1.99902ZM11.999 3.41812L14.5848 6.00391H11.999V3.41812Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),Plugins:e=>l.createElement("svg",{width:"18",height:"24",viewBox:"0 0 18 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 2C7.12831 2 6 3.10615 6 4.29412C6 4.80364 6.18423 5.32346 6.52975 5.77907C6.86869 6.22599 6.8635 6.76903 6.69667 7.1662C6.52648 7.57138 6.10414 8 5.46502 8H1.99902V21.9961H16V19.6417C15.4694 19.8705 14.8924 20 14.2942 20C11.6161 20 10 17.5466 10 15C10 12.4534 11.6161 10 14.2942 10C14.8924 10 15.4694 10.1295 16 10.3583V8H12.535C11.8959 8 11.4735 7.57138 11.3033 7.1662C11.1365 6.76903 11.1313 6.22599 11.4703 5.77907C11.8158 5.32346 12 4.80364 12 4.29412C12 3.10615 10.8717 2 9 2ZM4 4.29412C4 1.61609 6.45341 0 9 0C11.5466 0 14 1.61609 14 4.29412C14 4.89237 13.8705 5.46938 13.6417 6H16.125C17.1605 6 18 6.83947 18 7.875V11.465C18 12.1041 17.5714 12.5264 17.1662 12.6966C16.769 12.8635 16.226 12.8687 15.7791 12.5297C15.3235 12.1842 14.8037 12 14.2942 12C13.1062 12 12 13.1283 12 15C12 16.8717 13.1062 18 14.2942 18C14.8037 18 15.3235 17.8158 15.7791 17.4703C16.226 17.1313 16.769 17.1365 17.1662 17.3034C17.5714 17.4736 18 17.8959 18 18.535V22.1211C18 23.1566 17.1605 23.9961 16.125 23.9961H1.87402C0.838488 23.9961 -0.000976562 23.1566 -0.000976562 22.1211V7.875C-0.000976562 6.83947 0.838488 6 1.87402 6H4.35834C4.12951 5.46938 4 4.89237 4 4.29412Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),Widgets:e=>l.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.41421 10.5854L3.5146 8.485V5.51451V3.51451H5.5146H8.48509L10.5854 1.41421L11.9996 0L13.4138 1.41421L15.5141 3.51451H18.4846H20.4846V5.51451V8.485L22.585 10.5854L23.9992 11.9996L22.585 13.4138L20.4846 15.5142V18.4845V20.4845H18.4846H15.5143L13.4138 22.585L11.9996 23.9992L10.5854 22.585L8.48491 20.4845H5.5146H3.5146V18.4845V15.5142L1.41421 13.4138L0 11.9996L1.41421 10.5854ZM5.5146 8.485V5.51451H8.48509H9.31352L9.8993 4.92872L11.9996 2.82843L14.0999 4.92872L14.6857 5.51451H15.5141H18.4846V8.485V9.31343L19.0704 9.89921L21.1708 11.9996L19.0704 14.1L18.4846 14.6858V15.5142V18.4845H15.5143H14.6859L14.1001 19.0703L11.9996 21.1708L9.89912 19.0703L9.31334 18.4845H8.48491H5.5146V15.5142V14.6858L4.92882 14.1L2.82843 11.9996L4.92882 9.89921L5.5146 9.31343V8.485ZM13.2526 8.65802L13.9111 7.90544L12.4059 6.58843L11.7474 7.34101L8.24742 11.341L6.79623 12.9995H9H12.7962L10.7474 15.341L10.0889 16.0936L11.5941 17.4106L12.2526 16.658L15.7526 12.658L17.2038 10.9995H15H11.2038L13.2526 8.65802Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"})),Union:e=>l.createElement("svg",{width:"20",height:"24",viewBox:"0 0 20 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 6C14 8.20914 12.2091 10 10 10C7.79086 10 6 8.20914 6 6C6 3.79086 7.79086 2 10 2C12.2091 2 14 3.79086 14 6ZM16 6C16 9.31371 13.3137 12 10 12C6.68629 12 4 9.31371 4 6C4 2.68629 6.68629 0 10 0C13.3137 0 16 2.68629 16 6ZM2.25203 22C3.14012 18.5495 6.27232 16 10 16C13.7277 16 16.8599 18.5495 17.748 22H2.25203ZM10 14C14.8379 14 18.8734 17.4355 19.8 22C19.9311 22.6462 20 23.3151 20 24H18H2H0C0 23.3151 0.0688605 22.6462 0.200036 22C1.12658 17.4355 5.16208 14 10 14Z",fill:"var(--color-icon, rgba(0, 0, 0, 0.8))"}))},Ex="tag_and_search_header--tagOrSearchHeaderContainer--i-UIA text--fontPos16--oMC-G text--_fontBase--QdLsd",EN="tag_and_search_header--tagOrSearchHeaderInnerWrapper--Pb-dS",ES=(e,t)=>e.resourceType===pe.L.SearchResourceTypes.MIXED?(0,k.tx)("community.landing_page.query_header__mixed",{query:t}):e.resourceType===pe.L.SearchResourceTypes.PLUGINS?(0,k.tx)("community.landing_page.query_header__plugins",{query:t}):e.resourceType===pe.L.SearchResourceTypes.FILES?(0,k.tx)("community.landing_page.query_header__files",{query:t}):e.resourceType===pe.L.SearchResourceTypes.WIDGETS?(0,k.tx)("community.landing_page.query_header__widgets",{query:t}):e.resourceType===pe.L.SearchResourceTypes.PROFILES?(0,k.tx)("community.landing_page.query_header__profiles",{query:t}):(0,k.tx)("community.landing_page.query_header",{query:t});function Ek({tags:e,view:t}){let a=ES(t,e.map(e=>l.createElement("strong",{key:e},"#",e)));return l.createElement("div",{className:Ex},l.createElement("h1",{className:EN},a))}function EL({query:e,view:t,error:a}){return l.createElement("div",{className:D()({[Ex]:!0,"tag_and_search_header--mobileSearchHeaderContainer--gWJWx":E.Ay.mobile})},l.createElement("h1",{className:EN},a?(0,k.tx)("community.error.could_not_complete_search",{error:l.createElement("strong",null,a)}):ES(t,l.createElement("strong",null,e))))}let EA={resourceType:"resourceType",editorType:"editor_type",price:"price",creators:"creators",sortBy:"sort_by"},ER=e=>({resourceType:e.resourceType,editorType:e.editor_type,price:e.price,creators:e.creators,sortBy:e.sort_by}),EF=(e,t)=>{let a=t.getBoundingClientRect(),r=t.closest(`.${l8.pz}`).getBoundingClientRect();e.style.width=a.width+"px",e.style.height=a.height+"px",e.style.top=a.y-r.y+"px"};function EO({view:e,resourceCounts:t}){(0,p.kc)().statsig_aa_flag_web_cmtysidebar;let a=[EC.All,EC.Files,EC.Plugins,EC.Widgets,EC.Union],r=l.useRef(null);l.useEffect(()=>{if(r.current&&e.resourceType){let e=r.current.parentNode.querySelector(`.${l8.vu}`);EF(r.current,e)}},[e.resourceType]);let n=[[pe.L.BrowseResourceTypes.MIXED,(0,k.t)("community.view_bar.all")],[pe.L.BrowseResourceTypes.FILES,(0,k.t)("community.view_bar.files_and_templates")],[pe.L.BrowseResourceTypes.PLUGINS,(0,k.t)("community.view_bar.plugins")],[pe.L.BrowseResourceTypes.WIDGETS,(0,k.t)("community.view_bar.widgets")]];return"string"==typeof e.query&&n.push(["profiles",(0,k.t)("community.view_bar.creators")]),l.createElement("div",{className:l8.pz},l.createElement("div",{className:l8.w,ref:r}),l.createElement("ul",null,n.map(([r,n],i)=>{let o=(0,n7.MU)({...(0,n7.wl)(),resourceType:r}),s=a[i],c="query"in e?l.createElement("span",{className:l8.fw},t[r]??0):null;return l.createElement("a",{key:r,href:o,onClick:t=>{t.preventDefault(),m.Ay.push(o),(0,ei.sx)("resource_type_filter_changed",{resource_type:r,from:e.resourceType})}},l.createElement("li",{className:e.resourceType===r?l8.vu:""},l.createElement(s,{active:e.resourceType===r}),l.createElement("span",{className:l8.rt},n),c))})))}let EP=function(){let e=[],t={};return{push:(a,r)=>{let n=a.pathname+a.search,i=t[n];if(i||e.push(n),t[n]={...i||{},state:r},e.length>10){let a=e.shift();delete t[a]}},get:e=>{let a=t[e.pathname+e.search];if(a)return a}}}();function ED({onClick:e,isLoading:t,isMoreToFetch:a}){return t?l.createElement("div",{className:l8.V3},l.createElement(sV.y$,null)):l.createElement(sW,{onClick:e,isLoading:!1,isMoreToFetch:a})}let EM=class e extends l.Component{constructor(e){super(e),this.feedAppWrapper=null,this.hasLoadedFirstTimeForView=!1,this.impressedResourcesForView=new Set,this.impressedResourcesLoggingBuffer=[],this.state={resources:[],searchError:void 0,pagination:void 0,isActivelyLoadingRequest:!1},this.feedContentRef=l.createRef(),this.filterControlsRef=l.createRef(),document.title=(0,lX.vC)(this.props.view),this.sendResourceImpressions=(0,tA.s)(()=>{if(0===this.impressedResourcesLoggingBuffer.length)return;let{view:e}=this.props,{trackingContext:t,properties:a}=this.getTrackingProps();(0,ei.sx)("hub_impressed_resources",{impressedItems:this.impressedResourcesLoggingBuffer.map(({id:e})=>e),impressedItemTypes:this.impressedResourcesLoggingBuffer.map(({type:e})=>e),sort:e.sort_by,resourceType:e.resourceType,trackingContext:t,...a}),this.impressedResourcesLoggingBuffer=[]},1e3)}componentDidMount(){this.resetScrollPosition(),this.queryWithParamsAndUpdateState(void 0),(0,sO.OE)(this.props.view)&&this.props.dispatch(__.Dy({entryPoint:"community"}))}showFeedAsTable(){return this.props.view?.resourceType===pe.L.BrowseResourceTypes.PLUGINS||this.props.view?.resourceType===pe.L.SearchResourceTypes.PROFILES}componentDidUpdate(e){(0,s.bN)(this.props.view,e.view)?EP.push(this.props.location,this.state):(this.hasLoadedFirstTimeForView=!1,this.queryWithParamsAndUpdateState(e.view),document.title=(0,lX.vC)(this.props.view),this.sendAndResetResourceImpressions())}componentWillUnmount(){(0,sO.OE)(this.props.view)&&this.props.dispatch(__.ky()),this.sendAndResetResourceImpressions()}isMoreToFetch(){return!this.hasLoadedFirstTimeForView||(0,_T.nC)().filter(this.props.view).isMoreToFetch(this.state.pagination)}static getEmptyResourcesByType(){return{files:[],plugins:[],widgets:[],mixed:[],profiles:[]}}static getResourcesFromSearchResponse(e){return e.map(e=>{let t=e.model;return(0,l0.xQ)(t)||(0,l0.I0)(t)?(0,_x.I$)(t):t})}static getUniqueIdForResource(e){return`${e.id}-${(0,l6.Vm)(e)}`}static appendNewResourcesToMixedFeed(t,a){let r=new Set(t.map(e.getUniqueIdForResource)),n=a.filter(t=>!r.has(e.getUniqueIdForResource(t.model))).sort((e,t)=>t.score-e.score);return[...t,...e.getResourcesFromSearchResponse(n)]}asyncFetchAdditionalSearchResources(){let{dispatch:t,view:a,searchSessionId:r}=this.props;Promise.all([t((0,_T.nC)().filter(a).searchResources({resourceType:"files"})),t((0,_T.nC)().filter(a).searchResources({resourceType:"plugins"})),t((0,_T.nC)().filter(a).searchResources({resourceType:"widgets"}))]).then(([t,n,i])=>{let{resourcesByType:o}=this.state;if(!o)return;let l=e.getResourcesFromSearchResponse(t.data.meta.results),s=e.getResourcesFromSearchResponse(n.data.meta.results),c=e.getResourcesFromSearchResponse(i.data.meta.results),d={...o,mixed:e.appendNewResourcesToMixedFeed(o.mixed,[...t.data.meta.results,...n.data.meta.results,...i.data.meta.results]),files:l,plugins:s,widgets:c},m=s.filter(e=>(0,l0.mr)(e)&&e.roles?.is_public),u=c.filter(e=>(0,l0.mr)(e)&&e.roles?.is_public);(0,ei.sx)("search_query_result",{query:a.query,responseCounts:d.mixed.length,scope:"community",entry_point:"community",context:"searchView",searchSessionId:r,files:l.length,private_plugins:s.length-m.length,private_widgets:c.length-u.length,public_plugins:m.length,public_widgets:u.length,projects:0,teams:0,users:0}),this.setState({resources:d[a.resourceType],resourcesByType:d})}).catch(()=>{})}querySearchMixedAndProfiles(){let{view:t,dispatch:a}=this.props;return this.feedAppWrapper?.setAttribute("data-hide","true"),a((0,_T.nC)().filter(t).searchResourcesAndProfiles({resourceType:"mixed"})).then(a=>{let[r,n]=[a[0].data.meta.results,a[1].data.meta.results],i=e.getResourcesFromSearchResponse(r);this.asyncFetchAdditionalSearchResources();let o={...this.state.resourcesByType??e.getEmptyResourcesByType(),mixed:i,profiles:n};this.setState({searchError:void 0,resources:o[t.resourceType],resourcesByType:o},()=>{this.feedAppWrapper?.removeAttribute("data-hide")})}).catch(e=>{(0,sO.OE)(this.props.view)&&this.setState({searchError:e.message||(0,k.t)("community.error.search_request_failed"),resources:[]})})}queryBrowse(){let e;let{view:t}=this.props,a=(0,_T.nC)().filter(t),r=this.hasLoadedFirstTimeForView&&this.state.pagination?.next_page;return r?e=(0,ts.k9)(this.state.pagination?.next_page):(this.feedAppWrapper?.setAttribute("data-hide","true"),e=a.browse(t.resourceType,48)),Promise.all([e]).then(e=>{let[t]=e;if(!t)throw Error("Error handling response");let{data:a}=t,{meta:n,pagination:i}=a,{resources:o}=n;this.setState({resources:r?[...this.state.resources,...o]:o,pagination:i,searchError:void 0},()=>{this.feedAppWrapper?.removeAttribute("data-hide")})}).catch(e=>{(0,c_.$D)(n_.FigmaTeam.COMMUNITY,e)})}static shouldSearch(e,t){return!(0,sO.OE)(e)||e.resourceType===t.resourceType||(0,n7.Mc)({...e,resourceType:"profiles"})!==(0,n7.Mc)({...t,resourceType:"profiles"})}async queryWithParamsAndUpdateState(t){let{view:a,location:r}=this.props;if(!a||this.state.isActivelyLoadingRequest||!this.isMoreToFetch())return;if(!(this.hasLoadedFirstTimeForView&&this.state.pagination?.next_page)){let e=EP.get(r);if(e){this.setState(e.state),this.feedAppWrapper?.removeAttribute("data-hide"),this.hasLoadedFirstTimeForView=!0;return}}this.setState({isActivelyLoadingRequest:!0});let n=(0,sO.OE)(a);try{n?t&&!e.shouldSearch(t,a)&&this.state.resourcesByType?this.setState({resources:this.state.resourcesByType[a.resourceType],searchError:void 0}):await this.querySearchMixedAndProfiles():await this.queryBrowse(),this.hasLoadedFirstTimeForView=!0}catch(e){}this.setState({isActivelyLoadingRequest:!1})}resetScrollPosition(){let e=(this.feedContentRef.current?.getBoundingClientRect().top||0)-(this.filterControlsRef.current?this.filterControlsRef.current.getBoundingClientRect().top+this.filterControlsRef.current.getBoundingClientRect().height:0);e<0&&window.scrollTo({top:window.scrollY+e,behavior:"smooth"})}addResourceImpression(e){let t=e.id,a=(0,l6.Vm)(e),r=`${t}-${a}`;this.impressedResourcesForView.has(r)||(this.impressedResourcesForView.add(r),this.impressedResourcesLoggingBuffer.push({id:e.id,type:(0,l6.Vm)(e)}),this.sendResourceImpressions())}sendAndResetResourceImpressions(){this.sendResourceImpressions.flush(),this.impressedResourcesForView.clear()}getTrackingProps(){let{view:e}=this.props,t=e.tags,a=!!t?.length,r=e.query;return"string"==typeof r?{trackingContext:e9.e0.COMMUNITY_HUB_SEARCH,properties:{searchQuery:r}}:a?{trackingContext:e9.e0.COMMUNITY_HUB_TAG,properties:{tags:t.join(",")}}:{trackingContext:e9.e0.COMMUNITY_HUB,properties:{}}}getResourceCounts(){let t=this.state.resourcesByType||e.getEmptyResourcesByType();return Object.keys(t).reduce((e,a)=>(e[a]=t[a].length,e),{})}render(){let{view:e}=this.props;if(!e)return l.createElement(l.Fragment,null);let t=e.tags,a=!!t?.length,r=e.query,n="string"==typeof r,{resourceType:i}=e,o=(a||n)&&this.hasLoadedFirstTimeForView&&0===this.state.resources.length,s="";o&&(s=r||t.join(", ")||"");let{trackingContext:c,properties:u}=this.getTrackingProps();return l.createElement(eG.fu,{name:c,properties:u},l.createElement(lq.S,null),l.createElement("div",{ref:e=>this.feedAppWrapper=e},a&&l.createElement(Ek,{tags:t,view:e}),(0,sO.OE)(e)&&l.createElement(EL,{query:e.query,view:e,error:this.state.searchError}),l.createElement("div",{className:l8.IB},l.createElement(EO,{view:e,resourceCounts:this.getResourceCounts()}),l.createElement("div",{className:l8.hm},l.createElement(ps,{containerRef:this.filterControlsRef,filterState:ER(e),onUpdate:e=>{let t={};e.forEach(({key:e,value:a})=>{t[EA[e]]=a}),m.Ay.replace((0,n7.MU)({...(0,n7.wl)(),...t})),this.resetScrollPosition()},context:"search"}),l.createElement("div",{ref:this.feedContentRef},o?l.createElement(Ey,{resourceType:i,query:s,view:e,isError:!!this.state.searchError}):l.createElement("div",{className:l8.E9},l.createElement(l9,{onIntersectionChange:(e,t)=>{t.isIntersecting&&this.addResourceImpression(e)},adtlClassName:l5(this.showFeedAsTable()?"rows":"compact"),resources:this.state.resources,showAsTable:this.showFeedAsTable(),showMoreCallback:g.lQ,viewContext:"communityFeed"}))),l.createElement(ED,{onClick:e=>{e.preventDefault(),this.queryWithParamsAndUpdateState()},isLoading:this.state.isActivelyLoadingRequest,isMoreToFetch:this.isMoreToFetch()}),!(0,d.y3)()&&l.createElement("div",{className:l8.xQ},l.createElement(sU,null))))))}};function EB(){let e=(0,lV.zy)(),t=(0,n7.UH)(),a=(0,s.wA)(),r=(0,cE.J)();return t?l.createElement(EM,{view:t,location:e,dispatch:a,searchSessionId:r}):(EI.k.warn("This shouldn't happen: Community view is undefined in '<FeedView />'."),m.Ay.replace("/community"),null)}EM.displayName="FeedPage";var EU=a(843540);let EV=a(210448).u;var EH=a(84336),EW=a(776397),Ej=a(410424);let E$=(0,tc.nF)((e,{pluginId:t,isWidget:a})=>ts.Ay.post(`/api/${a?"widgets":"plugins"}/${t}/view`,{pluginId:t}));var EG=a(941448),EY=a(323434);let Ez="mobile_media_carousel--carouselItem--k7rAE",EQ=(e,t)=>Math.abs(e)*t,EK=(e,t)=>{let a=[];return e===t[0]-1||e===t[1]+1?a.push("scale(0.6)"):e===t[0]-2||e===t[1]+2?a.push("scale(0.4)"):(e===t[0]-3||e===t[1]+3)&&a.push("scale(0)"),a},Eq={enter:e=>({x:e>0?300:-300,opacity:0}),center:{zIndex:1,x:0,opacity:1},exit:e=>({zIndex:0,x:e<0?300:-300,opacity:0})};function EZ({resource:e,resourceContent:t}){let a=(0,cE.J)(),[r,n]=l.useState(0),[i,o]=l.useState(0),s=(0,lX.N6)(e),c=s.length>1,d=s[r],[m,u]=(0,l.useState)([0,2]),[_,p]=(0,l.useState)(0);if(!c||!d)return l.createElement(EX,{resource:e,resourceContent:t,selectedMedium:d});let[f,g]=(0,ul.P)(d),E=e=>{let t=(0,lb.clamp)(r+e,0,s.length-1);n(t),t>m[1]?(u(e=>[e[0]+1,e[1]+1]),p(_-10)):t<m[0]&&(u(e=>[e[0]-1,e[1]-1]),p(_+10))};return l.createElement(eG.fu,{name:e9.e0.COMMUNITY_MOBILE_RDP_CAROUSEL,properties:{resource_type:(0,l6.Vm)(t),resource_id:e.id,searchSessionId:a}},l.createElement("div",{className:"mobile_media_carousel--mobileMediaCarousel--AIpoz",onMouseDown:e=>{e.stopPropagation(),e.preventDefault()},role:"grid",tabIndex:0},l.createElement(EY.N,{mode:"popLayout",initial:!1,custom:i},l.createElement(pT.P.div,{key:r,custom:i,variants:Eq,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.05}},whileDrag:{cursor:"grabbing"},drag:"x",dragDirectionLock:!0,dragConstraints:{left:0,right:0},dragElastic:.5,onDragEnd:(n,{offset:i,velocity:l})=>{let s=EQ(i.x,l.x);s<-500?(E(1),o(1),(0,ei.sx)("community_mobile_rdp",{name:"mobile_rdp_carousel_swipe",community_resource_id:e.id,resource_type:(0,l6.Vm)(t),selectedIndex:r,searchSessionId:a})):s>500&&(E(-1),o(-1),(0,ei.sx)("community_mobile_rdp",{name:"mobile_rdp_carousel_swipe",community_resource_id:e.id,resource_type:(0,l6.Vm)(t),selectedIndex:r,searchSessionId:a}))}},l.createElement("div",{className:Ez},"video"===d.type?l.createElement(us.A,{src:(0,ul.Mf)(d,e),fallbackSrc:d.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,ei.sx)("community_mobile_rdp",{name:"mobile_rdp_video_ended",community_resource_id:e.id,resource_type:(0,l6.Vm)(t),searchSessionId:a})}}):l.createElement(ul.F5,{thumbnailUrl:f,resourceId:e.id,altText:(0,cr.K2)(e)+" preview",thumbnailContext:sx.O7.DETAIL,resizedThumbnailUrls:g,isMobileCarousel:!0})))),l.createElement("div",{className:"mobile_media_carousel--carouselIndicator--etWE0",style:{transform:`translateX(${-_}px)`}},(0,lb.range)(s.length).filter(e=>e<=m[1]+3&&e>=m[0]-3).map(e=>{let t=[`translateX(${_}px)`,...EK(e,m)].join(" ");return l.createElement("div",{key:e,className:D()("mobile_media_carousel--carouselDot--kqCx2",{"mobile_media_carousel--activeCarouselDot--dBLJE":e===r}),style:{transform:t}})}))))}function EX({resource:e,resourceContent:t,selectedMedium:a}){let r=(0,cE.J)();if(a&&"video"===a.type)return l.createElement("div",{className:Ez},l.createElement(us.A,{src:(0,ul.Mf)(a,e),fallbackSrc:a.url,useHLS:!0,autoPlay:!0,muted:!0,onEnded:()=>{(0,ei.sx)("community_mobile_rdp",{name:"mobile_rdp_video_ended",community_resource_id:e.id,resource_type:(0,l6.Vm)(t),searchSessionId:r})}}));let n=(0,l6.XW)(e)?e.thumbnail_src_set:(0,l0.U)(e)&&e.resized_thumbnail_urls;return l.createElement("div",{className:Ez},l.createElement(ul.F5,{thumbnailUrl:e.thumbnail_url||"",resourceId:e.id,altText:(0,cr.K2)(e)+" preview",thumbnailContext:sx.O7.DETAIL,resizedThumbnailUrls:n||void 0,isMobileCarousel:!0}))}var EJ=a(700886);let E0=(0,eg.r1)(ie.Xt);function E1(){let e=(0,e_.md)(E0),t=(0,eJ.iZ)(),a=(0,s.d4)(e=>e.authedActiveCommunityProfile),r=(0,sS.N)(`(max-width: ${dg.YW-1}px)`),{show:n,isShowing:i,complete:o}=(0,ef.e)({overlay:ey.cJy,priority:eE.N.DEFAULT_MODAL},[e]);return(0,u.h)(()=>{!r&&a&&a.has_published&&n({canShow:e=>!e})}),l.createElement(EJ._l,{isShowing:i,title:(0,k.tx)("community.modal.creator_carousel_nux.add_image_and_video_previews"),description:(0,k.tx)("community.modal.creator_carousel_nux.drive_eyeballs_and_engagement"),media:l.createElement(EJ.B$,{width:400,src:"https://static.figma.com/uploads/02d9c70dd6cacb66d38819ec23ce6f1b6202e13d",alt:"An illustration of a carousel of images and videos",aspectRatio:.82}),primaryCta:{type:"link",label:(0,k.tx)("community.modal.creator_carousel_nux.update_my_resources"),href:a?.profile_handle?new uM.xn({profileHandle:a.profile_handle}).href:"",ctaTrackingDescriptor:ep.c.UPDATE_MY_RESOURCES,trackingProperties:{userId:t?.id}},secondaryCta:{type:"link",label:(0,k.tx)("community.learn_more"),href:"https://help.figma.com/hc/en-us/articles/22166943560983-Grow-your-audience-on-Community#mediapreviews",ctaTrackingDescriptor:ep.c.LEARN_MORE,trackingProperties:{userId:t?.id,profileId:a?.id}},trackingContextName:"community_creator_carousel_media_nux",userFlagOnShow:ie.Xt,clickOutsideToHide:!0,onClose:o,closeButtonColor:"dark"})}function E2({resource:e}){return(0,dc.RB)(e)?null:l.createElement(l.Fragment,null,l.createElement(fL.p,{featureFlag:"cmty_rdp_creator_modal"},l.createElement(E1,null)))}function E4({resource:e,resourceContent:t,rdpImpressionId:a,category:r}){let[n,i]=l.useState(!1),o=(0,up.C)(e);return l.createElement("div",{className:"two_column_resource_page--autoLayoutContainer--odI-S"},r&&l.createElement(Ec,{category:r,rdpImpressionId:a}),l.createElement(nV.Y,{width:"100%",direction:"horizontal",height:"hug-contents",verticalAlignItems:"center",horizontalAlignItems:"center",spacing:"auto"},l.createElement("div",{className:uE},l.createElement("div",{className:S.cx.relative.$},l.createElement(m2,{resource:e,resourceContent:t,hasScrolled:n}))),l.createElement("div",{className:o?uh:uv},l.createElement(uu,{resource:e,resourceContent:t,is16to9AspectRatio:o}),l.createElement(tM.a,{className:"two_column_resource_page--scrollSentinel--B3rnT",onIntersectionChange:e=>i(!e.isIntersecting)}))))}function E8({resource:e,resourceContent:t,rdpImpressionId:a,category:r}){return l.createElement(l.Fragment,null,l.createElement(E2,{resource:t}),l.createElement(EV,{resource:t}),l.createElement(E4,{resource:e,resourceContent:t,rdpImpressionId:a,category:r}),l.createElement(mJ,{resource:t,rdpImpressionId:a}))}function E3({resource:e,resourceContent:t,rdpImpressionId:a,isMobileSize:r,category:n}){let[i,o]=l.useState(!1);return l.createElement(l.Fragment,null,n&&l.createElement(Ec,{category:n,rdpImpressionId:a}),l.createElement(EZ,{resource:e,resourceContent:t}),l.createElement(m8,{resource:e,resourceContent:t,hasScrolled:i}),l.createElement("div",{className:"resource_page--mobileScrollSentinelContainer--AkI9N"},l.createElement(tM.a,{className:"resource_page--scrollSentinel--yWuQV",onIntersectionChange:e=>o(!e.isIntersecting)})),l.createElement(mJ,{resource:t,rdpImpressionId:a,isMobileSize:r}))}function E5(){let[{apiResourceType:e,resourceId:t},a]=l.useState({apiResourceType:(0,lX.eD)()[0],resourceId:(0,lX.eD)()[1]}),r=(0,s.wA)(),n=(0,sS.N)(`(max-width: ${dg.YW-1}px)`);l.useEffect(()=>{let e=m.Ay.listen(()=>{let[e,t]=(0,lX.eD)();ct.S.hasOwnProperty(e)&&(a(a=>a.apiResourceType===e&&a.resourceId===t?a:{apiResourceType:e,resourceId:t}),setTimeout(()=>window.scrollTo(0,0),100))});return()=>{e(),document.body.removeAttribute("data-hide")}},[]);let i=(0,lJ.Tg)(),[o]=(0,f.IT)((0,EW.m)({apiResourceType:e,id:t}),{enabled:!i}),[c]=(0,f.IT)((0,EW.Z)({apiResourceType:e,id:t}),{enabled:i}),u=i?c.data:o.data,_=i&&c.data?(0,l6.qY)(c.data):o.data,p=!!u?.category_slug,[g]=(0,f.IT)((0,Eb.Zp)({categorySlug:u?.category_slug??""}),{enabled:p}),E=g.data??void 0;l.useEffect(()=>{e&&t&&u&&_&&((0,l0.U)(_)?r((0,Ej.Sb)({hubFiles:[_],src:"resourcePage"})):r((0,EH.Qi)({publishedPlugins:[_],src:"resourcePage"})),document.title=(0,cr.K2)(u)+"\xa0| Figma",document.body.removeAttribute("data-hide"))},[e,t,r,u,_]);let h=l.useRef(null),v=l.useCallback(()=>{h.current&&h.current.scrollIntoView({behavior:"smooth"})},[h]),y=(0,l0.U)(_),b=(0,l0.I0)(_),w=(0,l0.xQ)(_);if(l.useEffect(()=>{y&&r((0,Ej.vr)({hubFileId:_.id})),(b||w)&&r(E$({pluginId:_.id,isWidget:w}))},[r,y,w,b,_?.id]),!u||!_)return l.createElement(l.Fragment,null);let T=(0,EG.Ay)(_),I=(0,cp.g)();return l.createElement("div",{className:"resource_page--resourcePage--n6Aio text--fontPos14--OL9Hp text--_fontBase--QdLsd"},l.createElement(eG.fu,{name:T.name,properties:T.properties},l.createElement(dl.H.Provider,{value:{onScrollToRatings:v,externalCommentScrollRef:h}},l.createElement(df.Ay,{mediaQuery:`(min-width: ${dg.EX}px)`},l.createElement(E8,{resource:u,resourceContent:_,rdpImpressionId:I,category:E})),l.createElement(df.Ay,{mediaQuery:`(min-width: ${dg.YW}px) and (max-width: ${dg.EX-1}px)`},l.createElement(E8,{resource:u,resourceContent:_,rdpImpressionId:I,category:E})),l.createElement(df.Ay,{mediaQuery:`(max-width: ${dg.YW-1}px)`},l.createElement(E3,{resource:u,resourceContent:_,rdpImpressionId:I,category:E,isMobileSize:n}))),!(0,d.y3)()&&l.createElement("div",{className:"resource_page--footerContainer--bAm54"},l.createElement(sU,null))))}function E9(){return l.useEffect(()=>{Es.X.initialRenderDurationMs=Math.round(window.performance.now()-Es.X.domContentLoadedMs),Es.X.timeToLoadMs=Math.round(performance.now()),Es.X.report(ei.sx),(0,tC.qD)({name:"Community Hub"})},[]),l.createElement("div",{"data-testid":"community-app",className:"community_app--communityApp--kXC00"},l.createElement(_9,null),l.createElement(lV.dO,null,l.createElement(lV.qh,{path:uP.path},l.createElement(uk,null)),l.createElement(lV.qh,{path:uD.path},l.createElement(sJ,null)),l.createElement(lV.qh,{path:uB.ax.path},l.createElement(uA,null),l.createElement(E5,null)),l.createElement(lV.qh,{path:"/community/tag/"},l.createElement(EB,null)),l.createElement(lV.qh,{path:"/community/search"},l.createElement(uA,null),l.createElement(EB,null)),l.createElement(lV.qh,{path:sP.m5},l.createElement(ET,null)),l.createElement(lV.qh,{path:"/community*"},l.createElement(lV.rd,{to:"/community",from:"/community*"}),l.createElement(uR,null),l.createElement(p6,null)),l.createElement(lV.qh,{path:uM.xn.path},l.createElement(El,null))),l.createElement(lK,null),!1,l.createElement(cg.Ay,null))}function E6(e){return"communityHub"!==e.view||"plugin"===e.subView||"widget"===e.subView||"hubFile"===e.subView||"landing"===e.subView||"searchAndBrowse"===e.subView||"handle"===e.subView?{content:l.createElement(E9,null),key:"searchAndBrowse"}:"hubFileEmbed"===e.subView||"monetizationRedirectView"===e.subView?{content:null,key:void 0}:(0,x.assertNever)(e)}function E7(e){return l.createElement("div",{className:"community_layout--communityPageViewContainer--aBk-9"},e.children,l.createElement(EU.Ay,null))}Es.X.domContentLoadedMs=Math.round(window.performance.now());var he=a(763223),ht=a(334381),ha=a(945020),hr=a(567088),hn=a(261076),hi=a(729064),ho=a(569172);let hl=new class{markFeedVisited(e){return ts.Ay.post(`/api/feed_visited/${e.currentOrgId}`)}};var hs=a(679736),hc=a(461839),hd=a(52678),hm=a(934480),hu=a(235092),h_=a(654034),hp=a(416822),hf=a(988771),hg=a(400333),hE=a(527429),hh=a(126674),hv=a(160156),hy=a(339617),hb=a(531398),hw=a(430811);let hT="feed_tile--commentPillText--goQ26",hI="feed_tile--feedPostHoverContainerSelectable--rhPI9";var hC=a(122975);function hx(e){let t=(0,s.wA)(),a=l.useRef(null),[r,n]=(0,lC.M)(),[i,o]=(0,lC.M)(),{requestToOpenPostByFeedIdx:c}=e,d=l.useCallback((a,r)=>{a?.stopPropagation();let n=e.itemIdx+1;(0,ei.sx)("Team Feed Tile Clicked",{postUuid:e.post.publicUuid,feedRank:n}),t((0,e$.to)({type:hd.K,data:{postUuid:e.post.publicUuid,initialPreloadedPost:e.post,feedIdx:e.feedIdx,requestToOpenPostByFeedIdx:c,autofocusCommentInput:r?.autofocusCommentInput,selectedContentIdx:r?.selectedContentIdx,onSetSelectedContentIdx:r?.onSetSelectedContentIdx}}))},[e.itemIdx,e.post,t,e.feedIdx,c]),m=l.useCallback(()=>{t((0,e$.to)({type:(0,hs.t1)(),data:{preloadedFeedPost:e.post,entryPoint:hs.M2.FEED}}))},[t,e.post]),{refSetter:u}=function(e){let t=l.useRef(null),a=l.useRef(e);a.current=e;let r=l.useMemo(()=>new ResizeObserver(()=>{a.current(t.current)}),[]);return l.useEffect(()=>()=>{r.disconnect()},[r]),{refSetter:l.useCallback(e=>{null!==t.current&&r.unobserve(t.current),t.current=e,null!==t.current&&r.observe(t.current)},[r])}}(e.virtualRowItem.measureRef),_={position:"absolute",top:e.virtualRowItem.start,left:0,right:0},p=e.feedListRef.current?.getBoundingClientRect().left??0,f=Math.max(0,(a.current?.getBoundingClientRect().left??0)-p),g=l.createElement("div",{className:"feed_tile--caughtUpContainer--5uyiy"},l.createElement("div",{className:"feed_tile--caughtUpTitle--PVabL"},(0,k.t)("fig_feed.youre_all_caught_up")),l.createElement("div",{className:"feed_tile--caughtUpSubtitle--j2qKn"},(0,k.t)("fig_feed.come_back_later_for_more_posts")));return l.createElement("div",{className:"feed_tile--postContainer--jD-OA",ref:e=>{u(e),e&&(a.current=e,r(e))},style:_},l.createElement("div",{className:"feed_tile--hoverExtension--aYeAh",ref:i}),l.createElement("div",{className:"feed_tile--tileContainer---NbBK"},l.createElement(hN,{feedPost:e.post,feedIdx:e.feedIdx,onTileMouseDown:d,onEditClick:m,horizontalMargin:f,isHovered:n||o}),e.mostRecentUnviewed&&g))}function hN(e){let t=parseInt(e.feedPost.numComments,10),a=(0,h_.o8)(e.feedPost.descriptionMeta),r=[...new Map(e.feedPost.comments.map(e=>[e.user.id,e.user])).values()],n=l.createElement("div",{className:"feed_tile--commentPill--ZWfdc feed_reactions_section--reactionPill--qE8nJ reactions--reaction--BGfYE text--fontPos11--2LvXf text--_fontBase--QdLsd",onMouseDown:t=>e.onTileMouseDown(t,{autofocusCommentInput:!0}),role:"button",tabIndex:0},t>0?l.createElement(l.Fragment,null,l.createElement(hu.u,{users:r,totalNum:r.length,numAvatarsToDisplay:4}),l.createElement("div",{className:hT},(0,k.tx)("fig_feed.num_comments",{numComments:t}))):l.createElement("div",{className:hT},(0,k.tx)("fig_feed.add_comment"))),[i,o]=l.useState(!1),s=l.useRef(null);l.useEffect(()=>{let e=s.current;e&&o(e.scrollHeight>e.offsetHeight)},[]);let c=l.useMemo(()=>(a.length>0&&(a[0].t=a[0].t?.trimStart(),a[a.length-1].t=a[a.length-1].t?.trimEnd()),a),[a]),d=(0,hp.q)(),m=l.useCallback((e=[],t)=>e?e.map((e,a)=>{let r=(e.user_annotated?e.user_annotated.handle:e.t)||"",n=(0,lx.F)(r),i=null,o=e.link&&(0,hg.xT)(e.link);if(e.user_annotated&&n)i=l.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},l.createElement(hg.E4,{href:`/files${d}/user/${e.user_id}`,userId:e.user_annotated.id,handle:n,imgUrl:e.user_annotated.img_url}));else if(o&&n&&(0,hE.$)(o))i=l.createElement("span",{onMouseDown:e=>e.stopPropagation(),role:"link",tabIndex:0},l.createElement(hg.Rk,{text:n,hyperlink:o}));else{let e=(0,hm.x6)(n?.replace(/\n\s*\n/g,"\n").split("\n").join(" ")||"");i=l.createElement("span",null,e)}return l.createElement(l.Fragment,{key:`${t}-${a}`},i,e.children?.length&&e.styles?.length&&e.children.map((r,n)=>l.createElement(l.Fragment,{key:`${t}-${a}-${n}`}," ",e.styles.includes("ol")?`${n+1}. `:"\u2022 ",m(r.children,`${t}-${a}-${n}`)," ")))}):[l.createElement(l.Fragment,null)],[d]),u=l.useMemo(()=>m(c,e.feedPost.id),[c,m,e.feedPost.id]),{onTileMouseDown:_}=e,p=l.useMemo(()=>l.createElement("div",{className:"feed_tile--postDescriptionContainer--xP5Fz",onMouseDown:_,role:"button",tabIndex:0},l.createElement("div",{className:"feed_tile--postTitle--DY-Hh"},e.feedPost.title),l.createElement("div",{className:"feed_tile--postDescription--PiaCx","data-testid":"feed-post-description",ref:s},l.createElement("div",{className:D()("feed_tile--postDescriptionMessage--6ThT1 comment_message--commentMessage--kZCzD","feed_tile--collapsed--ruER6",i&&"feed_tile--hasShowMore--6Nm-e")},u),i&&l.createElement("div",{onMouseDown:e=>{e.stopPropagation(),_()},className:"feed_tile--viewMore--o-NxF",role:"button",tabIndex:0},l.createElement("div",{className:"feed_tile--viewMoreEllipsis--k1nCe"},"..."),l.createElement("div",{className:"feed_tile--viewMoreText--WpL2K"},(0,k.t)("fig_feed.see_more"))))),[i,s,e.feedPost,_,u]),f=(0,hh.DG)(e.feedPost.publicUuid,hh.dy.TILE),g=(0,J.Um)(),E=e.isHovered||g?.type===(0,hw.j8)(hw.Hx.USER,e.feedPost.publicUuid,hh.Zp.TILE);return l.createElement(l.Fragment,null,l.createElement("div",{className:"feed_tile--topRowUGC--oWJxs"},l.createElement("div",{className:"feed_tile--avatarFloat--h-EFM"},l.createElement(hy.A,{user:e.feedPost.creator,size:es.Pf.LARGE,noHandle:!0})),l.createElement(hy.B,{user:e.feedPost.creator,date:e.feedPost.createdAt,onTileMouseDown:e.onTileMouseDown,noAvatar:!0}),l.createElement("div",{className:S.cx.flex.flexRow.$},l.createElement(hw.Wu,{hideTarget:!E,feedPost:e.feedPost,source:hh.Zp.TILE,onEditClick:e.onEditClick}),E&&l.createElement(eA.K0,{"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":(0,k.t)("fig_feed.copy_link_to_post"),onClick:f},l.createElement(eO.In,{icon:"hyperlink-32"})))),p,l.createElement(hS,{feedPost:e.feedPost,feedIdx:e.feedIdx,backgroundColor:e.feedPost.backgroundColor,onTileMouseDown:e.onTileMouseDown,horizontalMargin:e.horizontalMargin}),l.createElement("div",{className:"feed_tile--bottomRow--CTXwC"},l.createElement(hb.Q$,{type:hb.Us.FULL,source:hb.zY.TILE_POST,postUuid:e.feedPost.publicUuid,postId:e.feedPost.id,feedReactions:e.feedPost.reactions,prependToList:[n]})))}function hS(e){let t=l.useRef(null),a=e.feedPost.content.map(e=>JSON.parse(e)),[r,n]=l.useState(!1),[i,o]=l.useState(!1),[s,c]=l.useState(0);l.useEffect(()=>{0!==s&&hf.Y.markFeedViewed({publicUuid:e.feedPost.publicUuid})},[s,e.feedPost.publicUuid]);let d=(0,hb.mz)({type:"post",id:e.feedPost.publicUuid},hb.zY.TILE_CONTENT),m=a.length>1,u=D()(m?"feed_tile--feedPostHoverContainerWithThumbnails--pAnNB feed_tile--feedPostHoverContainer--238j6":"feed_tile--feedPostHoverContainer--238j6",!(r||i||d)&&"feed_tile--hidden--9bafI"),_={selectedContentIdx:s,onSetSelectedContentIdx:c},{fileData:p,fileIcon:f,fileLoaded:g,openFile:E}=(0,hh.rS)(e.feedPost.publicUuid,a,e.feedPost.fileKey);return l.createElement("div",{ref:e=>{e&&(t.current=e)},className:D()("feed_tile--fullHeightContentSection--qE0UO feed_tile--contentSection--1-urk",m&&"feed_tile--fullHeightContentSection_WithThumbnails--l-If7")},l.createElement(hv.xT,{contentItems:a,staticContent:!0,selectedContentIdx:s,setSelectedContentIdx:c,pageBackgroundColor:e.backgroundColor||void 0,onSelectedTileMouseDown:t=>e.onTileMouseDown(t,_),feedPostUuid:e.feedPost.publicUuid,feedPostIdx:e.feedIdx,source:hh.Zp.TILE,onContentHover:e=>n(e)}),g&&l.createElement("button",{className:D()(u,hI,"feed_tile--hoverTopLeft--zVWFQ"),onClick:E,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1)},l.createElement(rx.oS,{type:f,size:rx.LE.SMALL}),l.createElement("div",null,p.name)),l.createElement("button",{className:D()(u,hI,"feed_tile--hoverTopRight---lyoe"),onMouseDown:t=>e.onTileMouseDown(t,_),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1)},l.createElement(H.B,{svg:hC.A})))}let hk=(0,n0.eU)(!0),hL=(0,n0.eU)(!1);function hA(e){let t=(0,s.wA)(),a=l.useRef(null),r=(0,eJ.iZ)(),n=(0,s.d4)(e=>e.teamFeedRefreshNonce),{setHasLoaded:i}=e,[o,c]=l.useState(null),d=(0,ee._6)(),m="teamFeed"===d.view,u="user"===d.view;l.useEffect(()=>{m&&(hl.markFeedVisited({currentOrgId:e.currentOrgId}).then(e=>{c(e.data.meta?new Date(e.data.meta):null)}),t(t5.b({has_visited_feed:!0})))},[e.currentOrgId,n,t,m]);let p=(0,np.Rs)(ng.KhA,{orgId:e.currentOrgId,firstPageSize:50,feedFilter:JSON.stringify({creator_id:e.selectedUser?.id??null}),refreshNonce:n}),f=(0,_.ZC)(n);f&&f!==n&&a.current&&(a.current.scrollTop=0),l.useEffect(()=>{"errors"===p.status&&t(aJ.F.enqueue({message:(0,k.t)("general.an_error_occurred"),error:!0}))},[t,p.status]);let g=l.useMemo(()=>"loaded"===p.status?{isLoadingNextPage:p.data.feedPosts.isLoadingNextPage,hasNextPage:p.data.feedPosts.hasNextPage,loadNext:p.data.feedPosts.loadNext}:null,[p]),E=l.useMemo(()=>"loaded"===p.status?{...p,data:p.data.feedPosts.filter(e=>!!e.feedPost)}:p,[p]),h="loaded"===E.status&&"loaded"===p.status;l.useEffect(()=>{i?.(h)},[h,i]);let v=l.useCallback(()=>512,[]),y=E.data?E.data.length:0,b=(0,hi.z)({size:y,parentRef:a,estimateSize:v,overscan:15,paddingStart:0}),w=l.useRef(0);l.useEffect(()=>{w.current=E.data?.length??0},[h,E.data?.length]),l.useEffect(()=>{h&&(0,ei.sx)("Team Feed Posts Rendered",{numPosts:w.current,view:d.view,selectedUserId:e.selectedUser?.id},{forwardToDatadog:!0})},[e.selectedUser,w,h,d.view]);let[T,I]=l.useState(!1),[C,x]=l.useState(null),N=(0,pI.Xr)(hL),L=l.useCallback((e,t)=>{e>0&&!T&&((0,ei.sx)("Team Feed User Scrolled Down"),I(!0));let a=y/50,r=e+t.trackHeight,n=t.scrollHeight;1-(n-r)/(n/a)>=.5&&g&&!g.isLoadingNextPage&&g.hasNextPage()&&g.loadNext(50),x(t)},[T,g,y]);l.useEffect(()=>{if(!C)return;let{scrollTop:e}=C;e>=72?N(!0):N(!1)},[C,N]);let A=l.useMemo(()=>{let e={};return E.data&&E.data.forEach((t,a)=>{e[t.publicUuid]=a}),e},[E]),[R,F]=l.useState(void 0),O=l.useCallback(e=>{F(e)},[]);l.useEffect(()=>{if(void 0===R||(F(void 0),R<0)||(R>=.5*y&&g&&g.loadNext(50),R>=y))return;let e=E.data[R];t(e$.hm({type:hd.K.type,data:{postUuid:e.publicUuid,initialPreloadedPost:e.feedPost,feedIdx:R,requestToOpenPostByFeedIdx:O}}))},[R,t,E,O,g,y]);let P=l.useMemo(()=>{if(!o||!E.data)return null;let e=0,t=E.data.length-1,a=-1,n=0;for(;e<=t;){let r=Math.floor((e+t)/2);if(new Date(E.data[r].createdAt)>o?(a=r,e=r+1):t=r-1,(n+=1)>50)break}for(;a>=0&&r&&E.data[a].feedPost?.creator.id===r.id;)a-=1;return a},[o,E.data,r]),M=h&&E.data&&0===E.data.length&&e.selectedUser;return l.createElement(tD.P,{scrollContainerRef:a,className:"feed_list_view--scrollContainer--84INP main_feed_view--scrollContainer--BunJg",innerClassName:D()("feed_list_view--scrollContainerInner--8Le-r",u&&"feed_list_view--scrollContainerInnerProfile--izApr"),onScroll:L},l.createElement("div",{className:"feed_list_view--feedListContainer--2BMds"},e.scrollHeaders,M?l.createElement("div",{className:"feed_list_view--noPostsFound--COpgM"},l.createElement("div",{className:S.cx.fontMedium.$},(0,k.tx)("fig_feed.no_posts_found_title")),l.createElement("div",{className:S.cx.colorTextSecondary.$},(0,k.tx)("fig_feed.no_posts_found_description"))):l.createElement("div",{style:{margin:"0 8px",height:`${b.totalSize}px`,position:"relative"}},b.virtualItems.map(e=>{let t=e.index;if(!E.data||!E.data[t].feedPost)return null;let r=E.data[t].feedPost;return l.createElement(hx,{post:r,key:e.key,virtualRowItem:e,feedListRef:a,itemIdx:t,feedIdx:A[r.publicUuid],requestToOpenPostByFeedIdx:O,mostRecentUnviewed:m&&A[r.publicUuid]===P})}))))}function hR(e){let t=(0,s.wA)(),[a,r]=(0,e_.fp)(hk),[n,i]=l.useState(!1),o=(0,s.d4)(e=>e.teamFeedRefreshNonce);l.useEffect(()=>{t(ho.yu({orgId:e.currentOrgId,bellActive:!1}))},[t,o,e.currentOrgId]);let c=l.createElement(l.Fragment,null,l.createElement(hc.CreateFeedPostContent,{entryPoint:hs.My.FEED_HEADER,onSubmitSuccess:e.onNewPostSubmitSuccess,disabled:!n,minimized:a,setMinimized:r,uploadInfo:e.uploadInfo}));return l.createElement(hA,{...e,scrollHeaders:c,setHasLoaded:i})}var hF=a(238472);function hO(){let e=(0,e_.md)(hn.T),t=(0,e_.md)(hL),a=(0,pI.Xr)(hk),[r,n]=l.useState(!1);return(l.useEffect(()=>{t&&n(!0)},[t]),r)?l.createElement(r8.$$,{className:D()("create_feed_post_button--container--gokzc",t?"create_feed_post_button--fadeInOnMount--QLi5F":"create_feed_post_button--fadeOut--D6C6X"),onMouseDown:()=>a(!1)},l.createElement(H.B,{svg:oC.A,className:"create_feed_post_button--plusIcon--DCzT2"}),(0,k.t)("fig_feed.new_post"),e&&l.createElement(H.B,{svg:hF.A})):null}var hP=a(395900),hD=a(43325);let hM="new_post_indicator--icon--uvRMg";var hB=a(884114);function hU(e){return l.createElement("div",{className:"new_post_indicator--notification--NxIRJ text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l"},l.createElement("div",{className:"new_post_indicator--leftSide--Y7k6-",onClick:e.onRefresh,role:"button",tabIndex:0},l.createElement(H.B,{svg:hB.A,className:hM}),(0,k.tx)("fig_feed.new_posts")),l.createElement("div",{className:"new_post_indicator--dismiss--BAIvc",onClick:e.onDismiss,role:"button",tabIndex:0},l.createElement(H.B,{svg:i_.default,className:hM})))}function hV(e){let t=(0,s.wA)();l.useEffect(()=>((0,ei.sx)("Team Feed Posts List View Visited"),t(ho.yu({orgId:e.currentOrgId,bellActive:!1})),()=>{(0,ei.sx)("Team Feed List View Closed")}),[t,e.currentOrgId]);let a=l.useCallback(()=>t(ho.Y9()),[t]),r=l.useCallback(e=>{e||a()},[a]),n=l.useCallback(()=>{a()},[a]),i=(0,s.d4)(t=>t.teamFeedBellStates[e.currentOrgId]),[o,c]=l.useState(!1),d=(0,_.ZC)(i);l.useEffect(()=>{i&&!1===d?c(!0):d&&!1===i&&c(!1)},[i,d,t]),l.useEffect(()=>{e.initialPostUuidToShow&&t((0,e$.to)({type:hd.K,data:{postUuid:e.initialPostUuidToShow}}))},[t,e.initialPostUuidToShow]);let[m,u]=l.useState(!1),[p,f]=l.useState(null),[g,E]=(0,e_.fp)(hk),h=l.useCallback(e=>{g&&(f(e.files),u(!1))},[g]);return l.createElement(l.Fragment,null,l.createElement(U.Y,{isDragTarget:()=>!0,onTargetDragEnter:()=>u(!0),onTargetDragLeave:()=>u(!1),onTargetDrop:h,className:"main_feed_view--contentLayout--HPUlv"},o&&l.createElement(hU,{onRefresh:n,onDismiss:()=>c(!1)}),l.createElement(hR,{currentOrgId:e.currentOrgId,onNewPostSubmitSuccess:r,uploadInfo:p??void 0}),g&&m&&l.createElement("div",{className:"main_feed_view--dragOverlay--e78e2"})),l.createElement(hD.cx,null))}function hH(e){let t=(0,s.d4)(e=>e.currentUserOrgId),a=l.useRef(new hP.M4);return(l.useEffect(()=>{a.current.start()},[]),t)?l.createElement(hV,{currentOrgId:t,initialPostUuidToShow:e.postUuid,creatorId:e.creatorId,feedViewTimer:a.current}):null}var hW=a(886653),hj=a(841563),h$=a.n(hj),hG=a(72608);function hY(e){let t=(0,s.d4)(iw.hK),a=(0,s.wA)(),r=e.tabs?l.createElement(hG.f,{tabs:e.tabs.map(e=>l.createElement(hG.r,{key:e.tabName,tab:null,onClick:()=>a(z.$T(e.view)),tabName:e.tabName,isSelected:h$()(t,e.view),ariaLabel:e.ariaLabel}))}):l.createElement(l.Fragment,null);return l.createElement(ir.g2,{leftSide:r,rightSide:e.viewbarActions||[]})}var hz=a(439466);let hQ=e=>({tileSortFilterConfig:e.deletedFiles,sortKeys:[lf.C0.TRASHED_AT,lf.C0.NAME]}),hK=e=>({tileSortFilterConfig:e.trashedFolders,sortKeys:[lf.C0.TRASHED_AT,lf.C0.NAME]}),hq=(e,t,a)=>{let r=(0,hW.xx)(hQ)(t);return[l.createElement(ir.gr,{key:0,dispatch:e,options:r,selectedView:a}),l.createElement(ir.ye,{key:1,config:r.tileSortFilterConfig}),l.createElement(ir.mc,{key:2,dispatch:e,options:r,selectedView:a}),l.createElement(ir.$c,{key:3,initialViewMode:r.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,ei.sx)("file view toggle",{viewType:t===lf.XU.GRID?"grid":"list"}),e(z.JF({selectedView:a,config:{...r.tileSortFilterConfig,viewMode:t}}))}})]},hZ=(e,t,a)=>{let r=(0,hW.xx)(hK)(t);return[l.createElement(ir.KH,{key:6,dispatch:e,options:r,selectedView:a}),l.createElement(ir.mc,{key:4,dispatch:e,options:r,selectedView:a}),l.createElement(ir.$c,{key:5,initialViewMode:r.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,ei.sx)("folder view toggle",{viewType:t===lf.XU.GRID?"grid":"list"}),e(z.JF({selectedView:a,config:{...r.tileSortFilterConfig,viewMode:t}})),e(z.uV({viewId:hz.l,viewMode:t}))}})]};function hX(){let e=(0,s.wA)(),t=(0,s.d4)(e=>e.tileSortFilterStateByView),a=(0,ee._6)(),r=(0,ht.y)(),n=hq(e,t,a),i=hZ(e,t,a);return l.createElement(hY,{tabs:r?[{tabName:(0,k.t)("file_browser.tool_bar.trashed_files"),view:{view:"deletedFiles"},ariaLabel:(0,k.t)("file_browser.tool_bar.trashed_files.aria_label")},{tabName:(0,k.t)("file_browser.tool_bar.trashed_projects"),view:{view:"trashedFolders"},ariaLabel:(0,k.t)("file_browser.tool_bar.trashed_projects.aria_label")}]:void 0,viewbarActions:"deletedFiles"===a.view?n:i})}function hJ(){let e;let t=(0,s.wA)(),a=(0,s.d4)(e=>e.currentUserOrgId),r=(0,s.d4)(e=>e.currentTeamId),n=(0,tk.S)();e=a?n?.currentUser.baseOrgUser?.draftsProject:(0,p.kc)().ps_benchmark&&r?n?.currentUser.currentTeamUser?.draftsProject:n?.currentUser.draftsProject;let i=(0,s.d4)(e=>e.tileSortFilterStateByView),o=(0,ee._6)();if(!n||!e)return l.createElement(hY,{tabs:[],viewbarActions:[]});let c="deletedFiles"===o.view?(0,hW.xx)(hQ)(i):(0,hW.xx)(X.ZN)(e.id,i);return l.createElement(hY,{tabs:(0,p.kc)().pdr_trashed_section?void 0:[{tabName:(0,k.t)("file_browser.tool_bar.drafts"),view:{view:"folder",folderId:e.id},ariaLabel:(0,k.t)("file_browser.tool_bar.drafts.aria_label")},{tabName:(0,k.t)("file_browser.tool_bar.deleted"),view:{view:"deletedFiles"},ariaLabel:(0,k.t)("file_browser.tool_bar.deleted.aria_label")}],viewbarActions:["deletedFiles"===o.view?l.createElement(ir.gr,{key:3,dispatch:t,options:c,selectedView:o}):null,l.createElement(ir.ye,{key:0,config:c.tileSortFilterConfig}),l.createElement(ir.mc,{key:1,dispatch:t,options:c,selectedView:o}),l.createElement(ir.$c,{key:2,initialViewMode:c.tileSortFilterConfig.viewMode,onViewModeChange:e=>{(0,ei.sx)("file view toggle",{viewType:e===lf.XU.GRID?"grid":"list"}),t(z.JF({selectedView:o,config:{...c.tileSortFilterConfig,viewMode:e}}))}})]})}var h0=a(344780),h1=a(716475),h2=a(305928);function h4(){let e=l.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 311 213",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{x:"0",y:"0",width:"310",height:"212",rx:"5.5",stroke:"#E5E5E5",strokeDasharray:"5 6"}),l.createElement("rect",{width:"100%",height:"100%",fill:"url(#paint0_linear_1701_4654)"}),l.createElement("defs",null,l.createElement("linearGradient",{id:"paint0_linear_1701_4654",x1:"0",y1:"0",x2:"0",y2:"100%",gradientUnits:"userSpaceOnUse"},l.createElement("stop",{stopColor:"var(--color-bg, white)",stopOpacity:"0"}),l.createElement("stop",{offset:"0.661458",stopColor:"var(--color-bg, white)"}))));return l.createElement("div",{className:h2.kL},l.createElement("div",{className:h2.yl},l.createElement("div",{className:h2._h},e)))}function h8({text:e,tooltipText:t,currentProgress:a,totalProgress:r}){return l.createElement(nV.Y,{direction:"vertical",height:"hug-contents",spacing:"7px"},l.createElement(nV.Y,{horizontalAlignItems:"space-between"},l.createElement(nV.Y,{spacing:4},l.createElement(L.E,{fontSize:13,fontWeight:"medium"},e),l.createElement("div",{"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":t,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-tip-align-left":!0,"data-tooltip-text-left":!0},l.createElement(eO.In,{icon:"info-16",fill:"secondary"}))),l.createElement(L.E,{fontSize:13,fontWeight:"medium"},a,"/",r)),l.createElement("div",{className:S.cx.relative.wFull.$},l.createElement("div",{className:S.cx.absolute.wFull.$},l.createElement(nV.Y,{cornerRadius:5,height:5,backgroundColor:"disabled"})),l.createElement("div",{className:S.cx.absolute.wFull.$},l.createElement(nV.Y,{cornerRadius:5,height:5,width:`${Math.min(a/r*100,100)}%`,backgroundColor:a>=r?"warning":"brand"}))))}function h3({canEditTeam:e,isDraftsFolder:t}){let a=(0,s.wA)(),r=(0,tQ.ol)(),n=(0,ee._6)(),i=(0,eP.PP)();return t||!r||(0,eN.w5)(r)||"folder"!==n.view||!i()?null:l.createElement(h5,{folderId:n.folderId,showPlanComparisonModal:()=>{a((0,e$.to)({type:ed.V,data:{upsellSource:e8.b.STARTER_LIMIT_OVERVIEW,teamId:r.id}}))},canEditTeam:e})}function h5({folderId:e,showPlanComparisonModal:t,canEditTeam:a}){let r=(0,np.Rs)(ng.yU5,{projectId:e}),n=eY.h.useTrackingContext({trigger:e8.b.STARTER_LIMIT_OVERVIEW}),i=(0,eP.Gm)();if("loaded"!==r.status)return null;let o=r.data.project?.team?.projectsCount.status==="loaded"?r.data.project?.team?.projectsCount.data??1:1,s=r.data.project?.team?.teamFileCounts?.designFileCount??0,c=r.data.project?.team?.teamFileCounts?.whiteboardFileCount??0,d=r.data.project?.team?.teamFileCounts?.slideFileCount,m=d?parseInt(d,10):0,u=s>=eN.WW||c>=eN.WW;return l.createElement(eG.fu,{name:"Starter Limit Overview",properties:n},l.createElement("div",{className:D()(S.cx.cursorDefault.mr32.maxW300.colorBg.$,"starter_limit_overview--responsiveHide--tahPL"),style:tB.sx.sticky.add({alignSelf:"flex-start",top:"128px"}).$},l.createElement(nV.Y,{direction:"vertical",padding:32,spacing:24,cornerRadius:8,strokeWidth:1,strokeColor:"default",height:"hug-contents"},l.createElement(L.E,{fontSize:14,fontWeight:"semi-bold"},(0,k.tx)("file_browser.starter_limit.your_starter_team_overview")),l.createElement(h9,{numProjects:o,numFigmaFilesUsed:s,numFigjamFilesUsed:c,numSlidesFilesUsed:m,isSlidesFilesDisplayed:i}),a?l.createElement(nV.Y,{direction:"vertical",spacing:"12px"},l.createElement(L.E,{fontSize:13},(0,k.tx)(u?"file_browser.starter_limit.running_out_of_files":"file_browser.starter_limit.enough_for_you_to_get_started")),l.createElement(r8.vd,{onClick:t,trackingProperties:{trackingDescriptor:ep.c.VIEW_PLANS}},(0,k.tx)("upgrade.view_plans"))):l.createElement(L.E,{fontSize:13},(0,k.tx)("file_browser.starter_limit.trying_things_out")))))}function h9({numProjects:e,numFigmaFilesUsed:t,numFigjamFilesUsed:a,numSlidesFilesUsed:r,isSlidesFilesDisplayed:n}){return l.createElement(nV.Y,{direction:"vertical",spacing:24,width:234},l.createElement(h8,{text:(0,k.t)("file_browser.starter_limit.projects"),tooltipText:(0,k.t)("file_browser.starter_limit.projects.tooltip"),currentProgress:e,totalProgress:eN.Wf}),l.createElement(h8,{text:(0,k.t)("file_browser.starter_limit.design_files"),tooltipText:(0,k.t)("file_browser.starter_limit.design_files.tooltip"),currentProgress:t,totalProgress:eN.WW}),l.createElement(h8,{text:(0,k.t)("file_browser.starter_limit.figjam_boards"),tooltipText:(0,k.t)("file_browser.starter_limit.figjam_boards.tooltip"),currentProgress:a,totalProgress:eN.WW}),n&&l.createElement(h8,{text:(0,k.t)("file_browser.starter_limit.slides"),tooltipText:(0,k.t)("file_browser.starter_limit.slides.tooltip"),currentProgress:r,totalProgress:eN.WW}))}var h6=a(107460),h7=a(119198),ve=a(296559),vt=a(835156),va=a(974105),vr=a(857766),vn=a(779709),vi=a(707465),vo=a(565167),vl=a(723127),vs=a(828702);let vc="tiles_view--tilesGrid--gtDcv tiles_view--tiles--PQRwh",vd="tiles_view--container--u00AG",vm="tiles_view--emptyStateContainer--eoExf",vu="tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd",v_={metaContainer:320,sidebar:241,tileGridOuterPadding:32,singleTile:272,singleTileWithPadding:304},vp=256/192;function vf({tile:e,index:t,dispatch:a,selectedView:r,currentPlanFilter:n,currentSharedByFilter:i,isListView:o}){e.type===rt.nb.FILE&&(a(Q.UN({fileKey:e.file.key,entrypoint:"file tile",currentPlanFilter:n,currentSharedByFilter:i,viewMode:void 0!==o?o?"list":"grid":void 0})),(0,vi.K)(r)&&a(Q.T5({index:t})),d.eD&&(0,ei.sx)("Open File Click",{fileKey:e.file.key,fileRepoId:e.file.file_repo_id,uiSelectedView:JSON.stringify(r)}))}let vg=()=>Math.max(Math.floor((window.innerWidth-v_.sidebar-v_.metaContainer-v_.tileGridOuterPadding)/v_.singleTileWithPadding),0),vE=(e,t)=>{let a=rt.Tf.getName(e)||"",r=rt.Tf.getName(t)||"";return B.INTL_COLLATOR.compare(a,r)},vh=(e,t)=>{let a=(rt.Tf.getName(e)||"").toLowerCase(),r=(rt.Tf.getName(t)||"").toLowerCase();return a===r?0:a<r?-1:1},vv=(e,t)=>{if(e.type!==rt.nb.FILE||t.type!==rt.nb.FILE)return 0;let a=e.file,r=t.file;return a.created_at<r.created_at?1:-1},vy=(e,t)=>e.type!==rt.nb.PROTOTYPE||t.type!==rt.nb.PROTOTYPE?0:e.prototype.file_key<t.prototype.file_key?-1:1,vb=(e,t)=>{let a=rt.Tf.getAccessedAt(e),r=rt.Tf.getAccessedAt(t);return a&&r?a>r?1:-1:r?-1:a?1:0},vw=(e,t)=>rt.Tf.getCreatedAt(e)>rt.Tf.getCreatedAt(t)?1:-1,vT=(e,t)=>{let a=rt.Tf.getTouchedAt(e),r=rt.Tf.getTouchedAt(t);return null===a||null===r?0:a>r?1:-1},vI=(e,t)=>e.type!==rt.nb.FILE&&e.type!==rt.nb.REPO||t.type!==rt.nb.FILE&&t.type!==rt.nb.REPO?0:(e.type===rt.nb.FILE?e.file.trashed_at:e.repo.trashed_at)>(t.type===rt.nb.FILE?t.file.trashed_at:t.repo.trashed_at)?1:-1;function vC(e){let t=l.useRef(null),a=l.useRef(null),r=l.useRef(null),n=(0,eJ.iZ)(),i=(0,ee._6)(),o="folder"===i.view?i.folderId:null,c=ro.M4.Folder.useValue(o).data,u=[n?.drafts_folder_id,n?.personal_drafts_folder_id].includes(c?.id),{showing:_,show:f,data:g}=(0,lu.L)();l.useEffect(()=>{let e="page_selected_view",t=h0.sn.get(e);if(t&&t.isRunning&&!t.isUnreliable){let t=h0.sn.tryStop(e);t&&(0,ei.sx)("File Browser Tab Switch Page Load Time",{elapsedMs:t,selectedView:i.view},{forwardToDatadog:!0,batchRequest:!0})}},[i.view,o]);let h=(0,eZ.FC)(),{userStateLoaded:v,userExternallyRestricted:y,selectedBranchKeyByRepoId:b,upsellData:w}=(0,nX.R)(e=>{let t=null,a=(0,va.e9)(e),r=a&&a.team_id&&e.teams[a.team_id];return a&&r&&(0,eS.canEditTeam)(r.id,e)&&(t={team:r,folderId:a.id,isAtFileLimit:[e0.P4.FILES_LIMITED,e0.P4.FILES_LIMITED_LEGACY,e0.P4.WHITEBOARD_FILES_LIMITED,e0.P4.WHITEBOARD_FILES_LIMITED_BETA,e0.P4.SLIDE_FILES_LIMITED,e0.P4.SLIDE_FILES_LIMITED_BETA].some(e=>!!r.restrictions_list?.includes(e))}),{userFlags:e.userFlags,userStateLoaded:e.userStateLoaded,userExternallyRestricted:(0,eS.isOrgUserExternallyRestrictedFromState)(h),selectedBranchKeyByRepoId:e.selectedBranchKeyByRepoId,upsellData:t}}),T=(0,s.wA)(),I=(0,eP.PP)(),C=(0,tQ.ol)(),N=!!C&&!!e.eligibleForLockedStateRedesign,[L,A]=l.useState(()=>vg()),R=e.sortFilterOptions.tileSortFilterConfig.viewMode===lf.XU.LIST,F="recentsAndSharing"===i.view&&i.tab===t4.G.SHARED_FILES,O=(e,t,a)=>e===lf.rJ.ANY||e===lf.rJ.SELF&&a.type===rt.nb.FILE&&a.file.creator_id===t||e===lf.rJ.SELF&&a.type===rt.nb.REPO&&a.branches[0].creator_id===t||e===lf.rJ.OTHER&&a.type===rt.nb.FILE&&a.file.creator_id!==t||e===lf.rJ.OTHER&&a.type===rt.nb.REPO&&a.branches[0].creator_id!==t,P=(e,t)=>{let a="design";switch(t.type===rt.nb.FILE?a=t.file.editor_type:t.type===rt.nb.PINNED_FILE?a=t.file.editorType:t.type===rt.nb.OFFLINE_FILE&&(a=t.file.editorType),e){case lf.t2.ANY:return!0;case lf.t2.DESIGN:if(t.type===rt.nb.FILE||t.type===rt.nb.REPO||t.type===rt.nb.PINNED_FILE||t.type===rt.nb.OFFLINE_FILE)return"design"===a;return!1;case lf.t2.FIGJAM:if(t.type===rt.nb.FILE||t.type===rt.nb.PINNED_FILE||t.type===rt.nb.OFFLINE_FILE)return"whiteboard"===a;return!1;case lf.t2.PROTOTYPE:return t.type===rt.nb.PROTOTYPE;case lf.t2.SLIDES:if(t.type===rt.nb.FILE||t.type===rt.nb.PINNED_FILE||t.type===rt.nb.OFFLINE_FILE)return"slides"===a;return!1;case lf.t2.SITES:if(t.type===rt.nb.FILE||t.type===rt.nb.PINNED_FILE||t.type===rt.nb.OFFLINE_FILE)return"sites"===a;return!1;default:(0,x.assertNever)(e)}},M=(e,t)=>!e||e===`${rt.Tf.getSharedBy(t)}`,U=l.useCallback((e,t)=>{if("sharedWithYou"===i.view||"recentsAndSharing"===i.view&&i.tab===t4.G.SHARED_FILES||!e||!e.planId)return!0;let a=e.planId;switch(t.type){case rt.nb.FILE:return("org"===e.planType?t.file.parent_org_id:t.file.team_id)===a;case rt.nb.REPO:return("org"===e.planType?t.repo.parent_org_id:t.repo.team_id)===a;case rt.nb.PROTOTYPE:return("org"===e.planType?t.prototype.parent_org?.id:t.prototype.parent_team?.id)===a;case rt.nb.OFFLINE_FILE:return"org"===e.planType&&t.file.orgId===a;default:return!1}},[i]),V=l.useCallback((t,a)=>{let r,n,o;let l=t.filter(e=>M(a.filters.sharedBy,e)&&P(a.filters.fileType,e)&&O(a.filters.creator,h.user?.id,e)&&U(a.filters.plan,e));if(r=F?l.filter(e=>e.type===rt.nb.FILE||e.type===rt.nb.PROTOTYPE||e.type===rt.nb.REPO):l.filter(e=>e.type===rt.nb.FILE||e.type===rt.nb.REPO||e.type===rt.nb.OFFLINE_FILE),"recentsAndSharing"===i.view&&i.tab===t4.G.SHARED_FILES)return l;let s=a.sort.dir===lf.ue.DESC;switch(a.sort.key){case lf.C0.SEARCH_RELEVANCE:return t;case lf.C0.ACCESSED_AT:n=gz.f.byComparators(vb),o=l;break;case lf.C0.CREATED_AT:n=gz.f.byComparators(vw),o=l;break;case lf.C0.TOUCHED_AT:n=gz.f.byComparators(vT),o=r;break;case lf.C0.NAME:if(u){n=gz.f.byComparators(vE,gz.f.byProperty("type")),o=l;break}let c=l.length<B.REASONABLE_LOCALE_SORT_CUTOFF;n=gz.f.byComparators(c?vE:vh,gz.f.byProperty("type"),vv,vy),o=l;break;case lf.C0.TRASHED_AT:n=gz.f.byComparators(vI),o=r;break;case lf.C0.SHARED_AT:return l;default:return console.error("Unknown sort key",a.sort.key),[]}if(n=s?gz.f.reverse(n):n,o.sort(n),e.isDataPartial)for(;o[o.length-1]?.type===rt.nb.OFFLINE_FILE;)o.pop();return o},[F,U,e.isDataPartial,u,i,h.user?.id]),H=l.useMemo(()=>V(e.tiles,e.sortFilterOptions.tileSortFilterConfig),[V,e.tiles,e.sortFilterOptions.tileSortFilterConfig]),W=l.useMemo(()=>{if("deletedFiles"===i.view)return[];let e=[];return H.forEach(t=>{switch(t.type){case rt.nb.FILE:e.push({fileKey:t.file.key});break;case rt.nb.REPO:e.push(...t.branches.map(e=>({fileKey:e.key})))}}),e},[i.view,H]),j=(0,np.p)(ng.hqi,W);l.useEffect(()=>{for(let{result:e,args:t}of j)if("loaded"===e.status&&e.data){let a=(0,vt.ZF)(e.data);T(a3.Lk({fileKey:t.fileKey,users:a}))}},[j,T]);let $=(0,e_.md)(rt.Y6),G=l.useCallback((t,a,r)=>{vf({tile:t,index:r,dispatch:T,selectedView:i,currentPlanFilter:e.currentPlanFilter,currentSharedByFilter:e.currentSharedByFilter,isListView:R}),function({tile:e,e:t,dispatch:a,selectedView:r,permissionsState:n,selectedBranchKeyByRepoId:i,renamingItem:o}){if(rt.Tf.isRenaming(e,o)||e.type===rt.nb.FILE&&e.file.trashed_at||e.type===rt.nb.REPO&&e.repo.trashed_at){t.preventDefault(),t.stopPropagation();return}let l=E.Ay.mac?t.metaKey:t.ctrlKey,s=null;l&&t.shiftKey?s=d.aw.FOCAL_TAB:l?s=d.aw.BACKGROUND_TAB:t.shiftKey&&(s=d.aw.NEW_WINDOW);let c=n.user;if(d.eD){let r;switch(s=s??d.aw.FOCAL_TAB,t.preventDefault(),t.stopPropagation(),e.type){case rt.nb.FILE:r=!!(e.file.is_team_template&&(0,t9.LQ)(n)),d.eD.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",fileEditorType:e.file.editor_type,target:s,isBranch:(0,vr.Xm)(e.file),isLibrary:!!e.file.last_published_at,isTeamTemplate:r,userId:c?.id});break;case rt.nb.PINNED_FILE:r=!!(e.file.isTeamTemplate&&(0,t9.LQ)(n)),d.eD.openFile({fileKey:e.file.key,title:e.file.name||"Untitled",fileEditorType:e.file.editorType,isTeamTemplate:r,target:s,userId:c?.id});break;case rt.nb.PROTOTYPE:d.eD.openPrototype(e.prototype.file_key,e.prototype.page_id,e.prototype.name||"",s,c?.id);break;case rt.nb.REPO:let o=(0,vr.mr)(e.repo,e.branches,i);d.eD.openFile({fileKey:o.key,title:o.name,fileEditorType:o.editor_type,target:s,isBranch:(0,vr.Xm)(o),isLibrary:!!o.last_published_at,userId:c?.id});break;case rt.nb.OFFLINE_FILE:a(h7.NA({file:e.file,openNewFileIn:ha.ai.NEW_TAB,source:vo.U.OFFLINE_FILE_TILE}));break;default:(0,x.assertNever)(e)}return}if(null!=s){if(a(z.oB()),e.type===rt.nb.OFFLINE_FILE){a(h7.NA({file:e.file,openNewFileIn:ha.ai.NEW_TAB,source:vo.U.OFFLINE_FILE_TILE})),t.preventDefault(),t.stopPropagation();return}if(t instanceof KeyboardEvent){let a=rt.Tf.getUrl(e,i);m.Ay.redirect(a,"_blank"),t.preventDefault(),t.stopPropagation()}return}t.preventDefault(),t.stopPropagation();let u=n.currentUserOrgId,_=n.currentTeamId,f="recentsAndSharing"===r.view||"folder"===r.view?r:void 0,g=(0,p.kc)().ps_benchmark;a(g?ve.c5({planId:u||_,planType:u?hr.O.ORG:hr.O.TEAM}):ve.p4({planId:u||vl.P}));let h={user:c,teamId:g?_:null,orgId:u,selectedView:r};switch(e.type){case rt.nb.FILE:{let t=e.file;(0,lI.N7)(u,t.parent_org_id,_,t.team_id)?(0,lI.QV)({file:{key:e.file.key,editorType:e.file.editor_type||void 0}},h):a(z.$T({view:"fullscreen",fileKey:e.file.key,editorType:vn.z4.getIsExtension()?gP.nT.DevHandoff:e.file.editor_type?(0,gP.wN)(e.file.editor_type):gP.nT.Design,prevSelectedView:f}));break}case rt.nb.PINNED_FILE:(0,lI.N7)(u,e.file.parentOrgId,_,e.file.teamId)?(0,lI.QV)({file:{key:e.file.key,editorType:e.file.editorType}},h):a(z.$T({view:"fullscreen",fileKey:e.file.key,editorType:e.file.editorType?(0,gP.wN)(e.file.editorType):gP.nT.Design,prevSelectedView:f}));break;case rt.nb.PROTOTYPE:let v=e.prototype.fig_file;(0,lI.N7)(u,v.parent_org_id,_,v.team_id)?(0,lI.QV)({base:"proto",file:{key:v.key,editorType:v.editor_type||void 0},nodeId:e.prototype.page_id},h):a(z.$T({view:"prototype",file:v,nodeId:e.prototype.page_id,prevSelectedView:f}));break;case rt.nb.REPO:{let t=(0,vr.mr)(e.repo,e.branches,i);if(!t)throw Error(`Branch not found for repo ${e.repo.id}`);let r=t.key;(0,lI.N7)(u,t.parent_org_id,_,t.team_id)?(0,lI.QV)({file:{key:r}},h):a(z.$T({view:"fullscreen",fileKey:r,editorType:gP.nT.Design,prevSelectedView:f}));break}case rt.nb.OFFLINE_FILE:a(h7.NA({file:e.file,openNewFileIn:ha.ai.SAME_TAB,source:vo.U.OFFLINE_FILE_TILE}));break;default:(0,x.assertNever)(e)}}({tile:t,e:a,dispatch:T,selectedView:i,permissionsState:h,selectedBranchKeyByRepoId:b,renamingItem:$})},[R,e.currentPlanFilter,e.currentSharedByFilter,T,h,b,i,$]),Y=l.useCallback((t,a,r)=>{vf({tile:t,index:r,dispatch:T,selectedView:i,currentPlanFilter:e.currentPlanFilter,currentSharedByFilter:e.currentSharedByFilter,isListView:R})},[R,e.currentPlanFilter,e.currentSharedByFilter,i,T]),Q=l.useCallback((e,t,a)=>{f({data:{tile:e,targetRect:{top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},index:a,enableRestore:t.shiftKey&&t.altKey}})},[f]),K=(0,rt.nw)(e.tiles);l.useEffect(()=>{let e=()=>{A(vg())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),l.useEffect(()=>{if(E.Ay.mobile&&E.Ay.safari&&t.current){let e=t.current.className,a=()=>{t.current&&(t.current.className=""),setTimeout(()=>{t.current&&(t.current.className=e)},500)};return window.addEventListener("load",a),()=>window.removeEventListener("load",a)}},[]);let q=l.createElement("div",{className:S.cx.flex.alignCenter.$},l.createElement(ir.$c,{initialViewMode:e.sortFilterOptions.tileSortFilterConfig.viewMode,onViewModeChange:t=>{(0,ei.sx)("file view toggle",{viewType:t===lf.XU.GRID?"grid":"list"}),T(z.JF({selectedView:i,config:{...e.sortFilterOptions.tileSortFilterConfig,viewMode:t}}))}})),Z=(0,eS.canEditTeam)(c?.team_id||C?.id||"",h),X=l.createElement("div",null),J=l.createElement(ir.$f,{options:e.sortFilterOptions,selectedView:i,dispatch:T}),et=l.createElement("div",{className:S.cx.flex.$},J,q),ea=l.createElement(ir.C9,{options:e.sortFilterOptions,selectedView:i,dispatch:T,sharedWithYouFilters:e.sharedWithYouFilters});X=l.createElement("div",{className:D()(!e.isFolder||Z?"tiles_view--viewBarWrapper--AR2zB":"tiles_view--viewBarWrapperWithTopPadding--4zGHb","tiles_view--viewBarWrapperNoExtraLeftPadding--L4Ueu")},l.createElement(ir.lU,{leftSide:ea,rightSide:et}));let[er,en]=l.useState([]);if((0,h1.Cm)(er),0===H.length){let t="";if(e.emptyStateText?t=e.emptyStateText:(E.Ay.mobile||E.Ay.tablet)&&(t=(0,k.t)("file_browser.folder.this_project_is_empty")),t)return l.createElement("div",{className:vm},!e.hideSorter&&X,l.createElement("div",{className:S.cx.flex.$},l.createElement("div",{className:vu},t),N&&l.createElement("div",{className:S.cx.mr32.$},l.createElement(vs.R,{teamId:C.id,canEditTeam:Z}))));if(e.emptyStateContent)return l.createElement("div",{className:vm},e.emptyStateContent)}let eo=vd+(R?` ${h2._O} `:` ${h2.CK} `),el=e.tiles.length>0;if(!v)return l.createElement("div",{className:"tiles_view--loading--6rn3X"},l.createElement(tP.kt,null));let es=!R&&L>0&&w?.isAtFileLimit&&!I(),ec=es?(()=>{if(0===L)return 0;let e=window.innerWidth-v_.sidebar-v_.metaContainer,t=v_.singleTileWithPadding-v_.singleTile;return Math.max((e-v_.tileGridOuterPadding-L*t)/L/vp+v_.tileGridOuterPadding,0)})():void 0;return l.createElement("div",{className:vd,ref:t},l.createElement("div",{className:eo,ref:a},!e.hideSorter&&X,l.createElement("div",{className:S.cx.flex.$},el&&l.createElement(h6.d,{sortConfig:e.sortFilterOptions.tileSortFilterConfig.sort,handleOpenTile:Y,items:H,sortBy:t=>{let a=e.sortFilterOptions.tileSortFilterConfig,r=a.sort.dir===lf.ue.DESC?lf.ue.ASC:lf.ue.DESC;T(z.JF({selectedView:i,config:{...a,sort:{key:t,dir:t===a.sort.key?r:a.sort.dir}},tab:"recentsAndSharing"===i.view?i.tab:void 0}))},viewType:R?lf.XU.LIST:lf.XU.GRID,updateRenderedItems:en,handleOpenDropdown:Q,checksForViewOnlyLabels:N?{teamId:C.id,isLockedTeam:N}:void 0,interactiveThumbnailsEnabled:!!(0,p.kc)().scrub_file_browser_search_results}),el&&(N?l.createElement("div",{className:S.cx.mr32.$},l.createElement(vs.R,{teamId:C.id,canEditTeam:Z})):l.createElement(h3,{canEditTeam:Z,isDraftsFolder:u}))),es&&l.createElement(eG.fu,{name:"Tiles View Upsell",properties:{buttonColor:"blue"}},l.createElement("div",{className:vc},[...Array(L)].map((e,t)=>l.createElement(h4,{key:t}))),l.createElement("div",{className:"tiles_view--upgradeOverlay--ZwyMN",style:{marginTop:`-${ec}px`,height:`${ec}px`}},l.createElement("p",{className:"tiles_view--upgradeTitle--PFF3i text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,k.tx)("file_browser.folder.ready_for_an_upgrade")),l.createElement("p",{className:"tiles_view--upgradeText--ApEbY text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,k.tx)("file_browser.folder.do_more_paid_plan",{lineBreak:l.createElement("br",null)})),l.createElement(tF.vd,{onClick:()=>{if(w){let e=e8.b.TILES_VIEW_UPSELL;T((0,e$.to)({type:ed.V,data:{upsellSource:e,teamId:w.team.id}}))}},trackingProperties:{trackingDescriptor:ep.c.VIEW_PLANS}},(0,k.tx)("file_browser.folder.view_plans")))),!(E.Ay.mobile||E.Ay.tablet)&&e.newFileTile&&!y&&!el&&!es&&l.createElement("div",{className:S.cx.flex.$},l.createElement("div",{className:"tiles_view--importPrompt--srrJn",ref:e=>{e&&(r.current=ly.findDOMNode(e))}},l.createElement("div",{className:vu},l.createElement("div",{className:"tiles_view--emptyTitle--3Vwmu"},e.isFolder?(0,k.t)("file_browser.folder.this_project_doesn_t_have_any_files"):(0,k.t)("file_browser.folder.no_files_yet")),(0,k.tx)("file_browser.folder.create_a_new_file_to_start_from_scratch_lucid",{lineBreak:l.createElement("br",null)}))),N?l.createElement("div",{className:S.cx.mr32.$},l.createElement(vs.R,{teamId:C.id,canEditTeam:Z})):l.createElement(h3,{canEditTeam:Z,isDraftsFolder:u}))),(()=>{let t=g?.tile??null,a=g?.index;return l.createElement(eG.fu,{name:e.isFolder?e9.e0.PROJECT_TILES_VIEW_DROPDOWN:e9.e0.TILES_VIEW_DROP_DOWN,enabled:_,properties:{tileType:t?.type,tileFileId:t?.type===rt.nb.FILE?t?.file.key:void 0}},l.createElement(l_.i,{...e,tile:t,selectedTiles:K,openTile:e=>{t&&G(t,e,a)},dropdownVisible:_}))})())}function vx(e){return l.createElement("div",{className:vm},l.createElement("div",{className:vu},e.emptyStateText,l.createElement("div",{onMouseDown:e.onClaimClick},l.createElement(tF.cw,{className:"tiles_view--emptyButton--oAaGe"},(0,k.tx)("tile.empty.join_as_owner")))))}function vN(){let e=(0,s.d4)(e=>e.currentUserOrgId),t=(0,tN.d)(),a=(0,s.d4)(e=>e.currentTeamId),r=(0,s.d4)(e=>e.tileSortFilterStateByView),n=(0,tL.vt)(),i=(0,eP.Yz)(),o=(0,hW.xx)(e=>({tileSortFilterConfig:e,sortKeys:[lf.C0.TRASHED_AT,lf.C0.NAME,lf.C0.CREATED_AT,lf.C0.TOUCHED_AT]}))(r.deletedFiles),c=(0,p.kc)().pdr_trashed_section&&(0,p.kc)().trashed_files_your_files_filter&&o.tileSortFilterConfig.filters.creator===lf.rJ.SELF?"your_files":null,[{data:d,status:m}]=(0,f.IT)((0,Q.Uk)({orgId:e,teamId:a,creatorFilter:c})),u=d?.files||[],_=d?.repos||[],g=[...u.map(e=>({type:rt.nb.FILE,file:e})),..._.map(e=>({type:rt.nb.REPO,repo:e.repo,branches:[e.main_file],selectedBranchKey:e.main_file.key}))];return l.createElement(tO.A,{loadingElementId:"loading-content-pane",loaded:"loading"!==m,loadingElementClassName:S.cx.pr32.$,backgroundColor:"default"},l.createElement(vC,{tiles:g,newFileTile:!1,tileActions:{restore:!0,restoreToOtherFolders:!0,deleteForever:!0,duplicateToDrafts:!t},sortFilterOptions:o,hideSorter:!0,emptyStateText:(0,p.kc)().pdr_trashed_section?(0,k.t)("file_browser.tool_bar.trashed_empty_state"):(0,k.t)("file_browser.tool_bar.deleted_empty_state"),eligibleForLockedStateRedesign:i(n)}),l.createElement(hD.cx,null))}var vS=a(455057),vk=a(418993),vL=a(426887),vA=a(396226),vR=a(300874),vF=a(449731);function vO(e,t,a){return e&&t&&!(0,eN.w5)(e)&&"recentsAndSharing"!==a&&"trashedFolders"!==a}function vP({canEditTeam:e}){let t=(0,s.wA)(),a=(0,tQ.ol)(),r=(0,ee.z3)(),n=(0,h.I7)("exp_fbg_project_limit_upsell"),i=eY.h.useTrackingContext({trigger:e8.b.FOLDER_UPSELL_CARD});if(!vO(a,e,r)||!n.getConfig().getValue("show_upsell",!1))return null;let o=l.createElement(tF.Us,{className:S.cx.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),t((0,e$.to)({type:ed.V,data:{upsellSource:e8.b.FOLDER_UPSELL_CARD,teamId:a?.id}}))},trackingProperties:{trackingDescriptor:ep.c.PROFESSIONAL_PLAN,...i},trusted:!0},(0,k.tx)("team_view.folder_upsell.professional_plan"));return l.createElement(eG.fu,{name:"Folder Upsell Card",properties:i},l.createElement(eG.$z,{className:D()(S.cx.flex.alignLeft.p24.$,"folder_upsell--card--m7-Lh"),onClick:()=>{t((0,e$.to)({type:vF.DV,data:{team:a,resource:vR.vL.FOLDER,action:rs.ZN.CREATE_FOLDER,currentPlan:vA.F.Plan.STARTER,upsellPlan:vA.F.Plan.PRO,editorType:null,upsellSource:e8.b.FOLDER_UPSELL_CARD}}))},trackingProperties:{trackingDescriptor:ep.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button"},l.createElement("div",{style:tB.sx.add({paddingBottom:"85%"}).$})," ",l.createElement(nV.Y,{direction:"vertical",spacing:0},l.createElement("div",{className:S.cx.relative.wFull.hFull.$},l.createElement("div",{style:tB.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$},l.createElement(nV.Y,{cornerRadius:20,backgroundColor:"brand",height:40,width:40},l.createElement(eO.In,{icon:"new-40",fill:"onbrand"}))),l.createElement(nV.Y,{direction:"vertical",spacing:"12px"},l.createElement(nV.Y,{direction:"horizontal",spacing:"12px"},l.createElement(nV.Y,{cornerRadius:8,backgroundColor:"default"}),l.createElement(nV.Y,{cornerRadius:8,backgroundColor:"default"})),l.createElement(nV.Y,{direction:"horizontal",spacing:"12px"},l.createElement(nV.Y,{cornerRadius:8,backgroundColor:"default"}),l.createElement(nV.Y,{cornerRadius:8,backgroundColor:"default"})))),l.createElement(nV.Y,{direction:"vertical",padding:{top:16},spacing:0,height:"hug-contents"},l.createElement(L.E,{fontSize:13,fontWeight:"medium"},(0,k.tx)("team_view.folder_upsell.upgrade_to_create_more_projects")),l.createElement(L.E,{fontSize:11,color:"secondary"},(0,k.tx)("team_view.folder_upsell.get_unlimited_everything",{professionalPlanLink:o}))))))}function vD({canEditTeam:e}){let t=(0,s.wA)(),a=(0,tQ.ol)(),r=(0,ee.z3)(),n=eY.h.useTrackingContext({trigger:e8.b.FOLDER_UPSELL_CARD}),i=(0,h.I7)("exp_fbg_project_limit_upsell");if(!vO(a,e,r)||!i.getConfig().getValue("show_upsell",!1))return null;let o=l.createElement(tF.Us,{className:S.cx.noWrap.cursorDefault.$,onClick:e=>{e.stopPropagation(),t((0,e$.to)({type:ed.V,data:{upsellSource:e8.b.FOLDER_UPSELL_CARD,teamId:a?.id}}))},trackingProperties:{trackingDescriptor:ep.c.PROFESSIONAL_PLAN,...n},trusted:!0},(0,k.tx)("team_view.folder_upsell.professional_plan"));return l.createElement(eG.fu,{name:"Folder Upsell List",properties:n},l.createElement("div",{className:S.cx.flex.mt16.bRadius8.b1.colorBorder.$,style:tB.sx.add({borderStyle:"dashed",marginLeft:"-16px"}).$},l.createElement(eG.$z,{className:D()(S.cx.flex.alignLeft.gap12.py24.px16.bRadius8.wFull.$,"folder_upsell--list--2Higk"),onClick:()=>{t((0,e$.to)({type:vF.DV,data:{team:a,resource:vR.vL.FOLDER,action:rs.ZN.CREATE_FOLDER,currentPlan:vA.F.Plan.STARTER,upsellPlan:vA.F.Plan.PRO,editorType:null,upsellSource:e8.b.FOLDER_UPSELL_CARD}}))},trackingProperties:{trackingDescriptor:ep.c.FOLDER_UPSELL_CARD},dataTestId:"folder_upsell_button"},l.createElement("div",{className:D()(S.cx.relative.flexShrink0.h40.w64.py4.px8.colorBgSecondary.bRadius4.$,"folder_upsell--listCard--qnkxf")},l.createElement("div",{style:tB.sx.absolute.topHalf.leftHalf.add({transform:"translate(-50%, -50%)"}).$},l.createElement(nV.Y,{cornerRadius:12,backgroundColor:"brand",height:24,width:24,horizontalAlignItems:"center",verticalAlignItems:"center"},l.createElement(eO.In,{icon:"plus-32",fill:"onbrand"}))),l.createElement(nV.Y,{direction:"vertical",spacing:4},l.createElement(nV.Y,{direction:"horizontal",spacing:4},l.createElement(nV.Y,{cornerRadius:2,backgroundColor:"default"}),l.createElement(nV.Y,{cornerRadius:2,backgroundColor:"default"})),l.createElement(nV.Y,{direction:"horizontal",spacing:4},l.createElement(nV.Y,{cornerRadius:2,backgroundColor:"default"}),l.createElement(nV.Y,{cornerRadius:2,backgroundColor:"default"})))),l.createElement(nV.Y,{direction:"vertical",spacing:0},l.createElement(L.E,{fontSize:13},(0,k.tx)("team_view.folder_upsell.upgrade_to_create_more_projects")),l.createElement(L.E,{fontSize:11,color:"secondary"},(0,k.tx)("team_view.folder_upsell.get_unlimited_everything",{professionalPlanLink:o}))))))}var vM=a(312385),vB=a(489348),vU=a(167480),vV=a(750486);let vH="folder_list_view--emptyState--8vmgw tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd",vW="project-card";function vj(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.dropdownShown),r=(0,s.d4)(e=>e.folders),n=(0,s.d4)(e=>e.currentUserOrgId),i=(0,ak.S)(),o=(0,s.d4)(e=>e.user),c=(0,eZ.FC)(),d=(0,tS.wA)(c),m=e.folderList.map(e=>({...e,canView:(0,eS.canViewFolder_DEPRECATED)(e.id,c),hideSubtitle:!!(d&&!(0,eS.canMemberOrg)(d.id,c))})),u=()=>e.viewMode===lf.XU.LIST,_=!!e.teamId&&!!e.eligibleForLockedStateRedesign,p=e.teamId?{teamId:e.teamId,isLockedTeam:!!e.eligibleForLockedStateRedesign}:void 0,f=i?(0,G.H)(a):void 0,g=(t,a)=>{let{hideSubtitle:r,...n}=t,i=!r&&e.showTeamNameOrAuthor;return l.createElement(vB.Z,{key:t.id,showTeamNameOrAuthor:i,folder:n,dataOnboardingKey:a,isSharerInfoIncluded:e.isSharerInfoIncluded,currentPlanFilter:e.currentPlanFilter,checksForViewOnlyLabels:p})};return 0===m.length?l.createElement(l.Fragment,null,e.onCreateNewFolder&&!(0,e1.R$)(o,n)?l.createElement("div",{className:vH},e.canEditTeamContents?l.createElement(l.Fragment,null,l.createElement("div",{className:"folder_list_view--emptyTitle--t1u0a tiles_view--emptyTitle--3Vwmu"},(0,k.tx)("team_view.folder_empty_view.no_projects_yet")),(0,k.tx)("team_view.folder_empty_view.projects_help_you_organize"),l.createElement(tF.cw,{className:"folder_list_view--emptyButton--g-yAA tiles_view--emptyButton--oAaGe",onClick:e.onCreateNewFolder},l.createElement(H.B,{svg:tX.A,className:"folder_list_view--newProjectIcon--O3wnv tiles_view--newFileIcon--LR1sm"}),(0,k.tx)("team_view.folder_empty_view.new_project"))):(0,k.tx)("team_view.folder_empty_view.this_team_does_not_have_any_projects_yet")):null!=e.emptyStateText?l.createElement("div",{className:S.cx.flex.gap32.$},l.createElement("div",{className:vH},e.emptyStateText),_&&l.createElement(vs.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents})):(0,k.tx)("team_view.folder_empty_view.no_projects")):l.createElement(l.Fragment,null,(()=>{let t=m.length>=2?1:1===m.length?0:void 0,a=u()+m.map(e=>e.id).join(",");return u()?l.createElement("div",{className:S.cx.flex.gap36.$},l.createElement("div",null,l.createElement(vM.u,{folderList:m,onChangeSortOptions:e.onChangeSortOptions,dataOnboardingKey:vW,dataOnboardingKeyIndex:t,checksForViewOnlyLabels:p}),!_&&l.createElement(vD,{canEditTeam:e.canEditTeamContents})),_&&l.createElement(vs.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents})):l.createElement("div",{className:S.cx.flex.gap36.wFull.$},l.createElement(vk.o,{chunkSize:e.chunkSize??30,className:u()?"folder_list_view--foldersContainerList--JrOTO":"folder_list_view--foldersContainerGrid--TRHq7",listKey:a},l.createElement(i3.X,{containerClassName:"folder_list_view--tileGrid--hEswM",tileSize:i3.o.Medium,emptyView:l.createElement(l.Fragment,null)},m.map((e,a)=>a===t?g(e,vW):g(e,"")),!_&&l.createElement(vP,{canEditTeam:e.canEditTeamContents}))),_&&l.createElement(vs.R,{teamId:e.teamId,canEditTeam:!!e.canEditTeamContents}))})(),f&&l.createElement(no.p,{folder:f,onRenameClick:()=>{if(!f||!f.canEdit)return;let e=r[f?.id];e&&(t((0,tI.WC)()),t((0,e$.to)({type:(0,vL.y)(),data:{folder:e}})))}}))}let v$=[rl.Dq.NAME,rl.Dq.TEAM,rl.Dq.OWNER,rl.Dq.LAST_MODIFIED],vG=[rl.Dq.SHARED_AT],vY=[rl.Dq.NAME,rl.Dq.TEAM,rl.Dq.OWNER,rl.Dq.LAST_MODIFIED,rl.Dq.SHARED_AT],vz=[rl.Dq.NAME,rl.Dq.LAST_MODIFIED],vQ={[rl.Dq.NAME]:lf.ue.ASC,[rl.Dq.TEAM]:lf.ue.ASC,[rl.Dq.OWNER]:lf.ue.ASC,[rl.Dq.LAST_MODIFIED]:lf.ue.DESC,[rl.Dq.SHARED_AT]:lf.ue.DESC},vK={[lf.XU.GRID]:{[rl.Dq.NAME]:(0,k.tx)("tile.sort_filter.sort_alphabetical"),[rl.Dq.TEAM]:(0,k.tx)("tile.sort_filter.owner"),[rl.Dq.OWNER]:(0,k.tx)("tile.sort_filter.team"),[rl.Dq.LAST_MODIFIED]:(0,k.tx)("tile.sort_filter.sort_last_modified"),[rl.Dq.SHARED_AT]:(0,k.tx)("tile.sort_filter.date_shared"),[rl.Dq.CREATED_AT]:(0,k.tx)("tile.sort_filter.sort_date_created")},[lf.XU.LIST]:{[rl.Dq.NAME]:(0,k.tx)("tile.sort_filter.sort_alphabetical"),[rl.Dq.TEAM]:(0,k.tx)("tile.sort_filter.owner"),[rl.Dq.OWNER]:(0,k.tx)("tile.sort_filter.team"),[rl.Dq.LAST_MODIFIED]:(0,k.tx)("tile.sort_filter.sort_last_modified"),[rl.Dq.SHARED_AT]:(0,k.tx)("tile.sort_filter.date_shared"),[rl.Dq.CREATED_AT]:(0,k.tx)("tile.sort_filter.sort_date_created")}},vq={viewMode:lf.XU.GRID,sortMode:{sortKey:rl.Dq.LAST_MODIFIED,sortDesc:!0}},vZ={...vq,sortMode:{sortKey:rl.Dq.SHARED_AT,sortDesc:!0}},vX={name:gz.f.byProperty("name",gz.f.LEXICOGRAPHICALLY),lastModified:gz.f.byProperty("folderLastUpdated"),team:gz.f.byProperty("folderTeamName",gz.f.LEXICOGRAPHICALLY),owner:gz.f.byProperty("folderOwnerName",gz.f.LEXICOGRAPHICALLY),sharedAt:gz.f.byProperty("folderSharedAt"),createdAt:gz.f.byProperty("created_at"),trashedAt:gz.f.byProperty("trashed_at")};function vJ(e){let{folderList:t,...a}=e,r="trashedFolders"===e.selectedView.view,n=(0,s.d4)(e=>e.teams),i=(0,s.d4)(e=>e.roles),o=(0,s.d4)(e=>e.viewBarViewModeOptionByView),c=(0,s.d4)(e=>e.viewBarSortOptionsByView),d=(0,s.d4)(e=>e.tileSortFilterStateByView),m=e.isSharerInfoIncluded?vG:v$,u=e.showTeamNameOrAuthor?m:vz,_=e.isSharerInfoIncluded?vZ:vq,f=l.useMemo(()=>({viewMode:(0,vV.y2)(e.viewId,o,_.viewMode),sortMode:(0,vV.bV)(e.viewId,{viewBarSortOptionsByView:c},u,_.sortMode)}),[_.sortMode,_.viewMode,e.viewId,u,c,o]),g=(0,s.wA)(),E=t=>{g(z.ZR({viewId:e.viewId,sortMode:{sortKey:t.sortKey,sortDesc:t.sortDesc}}))},h=t=>{g(z.uV({viewId:e.viewId,viewMode:t}))},v=e.isSharerInfoIncluded?"folder_list_view--sharedWithYouFolderColumnHeader--YBKhp folder_list_view--columns--k84Gi":"folder_list_view--allFolderColumnHeader--MGmSg folder_list_view--columns--k84Gi",y=e.showTeamNameOrAuthor?v:"folder_list_view--basicFolderColumnHeader--dZmjY folder_list_view--columns--k84Gi",b="sharedWithYou"===e.selectedView.view,w="recentsAndSharing"===e.selectedView.view,T=!b&&!w&&!r,I=l.useMemo(()=>{if("recentsAndSharing"===e.selectedView.view)return e.folderList;let t=d.trashedFolders,a=r?vX[(0,lf.jx)(t.sort.key)??"trashedAt"]:vX[f.sortMode.sortKey];if(!a)return e.folderList;let o=r?t.sort.dir===lf.ue.DESC?gz.f.reverse(a):a:f.sortMode.sortDesc?gz.f.reverse(a):a,l=e.folderList.map(e=>({...e,...(0,vU.Z)({teams:n,roles:i},e)}));return l.sort(o),l},[e.selectedView.view,f.sortMode.sortKey,f.sortMode.sortDesc,e.folderList,n,i,r,d.trashedFolders]);return l.createElement("div",{className:r&&f.viewMode===lf.XU.LIST?void 0:"folder_list_view--tabContentContainer--lHQoT"},b?l.createElement(v0,{sortFilterOptions:e.sortFilterOptions,sharedWithYouFilters:e.sharedWithYouFilters,onChangeViewModeOption:h,viewBarOptions:f}):null,T?l.createElement(ir.fB,{sortKeys:u,listSortKeys:u,initialSortOrders:vQ,mobileListSortKeys:u,tabletListSortKeys:u,sortKeyDescriptions:vK,listHeaderClassName:`folder_list_view--listViewHeader--kUvYs text--fontPos13--xW8hS text--_fontBase--QdLsd ${y}`,options:f,onChangeSortOptions:E,onChangeViewModeOption:h,displayColumns:b?vY:u,hideViewModeToggle:b||w}):null,(0,p.kc)().pdr_show_trashed_projects_banner&&r&&d.trashedFolders.filters.role===lf.Jh.CAN_BE_VIEWED&&l.createElement("div",{className:`${S.cx.mb16.$} ${f.viewMode===lf.XU.LIST&&S.cx.px32.$}`},l.createElement(vS._,{dataTestId:"may-not-restore-or-permanently-delete-banner",color:vS.S.INFORMATION,text:l.createElement("p",{className:S.cx.fontMedium.$},l.createElement("span",{className:S.cx.fontSemiBold.$},(0,k.tx)("file_browser.folder_list_view.may_not_restore_or_permanently_delete_banner")),"\xa0",(0,k.tx)("file_browser.folder_list_view.may_not_restore_or_permanently_delete_banner_content"))})),l.createElement(vj,{folderList:I,chunkSize:e.chunkSize,viewMode:f.viewMode,onChangeSortOptions:E,...a}))}function v0(e){let{sortFilterOptions:t,sharedWithYouFilters:a,onChangeViewModeOption:r,viewBarOptions:n}=e,i=(0,s.wA)(),o=(0,ee._6)();if("sharedWithYou"!==o.view)return null;if(null==t)return(0,x.assertDev)(!0,`sortFilterOptions prop is ${t}`),null;let c=l.createElement(ir.$f,{options:t,selectedView:o,dispatch:i}),d=l.createElement("div",{className:S.cx.flex.alignCenter.$},l.createElement(ir.$c,{initialViewMode:n.viewMode,onViewModeChange:r})),m=l.createElement("div",{className:S.cx.flex.$},c,d),u=l.createElement(ir.C9,{options:t,selectedView:o,dispatch:i,sharedWithYouFilters:a});return l.createElement(ir.lU,{leftSide:u,rightSide:m})}function v1(){let e=(0,s.d4)(e=>e.currentUserOrgId),t=(0,tQ.ol)(),a=(0,np.Rs)(ng.kQI,{id:t?t.id:""},{enabled:!!t?.id}),r=(0,s.d4)(e=>e.tileSortFilterStateByView),n=(0,ee._6)(),i=(0,eP.Yz)(),o=r.trashedFolders,[{data:c,status:d}]=(0,f.IT)((0,Q.p5)({orgId:e,teamId:t?.id??null,roleFilter:o.filters.role})),m="loaded"===a.status&&!!a.data.team&&a.data.team.hasPermission,u=(0,s.d4)(e=>!!t&&!(0,eN.w5)(t)&&!!(0,eN.oc)(t.id,e));return l.createElement(tO.A,{loadingElementId:"loading-content-pane",delay:250,loaded:"loading"!==d,loadingElementClassName:S.cx.pr32.$,backgroundColor:"default"},l.createElement("div",{style:tB.sx.mt1.$},l.createElement(vJ,{viewId:hz.l,teamId:t?.id,canEditTeamContents:m,folderList:c?.folders||[],chunkSize:c?.folders?.length||0,showTeamNameOrAuthor:!1,isSharerInfoIncluded:!1,selectedView:n,emptyStateText:(0,k.t)("file_browser.trash_project.trashed_empty_state"),useLGPerms:!0,eligibleForLockedStateRedesign:i(u)})))}var v2=(e=>(e.FILES="files",e.FOLDERS="folders",e))(v2||{});function v4(e){let t=(0,ht.y)(),a=t?l.createElement(hX,null):l.createElement(hJ,null),r=t&&"folders"===e.selectedTab?l.createElement(v1,null):l.createElement(vN,null);return l.createElement(ou.r,{viewBarSticky:!0,viewbar:a,content:r})}var v8=a(93484);let v3=[ey.Wb3,ey.KoA,ey.Ult,ey.kmq,ey.USq,ey.DKo,ey.jQF,ey.Ob5,ey.s7O,ey.Qlc,ey.I$z,ey.X5_,ey.RJL,ey.LB2,ey.I5n,ey.n0G,ey.Msu,ey.UmN,ey.nIZ,ey.Ql8,ey.pIP,ey.Q16,ey.O5v,ey.rv,ey.HaT,ey.rQs,ey.YHe,ey.tsc,ey.hxO,ey.sqw,ey.Duq,ey.yjU,ey.BTz,ey.I3H,ey._9u,ey.jVB,ey.syA,ey.tZO,ey.LPt,ey.cJy,ey.tUL,ey.zMZ,ey.tBR,ey.K69,ey.Tp6,ey.fz8,ey.XIg,ey.fQh,ey.O9D,ey.c6t,ey.r3Y].map(e=>e.id);function v5({children:e}){return l.createElement(v8.A,{name:"FileBrowser",order:v3},e)}var v9=a(386079),v6=a(394828),v7=a(425569);let ye="has_seen_jamboard_importer_callout",yt=(0,eg.r1)(ye),ya=(0,eg.r1)("signed_up_from_figjam_jamboard");function yr(){let e=(0,s.wA)(),t=(0,e_.md)(yt),a=(0,e_.md)(ya),r=(0,e_.md)(af.mp),n=(0,e_.md)(af.zN),{isShowing:i,complete:o}=(0,ef.e)({overlay:ey.DKo,priority:eE.N.HIGH_PRIORITY_MODAL},[t,a,r,n]);return l.createElement(eh.rq,{isShowing:i,trackingContextName:"Jamboard Importer Button Callout",targetKey:v9._,userFlagOnShow:ye,onTargetLost:o,onClose:o,primaryCta:{label:(0,k.tx)("rcs.jamboard.importer_callout.primary_cta"),type:"button",onClick:()=>{o(),e((0,e$.to)({type:v7.Qn}))},ctaTrackingDescriptor:ep.c.GET_STARTED},secondaryCta:{label:(0,k.tx)("rcs.jamboard.importer_callout.secondary_cta"),type:"button",onClick:o,ctaTrackingDescriptor:ep.c.NOT_NOW},title:(0,k.tx)("rcs.jamboard.importer_callout.title"),media:l.createElement(v6.y,{src:"https://static.figma.com/uploads/0d827f2ef59eca7e23348ab3935984c306b2ed8d",alt:"",aspectRatio:300/146}),description:(0,k.tx)("rcs.jamboard.importer_callout.desc"),disableHighlight:!0})}let yn=e=>{switch(e){case lf.t2.DESIGN:return"design";case lf.t2.FIGJAM:return"whiteboard";case lf.t2.PROTOTYPE:return"prototype";case lf.t2.SITES:return"sites";case lf.t2.SLIDES:return"slides";case lf.t2.ANY:return"";default:(0,x.assertNever)(e)}},yi=e=>{switch(e){case lf.C0.NAME:return"name";case lf.C0.CREATED_AT:return"created_at";case lf.C0.TOUCHED_AT:return"updated_at";default:return(0,c_.$D)(n_.FigmaTeam.WAYFINDING,Error(`Attempting to sort by an unsupported sort key: ${e}`)),"created_at"}};var yo=a(406941),yl=a(788811),ys=a(439729),yc=a(995852),yd=a(802026),ym=a(986060),yu=a(454984),y_=a(318327),yp=a(659969);let yf=(0,aL.Ju)(function(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.teams)[e.teamId].subscription,r=e.paymentRequiresAction;return(0,l.useEffect)(()=>{yp.T.getHostedInvoicesPage({teamId:e.teamId}).then(({data:e})=>{(0,lI.FJ)(e.meta.hosted_invoice_url,"_blank","noopener")})},[e.teamId]),(0,l.useEffect)(()=>{r||a===e0.Qh.INCOMPLETE||t(e$.ES({type:yf.type}))},[a,t,r]),l.createElement(r6.Eo,{title:(0,k.t)("payments.pending_subscription_modal_header"),hideCancel:!0,confirmText:(0,k.t)("payments.got_it"),trackedConfirmationProperties:{trackingDescriptor:ep.c.CONFIRM_VERIFY_PAYMENT,trackingContextName:"Confirm Verify Payment"}},(0,k.tx)("payments.pending_subscription_modal_description"))},"PENDING_SUBSCRIPTION_CHANGE_MODAL");var yg=a(999394);let yE="banners--warn--bC4ke",yh="banners--primaryCtaButton--tyhCJ",yv="banners--content--ciED3",yy="banners--titleSmall--ceZgU",yb="banners--bold--qt00U",yw="banners--message--9BMLM",yT="banners--messageSmall--YT-82",yI="banners--secondaryCtaButton--uYrvi",yC="banners--ctaButtonGroup--r8cfU",yx="banners--closeButton--IXY-V",yN="banners--teamBannerWithBackground--CwS6V banners--banner--l8udl",yS="banners--teamUpgradeNotice--gqc9c",yk="banners--softWarningBanner--QK9Y5",yL="banners--softWarningBannerBlue--uQmhb";var yA=a(677050),yR=a(403262),yF=a(169321),yO=a(123243);function yP(e,t){let a;if(!e.currentUserOrgId||!(0,eN.wn)(e.currentUserOrgId,e))return null;let r=e.orgById[e.currentUserOrgId],n=(0,eS.canAdminOrg)(e.currentUserOrgId,e),i=r.past_due_at&&(0,tU.A)(r.past_due_at).add(2,"weeks")>(0,tU.A)(new Date);if(!n&&i)return null;let o=(0,tH.zR)(e.orgUsersByOrgId[e.currentUserOrgId]).map(e=>l.createElement("span",{key:e.id,className:yb},e.user.handle," (",e.user.email,")"));return a=n?r.billing===yd.EZ.CHARGE_IMMEDIATELY?(0,k.tx)("payments.org_past_due_on_payment",{invoice:l.createElement("a",{onClick:()=>{t?.(z.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:ac.J7.BILLING}))}},(0,k.tx)("payments.outstanding_invoice")),orgName:r.name}):(0,k.tx)("payments.org_past_due_on_payment_invoiced",{email:l.createElement("b",{className:yb},(0,p.W4)()),orgName:r.name}):(0,k.tx)("payments.please_reach_out_to_org_admins",{orgName:r.name,admins:(0,eS.canMemberOrg)(e.currentUserOrgId,e)&&l.createElement("span",null," ",l.createElement(ys.T,{formatType:"disjunction"},o)),numAdmins:o.length}),{severity:yg.c.WARN,title:(0,k.t)("payments.payment_not_received"),message:a,cta:null,onClickCta:null}}function yD(e,t,a,r,n){let i=a?r.teams[a]:null;if(a&&!i||"file"===e)return null;let o=r.currentTeamId,s=i&&i.subscription===e0.Qh.GRACE_PERIOD,c=r.billingSummary,d=i?.subscription===e0.Qh.INCOMPLETE,u=!!i?.org_id,_=!!i?.subscription,f=e=>e?.status==="open"&&e?.payment_intent?.status===rs.pk.REQUIRES_SOURCE_ACTION,g=(0,p.kc)().requires_action_3ds_banner&&s&&!u&&_&&(f(c?.last_monthly_invoice)||f(c?.last_annual_invoice)),h=i&&(d||g),v=i&&i.subscription===e0.Qh.PAST_DUE,y=i&&i.subscription===e0.Qh.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED,b=a&&(0,eS.canOwnTeam)(a,r),w=a&&(0,eS.canAdminTeam)(a,r),T=a&&(0,eS.canEditTeam)(a,r),I=i&&(0,eN.oc)(i.id,r),C=i&&!(0,eN.n0)(i)&&!i.student_team&&I,x=i&&(i.student_team_state===rs.kU.STUDENT_TEAM_CURRENT||i.student_team_state===rs.kU.STUDENT_TEAM_EXPIRED),N="folder"===e?t:null,S=0,L={showReminder:!1,showAccessRestricted:!1},A=a||N?.team_id,R="folder"===e&&!N,F=!!(0,p.kc)().limited_plan_spaces&&(0,p.Ay)().is_limited_team_plan&&R;if(r.user){let t=A?(0,eS.getRolesForUserAndTeam)(A,r):[],a=A&&(0,eS.hasMinRole)(t,e5.e6.EDITOR),n=["folder","team"].includes(e)&&a,{ps_benchmark:i}=(0,p.kc)(),l=(0,eo.cn)(r.user),s=r.userEduGracePeriods;R?(i&&o&&(0,eo.hP)(r.user.id,r.roles.byTeamId,r.teams[o])||!i&&(0,eo.ej)(r.user.id,r.roles.byTeamId,r.teams))&&(L=(0,eo.df)(s,l),S=(0,eo.Me)(s)):A&&n&&(L=(0,eo.GU)(s,l,A,!!r.teams[A].student_team),S=(0,eo.qS)(s,A))}let O=i&&!(0,eN.n0)(i)&&!i.student_team&&N&&!(0,X.Gi)(N),P=O&&N.is_invite_only,D=O&&N.is_view_only,M=N&&(0,X.sp)(N),B=!M&&!i&&N&&(0,eN.ZZ)(N,r),U=()=>n?.(yc.WX({teamId:i.id,selectedView:r.selectedView})),V=e=>{e.preventDefault(),n?.(e$.to({type:y_.v,data:{teamId:a}}))},H=()=>{n?.(z.$T({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:ek.I.SETTINGS}))},W=()=>m.Ay.redirect("/education/apply",E.Ay.isIpadNative?void 0:"_blank"),j=()=>n?.(yc.WX({teamId:i.id,openInNewTab:!1,selectedView:{view:"team",teamId:i.id}})),$=()=>n?.(e$.to({type:ed.V,data:{upsellSource:e8.b.BANNER}})),G=yP(r,n);if(G)return G;let Y=(0,eN._b)(i),Q=i&&i.subscription_raw!==e0.Qh.OK&&(0,eN.WQ)(i)&&w&&e2.ng.getProTrialStatus(i)!==ym.a.IN_TRIAL&&Y,K=["team","folder"].includes(e)&&T&&(0,tQ.cU)(i),q=T&&function(e,t){let a=e&&t[e.id]?.dismissed_legacy_team_upgrade_notice_banner;return(0,tQ.zs)(e)&&!a}(i,r.userTeamFlags),Z=(0,e1.R$)(r.user,r.currentUserOrgId),J=e2.ng.canSeeExpiredProTrialBanner(r.userTeamFlags,i,r),ee=i&&r.userTeamFlags[i.id]?.[e2.lg],et=J&&(I||T&&!ee),ea=r.user?(0,eo.x$)(r.eduPeriodEnd,(0,eo.cn)(r.user)):1/0,er=ea>0&&ea!==1/0,en=0===ea,ei=i&&i.student_team_state===rs.kU.STUDENT_TEAM_CURRENT,el=i&&i.student_team_state===rs.kU.STUDENT_TEAM_EXPIRED&&I,es=er&&b&&ei,ec=en&&b&&el,em=er&&T&&ei,eu=en&&!T&&ei,e_=(0,p.kc)().edu_offboarding_experience&&(es||ec||em||eu),ef=(0,p.kc)().edu_offboarding_experience&&el;if(s&&!g)return{severity:yg.c.WARN,title:(0,k.t)("payments.payment_failed"),message:(0,k.t)("payments.payment_failed_explanation"),cta:w?(0,k.t)("payments.update_payment"):(0,k.t)("payments.contact_admin"),ctaTrackingProperties:w?{trackingDescriptor:ep.c.UPDATE_PAYMENT}:void 0,onClickCta:w?H:null};if(v)return{severity:yg.c.WARN,title:(0,k.t)("payments.locked"),message:(0,k.t)("payments.locked_description",{teamName:i.name}),cta:w?(0,k.t)("payments.update_payment"):(0,k.t)("payments.contact_admin"),ctaTrackingProperties:w?{trackingDescriptor:ep.c.UPDATE_PAYMENT}:void 0,onClickCta:w?H:null};if(y)return{severity:yg.c.WARN,title:(0,k.t)("payments.locked"),message:w?l.createElement("span",null,(0,k.tx)("payments.no_monthly_sub_over_editor_limit_admin.seat_rename",{contactSupport:l.createElement("a",{href:`mailto:${(0,p.W4)()}`},(0,k.tx)("payments.contact_support"))})):l.createElement("span",null,(0,k.tx)("payments.no_monthly_sub_over_editor_limit.seat_rename")),cta:w?(0,k.t)("payments.manage_plan"):null,onClickCta:w?()=>{n?.(z.$T({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:ek.I.SETTINGS}))}:null};if(et){let e,t,r,o;return I?(e=T?(0,k.tx)("payments.pro_trial_expiry.locked_description_on_team",{teamName:i.name,lowerUsageLink:l.createElement(eG.$z,{onClick:V},(0,k.tx)("payments.pro_trial_expiry.lower_usage"))}):(0,k.tx)("payments.pro_trial_expiry.locked_description_for_viewer_on_team",{teamName:i.name}),t=T?(0,k.tx)("payments.pro_trial_upgrade_cta.upgrade"):null,r=`${yk} `,o="Pro Trial Expiry Banner Locked"):(e=i?(0,k.tx)("payments.pro_trial.trial_ended_banner_message",{teamName:i.name}):(0,k.tx)("payments.pro_trial.trial_ended_banner_message.no_name"),t=(0,k.tx)("payments.pro_trial.trial_ended_banner_upgrade_cta"),r=`${yk} ${yL}`,o="Pro Trial Expiry Banner Unlocked"),{severity:yg.c.WARN_SOFT,title:(0,k.t)("payments.pro_trial.trial_ended_banner_title"),message:e,cta:t,onClickCta:T?j:void 0,svg:yR.A,bannerClassName:r,trackingContextName:o,dismissible:!I,onClose:I?void 0:()=>{a&&n?.(nS.bE({all_team_flags:[{team_id:a,flags:{[e2.lg]:!0}}]}))}}}if(F)return{severity:yg.c.WARN_SOFT,title:(0,k.tx)("file_browser.limited_space_banner.heading"),message:(0,k.tx)("file_browser.limited_space_banner.description"),cta:null,hideIcon:!0,bannerClassName:"banners--limitedSpaceBanner--Pq6k8"};if(e_){let e=()=>n?.(e$.to({type:yu.ZL,data:{team:i}}));if(es||em)return{severity:yg.c.WARN_SOFT,title:(0,k.tx)("edu.banner.your_education_status_is_expiring_soon"),message:(0,k.tx)("edu.banner.to_keep_collaborating_upgrade_team",{teamName:i.name,verify:l.createElement(tF.Us,{href:"/education/apply",target:"_blank",trusted:!0},(0,k.tx)("edu.banner.verify_your_education_status"))}),cta:(0,k.tx)("edu.banner.learn_more"),onClickCta:e,svg:yA.A,bannerClassName:`${yk} ${yL}`,trackingContextName:"Edu Offboarding Banner"};if(ec)return{severity:yg.c.WARN_SOFT,title:(0,k.tx)("edu.banner.your_education_plan_has_expired"),message:(0,k.tx)("edu.banner.team_is_now_view_only_for_all_members",{teamName:i.name}),cta:(0,k.tx)("edu.banner.learn_more"),onClickCta:e,svg:yA.A,bannerClassName:yk,trackingContextName:"Edu Offboarding Banner"};if(eu)return{severity:yg.c.WARN_SOFT,title:(0,k.tx)("edu.banner.your_education_plan_has_expired"),message:(0,k.tx)("edu.banner.you_can_no_longer_edit_files",{teamName:i.name}),cta:(0,k.tx)("edu.banner.learn_more"),onClickCta:e,svg:yA.A,bannerClassName:yk,trackingContextName:"Edu Offboarding Banner"}}else if(ef)return{severity:yg.c.WARN_SOFT,title:(0,k.tx)("edu.banner.team_s_education_status_has_expired",{teamName:i.name}),message:(0,k.tx)("edu.banner.move_or_duplicate_files_to_another_location_to_save_your_work"),cta:null,svg:yA.A,bannerClassName:yk,trackingContextName:"Edu Offboarding Banner"};else if(!C||r.checks&&r.checks.isEligibleForLockedRedesign&&r.checks.isEligibleForLockedRedesign(!x&&C)){if(Z){let e=r.user.external_restricted_org_id,t=(0,k.t)("external_collaboration_restricted.banner.restriction_description.no_org");if(e&&r.orgById[e]){let a=r.orgById[e];t=(0,k.t)("external_collaboration_restricted.banner.restriction_description",{organizationName:a.name})}return{severity:yg.c.WARN,title:(0,k.t)("external_collaboration_restricted.banner.title"),message:t,cta:null,ctaTrackingProperties:void 0,onClickCta:null}}if(r.user&&["team","folder"].includes(e)&&L.showAccessRestricted){let e,t=(0,k.t)("banner.edu_grace_period.your_education_plan_has_expired");return i?(0,eo.eB)(r.user.id,r.roles.byTeamId,i)?e=(0,k.t)("banner.edu_grace_period.team_is_now_view_only_for_all_members",{teamName:i.name}):(0,eo.QS)(r.user.id,r.roles.byTeamId,i)?e=(0,k.t)("banner.edu_grace_period.you_can_no_longer_edit_files_in_team",{teamName:i.name}):(t=(0,k.t)("banner.edu_grace_period.your_education_plan_has_expired.is_member",{teamName:i.name}),e=(0,k.t)("banner.edu_grace_period.move_or_duplicate_files_to_another_location_to_save_your_work")):e=(0,k.t)("banner.edu_grace_period.education_team_members_need_to_verify_their_education_status"),{severity:yg.c.ANNOUNCEMENT,title:t,message:e,learnMoreUrl:"/education/",cta:(0,k.t)("banner.edu_grace_period.verify_status_button"),onClickCta:W,svg:yA.A,bannerClassName:yS}}if(["team","folder"].includes(e)&&L.showReminder)return{severity:yg.c.ANNOUNCEMENT,title:(0,k.t)("banner.edu_grace_period.only_edu_grace_period_days_left",{daysLeft:S}),message:(0,k.t)("banner.edu_grace_period.to_keep_collaborating_on_figma_s_education_plan_please_verify_your_status_soon"),cta:(0,k.t)("banner.edu_grace_period.verify_status_button"),onClickCta:W,svg:yO.A};else if(P||D)return{severity:yg.c.WARN,title:(0,k.t)("payments.folder_locked"),message:(0,k.t)("payments.folder_locked_description",{projectType:"Invite"==(P?"Invite":"View")?(0,k.t)("payments.invite_only_projects"):(0,k.t)("payments.view_only_projects"),teamName:i.name}),learnMoreUrl:"/pricing",cta:T?(0,k.t)("payments.upgrade_now"):(0,k.t)("payments.contact_admin_for_details"),ctaTrackingProperties:T?{trackingDescriptor:ep.c.UPGRADE_NOW,upsellSource:e8.b.BANNER}:void 0,onClickCta:T?U:null};else if(B&&"folder"===e)return{severity:yg.c.WARN,title:(0,k.t)("payments.locked"),message:(0,k.t)("payments.projects_deprecated"),learnMoreUrl:"/pricing-faq#what-changes-for-me",cta:null,onClickCta:null};else if(M&&"folder"===e)return{severity:yg.c.WARN,title:(0,k.t)("payments.abandoned_project"),message:(0,k.t)("payments.abandoned_project_description"),cta:null,onClickCta:null};else if(q){let e=(0,k.t)("payments.file_limit_unified",{figmaFiles:eN.WW,figjamFiles:eN.WW});K?q||(e=(0,k.t)("payments.file_limit_figjam",{figjamFiles:eN.WW})):e=(0,k.t)("payments.file_limit_figma",{figmaFiles:eN.WW});let t=()=>l.createElement("button",{type:"button",onClick:$,className:"banners--bannerInlineTextButton--GRx12"},(0,k.tx)("payments.check_out_our_paid_plans")),a=i?l.createElement("span",null,(0,k.tx)("payments.team_over_starter_team_limit_with_button.legacy_team",{fileLimitString:e,checkoutOurPlans:t(),teamName:i.name})):l.createElement("span",null,(0,k.tx)("payments.team_over_starter_team_limit_with_button.no_legacy_team_present",{fileLimitString:e,checkoutOurPlans:t()}));return{severity:yg.c.ANNOUNCEMENT,title:(0,k.t)("payments.team_over_starter_team_limit_title"),message:a,cta:(0,k.t)("payments.upgrade_now"),ctaTrackingProperties:{trackingDescriptor:ep.c.UPGRADE_NOW,upsellSource:e8.b.BANNER},onClickCta:U,svg:yF.A,bannerClassName:yS,trackingContextName:"Unified Legacy / Beta File Limit Banner"}}else if(Q){let e=(0,tU.A)(i.grace_period_end).toDate(),t=(0,k.tx)("payments.pro_plan_ends_relative_time_string",{relative_time_string:l.createElement(lN.h1,{date:e})});return Y||(t=(0,k.tx)("payments.pro_plan_ends_on_date",{end_date:new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(e)})),{severity:yg.c.ANNOUNCEMENT,title:t,message:(0,k.t)("payments.pro_plan_ends_for_team_description",{teamName:i.name}),cta:(0,k.t)("payments.pro_plan_ends_button"),onClickCta:j,svg:Y?yF.A:yR.A,trackingContextName:"Promo Code Expiration Banner",bannerClassName:Y?yS:void 0}}else if(h){let e=d?(0,k.t)("payments.complete_team_payment_description",{teamName:i.name}):(0,k.t)("payments.complete_team_renewal_payment_description");return{severity:yg.c.WARN,title:(0,k.t)("payments.complete_payment"),message:e,cta:l.createElement(ow.V,{trackingProperties:{trackingDescriptor:ep.c.VERIFY_PAYMENT,trackingContextName:"Verify Payment Banner"},onClick:()=>n?.(e$.to({type:yf,data:{teamId:a,paymentRequiresAction:!!g}}))},(0,k.tx)("payments.complete_payment_cta")),onClickCta:null}}}else{let e;return e=w||T?l.createElement("span",null,l.createElement("b",{style:tB.sx.fontSemiBold.$},(0,k.tx)("payments.team_over_starter_team_limit",{teamName:i.name})," "),(0,k.tx)("payments.team_over_starter_team_limit_upgrade",{teamName:i.name,lowerYourUsage:l.createElement("a",{href:"#",onClick:V},(0,k.tx)("payments.team_over_starter_team_limit_lower_your_usage"))})):l.createElement("span",null,l.createElement("b",{style:tB.sx.fontSemiBold.$},(0,k.tx)("payments.team_over_starter_team_limit",{teamName:i.name})," "),(0,k.tx)("payments.contact_admin_for_details")),{severity:yg.c.WARN,title:(0,k.t)("payments.locked"),message:e,cta:T?(0,k.t)("payments.upgrade_now"):null,ctaTrackingProperties:T?{trackingDescriptor:ep.c.UPGRADE_NOW,upsellSource:e8.b.BANNER}:void 0,onClickCta:T?U:null}}return null}function yM(e,t,a,r,n){return!!yD(t,a,r,{userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userEduGracePeriods:e.userEduGracePeriods,fileKeysByFolderId:e.fileKeysByFolderId,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,checks:n,...(0,eS.getPermissionsState)(e)},null)}function yB(e){return(0,s.d4)(t=>yM(t,e.resourceType||e0.vt.FOLDER,e.resource||null,e.teamId||null,e.checks))}function yU(e,t){let a={...e};return"string"==typeof t.title&&(a.title=t.title),"string"==typeof t.message&&(a.message=t.message),a}var yV=a(114961),yH=a(702595);let yW=l.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"}),l.createElement("mask",{id:"mask0_4:25",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"48",height:"48"},l.createElement("path",{d:"M0 24C0 10.7452 10.7452 0 24 0V0C37.2548 0 48 10.7452 48 24V24C48 37.2548 37.2548 48 24 48V48C10.7452 48 0 37.2548 0 24V24Z",fill:"var(--color-bg-inverse, black)"})),l.createElement("g",{mask:"url(#mask0_4:25)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 20H17.5C16.1193 20 15 21.1193 15 22.5C15 23.8807 16.1193 25 17.5 25H20L20 20ZM21 19.9963L21 25H21.6738C23.3383 25 24.9874 25.3196 26.5314 25.9416L28 26.5333V17.7761L27.3548 18.1614C25.4287 19.3116 23.2393 19.9428 21 19.9963ZM17.5 19H20.6897C22.8561 19 24.9821 18.4135 26.8421 17.3028L28.2437 16.4658C28.5769 16.2668 29 16.507 29 16.8951V27.2737C29 27.628 28.6418 27.8699 28.3132 27.7375L26.1577 26.8692C24.7325 26.2951 23.2103 26 21.6738 26H21.3286L22.5613 29.698C22.7771 30.3455 22.2951 31.0142 21.6126 31.0142H20.4415C19.5807 31.0142 18.8164 30.4634 18.5442 29.6467L17.3333 26.0142L17.3272 25.9958C15.4745 25.9057 14 24.375 14 22.5C14 20.567 15.567 19 17.5 19ZM18.3874 26.0142L19.4928 29.3304C19.6289 29.7388 20.0111 30.0142 20.4415 30.0142H21.6126L20.2792 26.0142H18.3874Z",fill:"var(--color-icon-oninverse, white)"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5 22C32.5 21.1716 31.8284 20.5 31 20.5V19.5C32.3807 19.5 33.5 20.6193 33.5 22C33.5 23.3807 32.3807 24.5 31 24.5V23.5C31.8284 23.5 32.5 22.8284 32.5 22Z",fill:"var(--color-icon-oninverse, white)"}));function yj(e){let{title:t,message:a,cta:r,ctaTrackingProperties:n,learnMoreUrl:i,onClickCta:o,severity:s,secondaryCTA:c,secondaryOnClickCta:d,svg:m,trackingContextName:u="Banner",contentStyles:_,reverseCtas:p,dismissible:f,onClose:g}=e;return s===yg.c.ANNOUNCEMENT?l.createElement(eG.fu,{name:u,properties:{severity:s,...e.tracking}},l.createElement("div",{className:yv},m&&l.createElement(H.B,{svg:m,useOriginalSrcFills_DEPRECATED:!0}),l.createElement("div",{className:yw},l.createElement("div",{className:yy},t),l.createElement("div",{className:yT},a)),l.createElement(tF.e2,{reversed:p,className:yC},o&&l.createElement(tF.vd,{className:yh,onClick:o,trackingProperties:n},r),d&&l.createElement(tF.tM,{className:yI,onClick:d},c),f&&g&&l.createElement(nh.Jn,{className:yx,onClick:g})))):s===yg.c.EVENT?l.createElement(eG.fu,{name:u,properties:{severity:s,...e.tracking}},l.createElement("div",{className:`${yv} ${_}`},l.createElement("div",{className:"banners--eventMegaphoneIcon--7J3rx"},yW),l.createElement("div",{className:yw},l.createElement("p",{className:yy},t),l.createElement("p",{className:yT},a)),l.createElement(tF.e2,{className:yC},o&&l.createElement(tF.vd,{className:yh,onClick:o,trackingProperties:n},r),d&&l.createElement(tF.tM,{className:yI,onClick:d},c),f&&g&&l.createElement(nh.Jn,{className:yx,onClick:g})))):l.createElement(eG.fu,{name:u,properties:{severity:s,...e.tracking}},l.createElement("div",{className:`${yv} ${_}`},!e.hideIcon&&l.createElement(H.B,{svg:yH.A,className:"banners--warningIcon--A5YS-",autosize:s===yg.c.WARN_SOFT}),l.createElement("div",{className:yw},l.createElement("span",{className:"banners--title--OIA0P"},t),a,i&&l.createElement("span",null,"\xa0",l.createElement("a",{target:"_blank",rel:"noopener",href:i},(0,k.tx)("payments.learn_more")))),l.createElement(tF.e2,{reversed:p,className:yC},o&&l.createElement(tF.vd,{className:yh,onClick:o,trackingProperties:n},r),!o&&l.createElement("div",{className:"banners--ctaMessage--5MB88"},r),f&&g&&l.createElement(nh.Jn,{className:yx,onClick:g}))))}let y$=(0,s.Ng)(e=>({userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userEduValidated:!!e.user?.student_validated_at,userEduGracePeriods:e.userEduGracePeriods,fileKeysByFolderId:e.fileKeysByFolderId,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,eS.getPermissionsState)(e)}))(function(e){let t;let a=(0,np.Rs)(ng.UpR,{}),r=(0,eP.Yz)(),n=e.folderId?e.folders[e.folderId]:null,i=n?n.team_id:null,o=e.dispatch,c=i&&(0,eS.canAdminTeam)(i,e),d=i?e.teams[i]:null,m=!!d?.org_id,u=!!d?.subscription;(0,l.useEffect)(()=>{(0,p.kc)().requires_action_3ds_banner&&i&&!m&&u&&c&&o(yV.Be({teamId:i}))},[o,i,m,u,c]);let _=(0,s.d4)(e=>e.teamBilling?.summary),f=yD(e0.vt.FOLDER,n??null,i,{eduPeriodEnd:a.data?.currentUser?.eduPeriodEnd,billingSummary:_,checks:{isEligibleForLockedRedesign:r},...e},e.dispatch);if(!f)return l.createElement("div",null);t=n?yU({resourceType:e0.vt.TEAM,teamId:i,folderId:n.id},f):yU({resourceType:"recents"},f);let g=f.severity===yg.c.WARN?yE:"",E=f.bannerClassName||"",h=`${yN} ${g} ${E}`;return l.createElement("div",{className:h},l.createElement(yj,{...f,tracking:t}))}),yG={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,moveFile:!0},yY=(0,hW.xx)(X.ZN);function yz(e){let{sortFilterOptions:t,selectedBranchKeyByRepoId:a}=(0,nX.R)(t=>({sortFilterOptions:yY(e.folderId,t.tileSortFilterStateByView),selectedBranchKeyByRepoId:t.selectedBranchKeyByRepoId})),r=(0,yl.Rp)(),n=(0,s.d4)(({currentUserOrgId:e})=>e),i=(0,h.I7)("exp_aa_test_org_drafts");n&&i.getConfig();let o=()=>{},[c,d]=function(e){let t=(0,s.d4)(t=>t.tileSortFilterStateByView.folders.byId[e]??t.tileSortFilterStateByView.folders.default),a=(0,l.useMemo)(()=>({file_type:yn(t.filters.fileType),sort_order:t.sort.dir===lf.ue.ASC?"asc":"desc",sort_column:yi(t.sort.key)}),[t.filters.fileType,t.sort.dir,t.sort.key]),[r,n]=(0,f.IT)((0,Z.BU)({folderId:e,...a}));return[r,(0,l.useCallback)(e=>{if("fetchNextPage"===e.type)return n.fetchNextPage();(0,x.assertNever)(e.type)},[n])]}(e.folderId),m=c.data?.folder,u=(0,eP.Yz)(),_=(0,tL.vt)(m?.team_id),p=yB({resourceType:e0.vt.FOLDER,resource:m,teamId:m?.team_id||null,checks:{isEligibleForLockedRedesign:u}});o=l.useCallback(()=>{c.isFetchingNextPage||d({type:"fetchNextPage"})},[c.isFetchingNextPage,d]);let g=l.useMemo(()=>{let e=(c.data?.files||[]).map(e=>({type:rt.nb.FILE,file:e})),t=c.data?.filesByRepoId||{};return[...e,...(c.data?.repos||[]).map(e=>({type:rt.nb.REPO,repo:e,branches:t[e.id],selectedBranchKey:a[e.id]||""})),...Object.values(r).filter(e=>e.orgId===n).map(rt.gB)]},[n,c.data?.files,c.data?.filesByRepoId,c.data?.repos,r,a]),E=!!m&&_,v=l.createElement(l.Fragment,null,l.createElement(vC,{newFileTile:!0,tiles:g,chunkSize:g.length,tileActions:yG,sortFilterOptions:t,emptyStateText:"",hideSorter:!0,isDataPartial:!!c.hasNextPage,eligibleForLockedStateRedesign:u(E)}),l.createElement(hD.cx,null)),y=l.createElement(tO.A,{loadingElementId:"loading-content-pane",loaded:"loaded"===c.status,loadingElementClassName:S.cx.pr32.$,backgroundColor:"default"},l.createElement(yo.B,{key:`${t.tileSortFilterConfig.filters.fileType}`,onShouldFetchNextPage:o},v));return(0,eG.T8)(l.createElement(ou.r,{viewBarSticky:!0,banner:p?l.createElement(y$,{folderId:e.folderId}):void 0,content:y,viewbar:l.createElement(hJ,null)}),e9.e0.FILE_BROWSER,{view:"drafts"})}var yQ=a(772841),yK=a(189430),yq=a(953993),yZ=a(529982),yX=a(452441),yJ=a(649433),y0=a(516056);let y1=(0,aL.Ju)(function(e){let t,a;let r=(0,s.wA)(),[n,i]=l.useState(""),o=(0,s.d4)(e=>e.deletedReposById),c=(0,s.d4)(e=>e.fileByKey),{reposToDelete:d,draftsToDelete:m,deleteAllDraftsAsync:u,isDeleteAll:_,isPermanentDeletion:f}=e,g=m.map(e=>e.name).concat(d.map(e=>e.name)),E=g.length>1;t=f?E?(0,k.t)("file_browser.draft_delete_modal.header_multiple_files_delete",{fileCount:g.length}):(0,k.t)("file_browser.draft_delete_modal.header_single_file_delete",{fileName:g[0]}):E?(0,k.t)("file_browser.draft_delete_modal.header_multiple_files_trash",{fileCount:g.length}):(0,k.t)("file_browser.draft_delete_modal.header_single_file_trash");let h=(t,a)=>{if(t.length>0){if(f){let a=t.reduce((e,t)=>(e[t.key]=!0,e),{});r(a3.YK({fileKeys:a,userInitiated:!0,onSuccessCallback:e.onDeleteSuccess}))}else{let a=t.reduce((e,t)=>(e[t.key]=t,e),{});r(a3.VK({fileKeys:a,userInitiated:!0,onSuccessCallback:e.onDeleteSuccess,hideVisualBell:!0}))}}let n={};a.forEach(e=>{let t=o[e.id];if(t)n[e.id]=t;else{let t=e.default_file_key&&c[e.default_file_key];t&&(n[e.id]={repo:e,main_file:t})}}),a.length>0&&(f?r((0,yJ.YM)({repoIds:Object.keys(n),userInitiated:!0})):r((0,yJ.hT)({reposById:n,userInitiated:!0})))},v=()=>y0.k.deleteAllPersonalDrafts().then(()=>r(aJ.F.enqueue({message:(0,k.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled")}))).catch(()=>r(aJ.F.enqueue({message:(0,k.t)("file_browser.draft_delete_modal.async_delete_drafts_scheduled_error")}))),y=()=>{let{draftsToDelete:t,reposToDelete:a}=e;t.length+a.length>100?r(W.s.error((0,k.t)("file_browser.draft_delete_modal.unable_to_delete",{maxSize:100}))):(e.setSynchronousFileTransferInProgress(t.length>0),h(t,a))},b=()=>{u?v():y(),e.onClose()},w=l.useMemo(()=>n.trim().toLowerCase()!==(0,k.t)("file_browser.draft_delete_modal.button_delete").toLocaleLowerCase(),[n]);a=f?E?(0,k.t)("file_browser.draft_delete_modal.permanently_delete_multiple_drafts",{fileCount:g.length}):(0,k.t)("file_browser.draft_delete_modal.permanently_delete_one_draft"):E?(0,k.t)("file_browser.draft_delete_modal.you_are_about_to_delete_multiple_drafts",{fileCount:g.length}):(0,k.t)("file_browser.draft_delete_modal.you_are_about_to_delete_single_draft",{fileName:g[0]});let T=f?l.createElement(tF.qM,{onClick:b,disabled:w,trackingProperties:{isDeletingDraftFromDTM:!0,isPermanentDeletion:f},dataTestId:"draft-delete-confirmation-button"},l.createElement("span",{"data-tooltip":(0,k.t)("file_browser.draft_delete_modal.draft_deletion_tooltip",{deletionString:(0,k.t)("file_browser.draft_delete_modal.button_delete")}),"data-tooltip-type":w?eL.Ib.TEXT:null,"data-tooltip-max-width":180,"data-tooltip-show-above":!0},(0,p.kc)().ps_trashed_drafts_enabled?(0,k.t)("file_browser.draft_delete_modal.button_permanently_delete_files",{numFiles:g.length}):(0,k.t)("file_browser.draft_delete_modal.button_delete"))):l.createElement(r8.vd,{onClick:b,"data-testid":"draft-delete-confirmation-button",trackingProperties:{isDeletingDraftFromDTM:!0,isPermanentDeletion:f}},(0,k.tx)("file_browser.draft_delete_modal.button_delete_files",{numFiles:g.length}));return l.createElement(eG.fu,{name:"draftDeleteModal",properties:{itemCount:g.length,isDeleteAsync:!!u,isDeleteAll:!!_}},l.createElement(r6.XV,{title:t,minWidth:480,maxWidth:480,onClose:e.onClose,truncateTitleText:!0,fixedCenter:!0},l.createElement("div",{className:"draft_delete_modal--modalContent--QYGIS"},l.createElement("p",null,a," ",!f&&l.createElement("p",null,l.createElement("br",null),(0,k.tx)("file_browser.draft_delete_modal.you_can_access_drafts_from_deleted_drafts_section",{fileCount:g.length}))),l.createElement("p",{className:"draft_delete_modal--confirmationTextSpacing---MQEW"},f&&(0,k.tx)("file_browser.draft_delete_modal.permanently_delete_multiple_drafts_confirmation",{deletionString:(0,k.t)("file_browser.draft_delete_modal.button_delete")})),l.createElement("form",{onSubmit:b},f&&l.createElement("div",null,l.createElement(yX.L,{className:"draft_delete_modal--deleteDraftsInput--pCTUB",type:"text",dataTestId:"draft-delete-confirmation-input",value:n,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()},onChange:e=>{i(e.currentTarget.value)},autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1})),l.createElement("div",{className:"draft_delete_modal--footer--SRSo6"},l.createElement(tF.nR,{onClick:e.onClose},(0,k.tx)("modal.cancel")),T)))))},"DraftDeleteModal");var y2=a(403223),y4=a(70964),y8=a(255533),y3=a(71048);let y5="drafts_to_move_page_view--fileCellDateSpan--xWiCm",y9="drafts_to_move_page_view--dateColumn--V3e9G drafts_to_move_page_view--column--jpRzM table--column--974RA",y6="drafts_to_move_page_view--emptyContentContainer--w1lwc",y7="drafts_to_move_page_view--emptyContentHeader--35cXt",be=(0,ik.jz)(i0.ISO);var bt=(e=>(e.DRAFT_FILES="draft-files",e.DELETED_DRAFT_FILES="deleted-draft-files",e))(bt||{}),ba=(e=>(e.NONE="NONE",e.SYNCHRONOUS_DELETION_OR_MIGRATION="SYNCHRONOUS_DELETION_OR_MIGRATION",e.ASYNC_FILE_MIGRATION="ASYNC_FILE_MIGRATION",e.ASYNC_FILE_DELETION="ASYNC_FILE_DELETION ",e.TRANSFER_COMPLETED="TRANSFER_COMPLETED",e))(ba||{});function br(e){let t=e=>{switch(e){case"draft-files":return(0,k.t)("file_browser.drafts_to_move.drafts");case"deleted-draft-files":return(0,k.t)("file_browser.drafts_to_move.deleted_drafts");default:(0,x.assertNever)(e)}},a=t=>{let a=bt[t].replace(/-/g,"_");(0,tC.Cu)({text:a,name:"Drafts to move tab switch"},"cta_clicked"),e.setSelectedTab(bt[t])},r=Object.keys(bt).map(r=>l.createElement(hG.r,{tab:bt[r],onClick:()=>a(r),isSelected:e.selectedTab===bt[r],tabName:t(bt[r]),key:r}));return l.createElement(ir.g2,{leftSide:l.createElement(hG.f,{tabs:r}),rightSide:[]})}function bn(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.selectedView),r=(0,lm.v)(),{item:n}=e,i=rt.Tf.getFileKey(n)??"",o=(0,yq.Y)(i,rt.Tf.getFavoritedResourceType(n),rt.Tf.getOrgId(n),rt.Tf.getFavoriteResourceTeamId(n)),c=l.useMemo(()=>"loaded"===o.status?!!o.favorite:rt.Tf.getIsFavorited(n),[n,o]),d=e=>i=>{i.detail>1&&!rt.Tf.getTrashedAt(n)&&(vf({tile:e,index:0,dispatch:t,selectedView:a}),r(e,i),i.stopPropagation())};return l.createElement("div",{className:S.cx.inlineFlex.minW0.$},l.createElement("button",{className:"drafts_to_move_page_view--draftThumbnail--whTtS",onClick:d(n),"data-testid":`fileTile-${i}`},l.createElement(lc.e,{tile:n,noBorder:!0}),l.createElement("div",{className:"drafts_to_move_page_view--topLeftControls--kfCRe"},l.createElement(lS.x,{tile:n,iconSize:16})),c&&l.createElement("div",{className:"drafts_to_move_page_view--topRightControls--dD-Od"},l.createElement("div",{className:"drafts_to_move_page_view--control--W49tq"},l.createElement(rS.r,{setFavorite:g.lQ,favoriteType:(0,eQ.UL)(n.type),resourceId:i,noHoverState:!0,size:rS.m.SMALL,orgId:rt.Tf.getOrgId(n)??null,teamId:rt.Tf.getFavoriteResourceTeamId(n),disableTooltip:!0})))),l.createElement("div",{className:S.cx.ml14.minW0.flex.flexColumn.itemSelfCenter.$},l.createElement("button",{className:"drafts_to_move_page_view--fileName--U3mn4",onClick:d(n)},rt.Tf.getName(n)),e.shouldDisplayFileDates&&l.createElement("div",{className:"drafts_to_move_page_view--fileCellDatesSection--LFnvg"},l.createElement("span",{className:y5},(0,k.tx)("file_browser.drafts_to_move.file_created_at_label",{timeDifference:l.createElement(lN.h1,{date:rt.Tf.getCreatedAt(n)})})),l.createElement("span",{className:y5},(0,k.tx)("file_browser.drafts_to_move.file_last_modified_at_label",{timeDifference:l.createElement(lN.h1,{date:rt.Tf.getTouchedAt(n)??""})})))))}function bi({currentFileTransferState:e}){let t="dark"===(0,iD.DP)(),a=e=>l.createElement(l.Fragment,null,l.createElement(tP.kt,{size:"large"}),l.createElement("p",{className:"drafts_to_move_page_view--transferContentHeader--ljikD"},(0,k.tx)("file_browser.drafts_to_move.file_transfer_header",{transferType:"ASYNC_FILE_MIGRATION"===e?(0,k.tx)("file_browser.drafts_to_move.file_transfer_migration_type"):(0,k.tx)("file_browser.drafts_to_move.file_transfer_deletion_type")})),l.createElement("p",null,(0,k.tx)("file_browser.drafts_to_move.file_transfer_description"))),r=()=>l.createElement("div",{className:"drafts_to_move_page_view--slideIn--c-NGK"},l.createElement("div",{className:"drafts_to_move_page_view--animatedContentContainer--z1sdh"},l.createElement(y4.Gv,{src:t?"https://static.figma.com/uploads/c9f2d8cbce5754a2b6e3e3e81adf5fe313429577":"https://static.figma.com/uploads/6212099329ba7714b869112a09f8dfffce71edf5",containerClassName:"drafts_to_move_page_view--allDoneGif--mwZxC",height:100,width:100}),l.createElement("p",{className:y7},(0,k.tx)("file_browser.drafts_to_move.empty_header")),l.createElement("p",null,(0,k.tx)("file_browser.drafts_to_move.empty_body_text")))),n=()=>l.createElement(tP.kt,{size:"large"});return l.createElement("div",{className:y6},(()=>{switch(e){case"ASYNC_FILE_MIGRATION":case"ASYNC_FILE_DELETION ":return a(e);case"TRANSFER_COMPLETED":return r();default:return n()}})())}function bo(){let e=(0,s.wA)(),t=(0,s.d4)(e=>e.user?.personal_drafts_folder_id),a=(0,s.d4)(e=>e.fileKeysByFolderId),r=(0,s.d4)(e=>e.fileKeysByRepoId),n=(0,s.d4)(e=>e.repoIdsByFolderId),i=(0,s.d4)(e=>e.repos),o=(0,s.d4)(e=>e.fileByKey),c=(0,s.d4)(e=>e.selectedView),d=(0,s.d4)(e=>e.selectedBranchKeyByRepoId),m=(0,s.d4)(e=>e.userFlags),u=m.personal_draft_migration_scheduled,_=m.personal_draft_migration_completed,f=m.personal_draft_deletion_scheduled,g=m.personal_draft_deletion_completed,E=(0,s.d4)(e=>e.loadedFolders),v=(0,s.d4)(e=>e.deletedFilesByKey),y=(0,s.d4)(e=>e.deletedReposById),{windowInnerWidth:b}=(0,yK.l)(),w=(0,np.Rs)(ng.vXh,{}),T=(0,np.Rs)(ng.Jzf,{projectId:t??""},{enabled:!!t}),I=(0,lm.v)(),[C,x]=l.useState("draft-files"),[N,L]=l.useState(!1),[A,R]=l.useState("NONE"),[F,O]=l.useState(!1),[P,M]=l.useState(!1);l.useEffect(()=>{u&&(0,r3.rO)(u.updatedAt,_?.updatedAt)?R("ASYNC_FILE_MIGRATION"):f&&(0,r3.rO)(f.updatedAt,g?.updatedAt)?R("ASYNC_FILE_DELETION "):F?R("SYNCHRONOUS_DELETION_OR_MIGRATION"):R("NONE")},[u,_,f,g,F]),l.useEffect(()=>{e(Q.h3({orgId:null}))},[e]);let B="loaded"===w.status,U=l.useMemo(()=>{if(!B)return[];let e=[];return w.data?.currentUser?.draftsFolderId&&e.push(w.data.currentUser.draftsFolderId),e},[B,w]),V=l.useMemo(()=>T.data?.project?.status!==yQ.tT.Loaded?new Set:new Set((T.data?.project.data?.undeletedFilesHighLimit??[]).map(e=>e.key)),[T]),H=l.useMemo(()=>{if(T.data?.project?.status!==yQ.tT.Loaded)return new Set;let e=new Set;return(T.data?.project.data?.undeletedFilesHighLimit??[]).forEach(t=>{t.fileRepoId&&e.add(t.fileRepoId)}),e},[T]),W=l.useCallback(e=>V.has(e),[V]),j=l.useCallback(e=>H.has(e),[H]);l.useEffect(()=>U.forEach(t=>B&&e((0,Z.jl)({folderId:t,loadedFolders:E}))),[E,U,e,B]);let{getConfig:$}=(0,h.I7)("ps_async_draft_move_limit",void 0,!0),G=$().get("async_limit",100),Y=B&&U.every(e=>e&&"loaded"===E[e]),z=l.useMemo(()=>Object.keys(v).map(e=>v[e]).filter(e=>!e.file_repo_id&&e.folder_id===t&&W(e.key)),[v,t,W]),K=l.useMemo(()=>Object.keys(y).map(e=>y[e]).filter(e=>e&&e.main_file&&e.main_file.folder_id===t&&e.repo&&j(e.repo.id)),[y,t,j]),q=l.useMemo(()=>U.flatMap(e=>n[e]).map(e=>i[e]).filter(e=>!!e&&j(e.id)),[U,i,n,j]),X=l.useMemo(()=>U.flatMap(e=>a[e]).map(e=>o[e]).filter(e=>!!e&&W(e.key)),[U,o,a,W]);l.useEffect(()=>{let e=X.length+q.length,t=z.length+K.length;Y&&!P&&(0===e&&t>0&&x("deleted-draft-files"),M(!0))},[Y,P,X.length,q.length,K.length,z.length]);let J=l.useMemo(()=>X.concat(z).map(e=>({type:rt.nb.FILE,file:e})),[X,z]),ee="deleted-draft-files"===C?z:X,et=l.useMemo(()=>ee.map(e=>({type:rt.nb.FILE,file:e})),[ee]),ea=l.useMemo(()=>q.map(e=>{let t=r[e.id].map(e=>o[e]).filter(e=>!!e);return{type:rt.nb.REPO,repo:e,branches:t,selectedBranchKey:d[e.id]}}),[q,d,o,r]),er=l.useMemo(()=>K.map(e=>({type:rt.nb.REPO,repo:e.repo,branches:[e.main_file],selectedBranchKey:e.main_file?.key})),[K]),en="deleted-draft-files"===C?er:ea,ei=er.concat(ea),eo=et.concat(en),el=J.length>0||ei.length>0,es=eo.length>0,[ec,ed]=l.useState([]),em=()=>{e(e$.Ce()),L(!1)},e_=(t,a)=>{e(aJ.F.enqueue({message:(0,k.t)("visual_bell.files_moved_to_folder",{fileCount:a,folderName:t})})),O(!1),ed([])},ep=()=>{O(!1),ed([])},ef=e=>{let t=[],a=[];return e.forEach(e=>{e.type===rt.nb.FILE&&t.push(e.file),e.type===rt.nb.REPO&&a.push(e.repo)}),{draftsToMove:t,reposToMove:a}},eg=t=>{let{draftsToMove:a,reposToMove:r}=ef(ec);L(!0),e(e$.to({type:y1,data:{isPermanentDeletion:t,draftsToDelete:a,reposToDelete:r,deleteAllDraftsAsync:ec.length>G,setSynchronousFileTransferInProgress:O,onDeleteSuccess:ep,onClose:em}}))},eE=()=>{let{draftsToMove:t,reposToMove:a}=ef(ec);L(!0),e(e$.to({type:y2.K,data:{draftsToMove:t,reposToMove:a,moveAllDraftsAsync:ec.length>G,onMoveSuccess:e_,onClose:em,setSynchronousFileTransferInProgress:O}}))},eh=function(e,t,a,r){let n=r>=1200,i=[{name:(0,k.t)("file_browser.drafts_to_move.table_header_name"),className:"drafts_to_move_page_view--nameColumn--sSZYF drafts_to_move_page_view--column--jpRzM table--column--974RA",getSortValue:e=>rt.Tf.getName(e),cellComponent:e=>l.createElement(bn,{item:e,shouldDisplayFileDates:!n})}];return n&&i.push({name:(0,k.t)("file_browser.drafts_to_move.table_header_last_modified"),className:y9,getSortValue:e=>rt.Tf.getTouchedAt(e)??"",cellComponent:e=>{let t=rt.Tf.getTouchedAt(e);return t?l.createElement(lN.h1,{date:t}):""}},{name:(0,k.t)("file_browser.drafts_to_move.table_header_created"),className:y9,getSortValue:e=>rt.Tf.getCreatedAt(e),cellComponent:e=>l.createElement(lN.h1,{date:rt.Tf.getCreatedAt(e)})}),i.push({name:"",className:"drafts_to_move_page_view--moveButtonColumn--Mvc2P drafts_to_move_page_view--column--jpRzM table--column--974RA",cellComponent:r=>0===a?l.createElement(l.Fragment,null,l.createElement(tF.tM,{className:D()("drafts_to_move_page_view--openDraftButton--zXZGf",S.cx.if(!!rt.Tf.getTrashedAt(r),S.cx.invisible).$),onClick:e=>t(e,r)},(0,k.tx)("file_browser.drafts_to_move.open_draft_button")),l.createElement(tF.tM,{className:"drafts_to_move_page_view--moveDraftButton--GmBWa",onClick:t=>e(t,r)},(0,k.tx)("file_browser.drafts_to_move.move_draft_button"))):l.createElement(l.Fragment,null)}),i}((t,a)=>{let{draftsToMove:r,reposToMove:n}=ef([a]);e(e$.to({type:y2.K,data:{draftsToMove:r,reposToMove:n,onMoveSuccess:e_,onClose:em,setSynchronousFileTransferInProgress:O}})),t.stopPropagation()},(t,a)=>{vf({tile:a,index:0,dispatch:e,selectedView:c}),I(a,t),t.stopPropagation()},ec.length,b),[ev,ey,eb]=(0,yZ.z)({columnName:(0,k.t)("file_browser.drafts_to_move.table_header_last_modified"),isReversed:!0},eo,eh),ew=l.createElement("div",{className:y6},l.createElement("span",{className:y7},(0,k.tx)("file_browser.drafts_to_move.empty_header")),l.createElement("span",null,(0,k.tx)("file_browser.drafts_to_move.empty_content_description",{tab:l.createElement("button",{className:"drafts_to_move_page_view--emptyContentTab--GKlRP",onClick:()=>x("draft-files"===C?"deleted-draft-files":"draft-files")},"draft-files"===C?(0,k.t)("file_browser.drafts_to_move.deleted_drafts"):(0,k.t)("file_browser.drafts_to_move.drafts"))})));if("NONE"!==A)return l.createElement(bi,{currentFileTransferState:A});let eT=ec.length<=0||ec.length>G,eI="deleted-draft-files"===C||!(0,p.kc)().ps_trashed_drafts_enabled,eC=l.createElement(tO.A,{loadingElementClassName:"drafts_to_move_page_view--loadingPage--ZZyqG",loadingElementId:"loading-content-pane",loaded:Y,backgroundColor:"default"},es?l.createElement(l.Fragment,null,l.createElement("div",{className:"drafts_to_move_page_view--tableWrapper--b-sz2"},l.createElement(y8.Cj,{selectAllDisabled:eb.length>G,items:eb,columns:eh,actionBarClassName:D()("drafts_to_move_page_view--actionBar--BbYQh",{"drafts_to_move_page_view--actionBarHidden--l4K4A":N}),getItemKey:e=>rt.Tf.getFileKey(e)??"",minContentWidth:728,actionBar:e=>l.createElement("div",{className:"drafts_to_move_page_view--actionBarButtons--RUREB"},!eT&&l.createElement(tF.rb,{className:"drafts_to_move_page_view--deleteDraftsButton--Aesaa",onClick:()=>eg(eI)},eI?(0,k.tx)("file_browser.drafts_to_move.bulk_delete_drafts_button"):(0,k.tx)("file_browser.drafts_to_move.bulk_trash_drafts_button")),l.createElement(tF.vd,{className:"drafts_to_move_page_view--moveDraftsButton--fZf6H",disabled:eT,onClick:eE},(0,k.tx)("file_browser.drafts_to_move.bulk_move_drafts_button",{numSelected:ec.length}))),emptyContent:"",onSelectedItemsChange:ed,itemTypeContext:{itemType:"draftToMove",getSelectedCountString:e=>(0,k.t)("file_browser.drafts_to_move.selected_count_files",{numSelected:e})},isLoading:!y3.s1,sortState:ev,onSetSortState:ey,shouldRoundBordersForSelectedRows:!0,styleOverrideClassNames:{row:"drafts_to_move_page_view--row--v9ugA",header:"drafts_to_move_page_view--header--qsyde",unselectedCheckbox:"drafts_to_move_page_view--visibleCheckbox--UOqli",batchActionClearButton:"drafts_to_move_page_view--batchActionClearButton--Qk923"},scrollContainerInnerClassName:"drafts_to_move_page_view--scrollContainer--yiQAz",rowHeightOverride:be}))):el?ew:l.createElement(bi,{currentFileTransferState:"TRANSFER_COMPLETED"}));return(0,eG.T8)(l.createElement(ou.r,{content:eC,viewbar:el&&l.createElement(l.Fragment,null,l.createElement("div",{className:"drafts_to_move_page_view--viewbar--wJ6Pu"},l.createElement("div",{className:"drafts_to_move_page_view--viewbarWarning--6T7y-"},l.createElement(eu.EG,{className:"drafts_to_move_page_view--yellowIcon--xHN3r"}),l.createElement("div",null,l.createElement("h1",{className:"drafts_to_move_page_view--viewbarHeading--02fvs"},(0,k.tx)("file_browser.drafts_to_move.viewbar_heading")),l.createElement("ul",{className:"drafts_to_move_page_view--viewbarDescription--dV8s3"},l.createElement("li",null,(0,k.tx)("file_browser.drafts_to_move.move_drafts_below")),l.createElement("li",null,(0,k.tx)("file_browser.drafts_to_move.drafts_for_personal_work")),l.createElement("li",null,(0,k.tx)("file_browser.drafts_to_move.access_to_drafts"))),l.createElement("div",{className:"drafts_to_move_page_view--viewbarActions--v-cwt"},l.createElement(tF.vd,{className:"drafts_to_move_page_view--moveAllDraftsButton--9-TlX",onClick:()=>{L(!0),e(e$.to({type:y2.K,data:{reposToMove:ei.map(e=>e.repo),draftsToMove:J.map(e=>e.file),onMoveSuccess:e_,isMoveAll:!0,moveAllDraftsAsync:J.length>G,onClose:em,setSynchronousFileTransferInProgress:O}}))}},(0,k.tx)("file_browser.drafts_to_move.move_all_drafts_button")),l.createElement(tF.NY,{className:"drafts_to_move_page_view--learnMoreButton--lUnQ9 drafts_to_move_page_view--moveAllDraftsButton--9-TlX",href:"https://www.figma.com/blog/updates-to-how-drafts-work/",target:"_blank"},(0,k.tx)("file_browser.drafts_to_move.viewbar_learn_more_link")))))),l.createElement("div",{className:"drafts_to_move_page_view--tabViewBarContainer--lsoH0"},l.createElement(br,{selectedTab:C,setSelectedTab:x})))}),e9.e0.FILE_BROWSER,{view:"draftsToMove",selectedTab:C})}var bl=a(308548),bs=a(363137),bc=a(305821),bd=a(302586),bm=a(954244);let bu=(0,n0.eU)(!1);var b_=a(694778),bp=a(65225),bf=a(570999),bg=a(102310);function bE(e,t,a,r,n,i){let o=(0,bg.B)(r),c=(0,s.wA)(),d=(0,eJ.TA)(),m=(0,s.d4)(e=>{let t=r?e.folders[r]:void 0;return t&&t.team_id?e.teams[t.team_id]:void 0});return(0,l.useCallback)(l=>{c((0,h7.zE)({state:o,editorType:e,team:m,from:t,openNewFileIn:i||(0,R.oJ)(l)?ha.ai.NEW_TAB:ha.ai.SAME_TAB,folderId:n?r:void 0,callback:e=>{(0,tC.Cu)({userId:d,fileKey:e},a)}}))},[a,c,e,r,m,n,i,t,o,d])}var bh=a(544949),bv=a(182876),by=a(115630);let bb="file_creation_thumbnails_shelf--betaTag--PUVzI";function bw(e){let t=e.isDisabled||e.isLoading,a=e.onClick,r=l.useRef(null),n=l.useCallback(e=>{a(e),r.current?.blur()},[a]);return l.createElement("button",{className:D()(e.containerClassName??"file_creation_thumbnails_shelf--fileCreationThumbnail--atC3k",t&&"file_creation_thumbnails_shelf--disabled--6IyUM"),ref:r,"data-testid":e.isLoading?void 0:e.dataTestId,tabIndex:0,disabled:t,onClick:t?void 0:n,"data-onboarding-key":e.dataOnboardingKey},!e.isLoading&&l.createElement(l.Fragment,null,l.createElement("div",{className:e.iconContainerClassName??"file_creation_thumbnails_shelf--iconContainer--e9sFx"},e.icon),l.createElement("div",{className:"file_creation_thumbnails_shelf--productNameContainer--F3ppZ"},l.createElement("span",{className:"file_creation_thumbnails_shelf--productName--13XZL"},e.title),l.createElement("span",{className:"file_creation_thumbnails_shelf--productSubtitle--Oxgs2"},e.isDisabled?(0,k.t)("file_browser.creation_buttons.disabled_by_organization"):e.subtitle)),e.showBetaTag&&l.createElement(el.Ex,{className:bb,text:(0,k.t)("file_browser.creation_buttons.beta"),color:el.zE.DEFAULT_TRANSLUCENT}),e.showAlphaTag&&l.createElement(el.Ex,{className:bb,text:(0,k.t)("file_browser.creation_buttons.alpha"),color:el.zE.DEFAULT_TRANSLUCENT})))}function bT(e){return l.createElement(by.v,{mode:e.brand},l.createElement(bw,{title:e.title,subtitle:e.subtitle,icon:e.icon,isDisabled:e.isDisabled,isLoading:e.isLoading,showBetaTag:e.showBetaTag,showAlphaTag:e.showAlphaTag,dataTestId:e.dataTestId,onClick:e.onClick}))}function bI(){let e=l.useRef(null),[t,a]=l.useState(!1),r=l.useCallback(e=>{e.intersectionRatio<.5?a(!0):a(!1)},[a]);(0,bv.g)(e,r,{threshold:.5,rootMargin:"-50px"});let n=(0,s.d4)(e=>e.user?.drafts_folder_id),{isLoading:i,canCreateDesignFile:o,canCreateFigjamFile:c,canCreateSlidesFile:d,canShowCreateSitesFile:m}=(0,b_.n)(n),u=(0,bf.q)(),_=[l.createElement(bC,{key:"design",isDisabled:!o,isLoading:i}),l.createElement(bx,{key:"whiteboard",isDisabled:!c,isLoading:i}),!1,(0,p.kc)().piper&&l.createElement(bN,{key:"slides",isDisabled:!d,isLoading:i}),u&&l.createElement(bp.Vq,{key:"cooper",isLoading:i}),l.createElement(bS,{key:"import",isLoading:i})].filter(Boolean),f=_.length,[g,E]=l.useState(window.innerWidth);l.useEffect(()=>{let e=()=>E(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[E]);let{breakpointClassName:h,minWidth:v}=function(e,t){if("ja"===t){if(3===e)return{minWidth:980,breakpointClassName:"file_creation_thumbnails_shelf--jaThreeButtonShelf--Ud7nt"};if(4===e)return{minWidth:1200,breakpointClassName:"file_creation_thumbnails_shelf--jaFourButtonShelf--79zBr"};if(5===e)return{minWidth:1410,breakpointClassName:"file_creation_thumbnails_shelf--jaFiveButtonShelf--wqwQT"};if(6===e)return{minWidth:1620,breakpointClassName:"file_creation_thumbnails_shelf--jaSixButtonShelf--UuUEX"}}if(3===e)return{minWidth:810,breakpointClassName:"file_creation_thumbnails_shelf--enThreeButtonShelf--y7NDF"};if(4===e)return{minWidth:970,breakpointClassName:"file_creation_thumbnails_shelf--enFourButtonShelf--ctLk0"};if(5===e)return{minWidth:1140,breakpointClassName:"file_creation_thumbnails_shelf--enFiveButtonShelf--qkEvu"};if(6===e)return{minWidth:1310,breakpointClassName:"file_creation_thumbnails_shelf--enSixButtonShelf--rVrBv"};throw Error("Invalid number of file creation buttons")}(f,l.useMemo(()=>(0,p.mm)()[0],[])),y=g<v,b=(0,pI.Xr)(bu),w=t||y;return(l.useEffect(()=>{b(w)},[w,b]),y)?null:l.createElement("div",{className:D()("file_creation_thumbnails_shelf--fileCreationThumbnailsShelf--KMJ6U",h),ref:e},_)}function bC({isDisabled:e,isLoading:t}){let a=bE(e0._Y.DESIGN,ha.f6.FILE_BROWSER_THUMBNAILS_RECENTS,"recents_file_creation_thumbnails_created");return l.createElement(bT,{title:(0,k.t)("file_browser.creation_buttons.new_design_file"),subtitle:(0,k.t)("file_browser.creation_buttons.design_and_prototype"),brand:"design",dataTestId:"new-design-file-button",icon:l.createElement(bl.k,null),isDisabled:e,isLoading:t,onClick:a})}function bx({isDisabled:e,isLoading:t}){let a=bE(e0._Y.WHITEBOARD,ha.f6.FILE_BROWSER_THUMBNAILS_RECENTS,"recents_file_creation_thumbnails_created");return l.createElement(bT,{title:(0,k.t)("file_browser.creation_buttons.new_fig_jam_board"),subtitle:(0,k.t)("file_browser.creation_buttons.whiteboard_and_jam"),brand:"whiteboard",dataTestId:"new-whiteboard-file-button",icon:l.createElement(bs.D,null),isDisabled:e,isLoading:t,onClick:a})}function bN({isDisabled:e,isLoading:t}){let a=bE(e0._Y.SLIDES,ha.f6.FILE_BROWSER_THUMBNAILS_RECENTS,"recents_file_creation_thumbnails_created");return l.createElement(bT,{title:(0,k.t)("file_browser.creation_buttons.new_slide_deck"),subtitle:(0,k.t)("file_browser.creation_buttons.present_and_share"),brand:"piper",dataTestId:"new-slides-file-button",icon:l.createElement(bc.l,null),isDisabled:e,isLoading:t,showBetaTag:(0,p.kc)().omnicreate_slides_beta_tag,onClick:a})}function bS({isLoading:e}){let t=(0,s.wA)();return l.createElement(bw,{title:(0,k.t)("file_browser.creation_buttons.import"),subtitle:(0,k.t)("file_browser.creation_buttons.bring_in_files"),dataTestId:"file-import-button",icon:l.createElement(bm.R,null),isLoading:e,onClick:()=>{t((0,bh.L)())},containerClassName:"file_creation_thumbnails_shelf--importThumbnail--xooVC file_creation_thumbnails_shelf--fileCreationThumbnail--atC3k",iconContainerClassName:"file_creation_thumbnails_shelf--importIconContainer--FjJ9d file_creation_thumbnails_shelf--iconContainer--e9sFx",dataOnboardingKey:v9._})}var bk=a(522739),bL=a(606177),bA=a(384162),bR=a(453909),bF=a(178323),bO=a(887811),bP=a(106112),bD=a(882945),bM=a(27928),bB=a(583765),bU=a(67048),bV=a(435898),bH=a(315944);function bW(){return l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none"},l.createElement("g",{clipPath:"url(#a)"},l.createElement("g",{clipPath:"url(#b)"},l.createElement("path",{fill:"#F6C944",d:"M18.572.742H9.694v8.887h8.878V.742Z"}),l.createElement("path",{fill:"#D9EAA0",d:"M16.352 9.629H9.694v6.664h6.658V9.63Z"}),l.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M10.705 12.663c.549.222 1.3.321 1.902.396-.555.59-.925 1.052-1.107 1.406-.076.146-.163.507.037.625.271.16.681-.158.83-.338.19-.218.558-.761.91-1.45.22.64.47 1.133.625 1.392.225.376.533.504.687.403.153-.102.128-.333.081-.47-.153-.433-.442-.951-.708-1.362.735.158 1.141.254 1.386.232.27-.024.381-.137.402-.257.034-.198-.244-.3-.383-.354-.264-.102-.65-.26-1.339-.405.319-.289.463-.39.793-.9.18-.277.316-.789.138-.916-.258-.184-.566.087-.751.307-.338.402-.503.74-.74 1.192-.178-.485-.394-1.03-.774-1.499-.175-.214-.43-.422-.636-.278-.237.167-.148.5-.055.72.21.497.368.694.772 1.189-.642-.197-1.099-.301-1.902-.301-.165 0-.432.09-.457.237-.025.143.027.298.289.43Z",clipRule:"evenodd"}),l.createElement("path",{fill:"#E99BF4",d:"M9.693 6.666H3.035v6.665h6.658V6.666Z"}),l.createElement("path",{fill:"#985DF6",d:"M9.694 16.664c0 1.84-1.49 3.332-3.33 3.332a3.331 3.331 0 0 1-3.33-3.332c0-1.841 1.491-3.333 3.33-3.333a3.331 3.331 0 0 1 3.33 3.333Z"}),l.createElement("path",{fill:"#000",d:"M11.729 6.315c-.035.167-.101.337-.297.351-.233-.004-.34-.258-.384-.452-.128-.55-.038-1.519 0-2.177-.396.029-2.7-.15-3.245-.312-.172-.05-.36-.18-.334-.381.033-.191.185-.272.36-.312.383-.088 1.8-.073 2.235-.052.058 0 1.504.078 1.683.268.171.182.188.82.149 1.504-.03.516-.061 1.054-.167 1.563Z"}),l.createElement("path",{fill:"#000",d:"M2.665 5.185c0-2.591 5.1-3.423 6.753-3.355.435 0 1.38.086 2.233.394.798.288 1.828 1.162 2.285.699.594-.601-.915-1.434-1.63-1.662C11.476.997 10.37.818 8.85.818 6.386.852 1.556 1.98 1.556 5.185c0 3.831 6.415 3.703 8.138 3.703 3.33 0 7.36-1.016 7.399-4.444.033-2.99-3.18-4.446-5.92-4.442-3.155 0-7.028 1.11-7.028 4.073 0 1.48 1.24 2.18 2.59 2.22 2.959 0 4.785-2.035 4.785-2.035l-.613-.59S8.376 5.184 6.734 5.184c-.975.05-1.48-.25-1.48-1.11 0-2.644 3.96-2.513 5.792-2.615 2.332-.13 4.936.647 4.936 2.985 0 3.066-5.178 3.333-6.288 3.333-.972 0-7.029 0-7.029-2.592Z"}))),l.createElement("defs",null,l.createElement("clipPath",{id:"a"},l.createElement("path",{fill:"#fff",d:"M0 0h20v20H0z"})),l.createElement("clipPath",{id:"b"},l.createElement("path",{fill:"#fff",d:"M-30 0h48.571v20H-30z"}))))}let bj="templates_bar--headerTitle--6BSKy text--fontPos13--xW8hS text--_fontBase--QdLsd",b$="templates_bar--seeMoreIcon--u6ar5",bG="templates_bar--seeMoreTitle--a9L3F text--fontPos13--xW8hS text--_fontBase--QdLsd",bY="templates_bar--tileBottomRowNameOnly--SMVhN text--fontPos11--2LvXf text--_fontBase--QdLsd";var bz=a(613557),bQ=a(98015);function bK(e){let t=(0,s.wA)(),a=(0,eJ.iZ)(),r=(0,bO.vD)(a),n=(0,bO.Qk)(!1,r),i=(0,fn.oh)(n),o=(0,fn.mC)(n),c=!!(0,p.kc)().figjam_hybrid_shelf,d=bO.NV.has(r)?r:l0.iF.ALL;l.useEffect(()=>{if(!i&&!o)return null!==d?t(bA.Dw({shelfType:l0.cS.FILE_BROWSER_TEMPLATES_BAR,filterLabel:d})):t(bA.sz({shelfType:l0.cS.FILE_BROWSER_TEMPLATES_BAR}))},[i,o,t,r,d]);let m=(0,s.d4)(e=>e.communityHub.shelves[l0.cS.FILE_BROWSER_TEMPLATES_BAR]||[]),u=l.useMemo(()=>{let e=new Map;return m.forEach(t=>{e.set(t.id,t.shelf_content.map(e=>e))}),e},[m]),_=l.useCallback(t=>{if(!c||"All"!==t)return null;if(e.showInterimTemplatesShelf&&d)return(0,k.t)("file_browser.templates_shelf.for_you");switch(d){case"ENG":return(0,k.t)("file_browser.hybrid_templates_shelf.for_eng");case"MKT":return(0,k.t)("file_browser.hybrid_templates_shelf.for_mkt");case"UR":return(0,k.t)("file_browser.hybrid_templates_shelf.for_ur");case"PM":return(0,k.t)("file_browser.hybrid_templates_shelf.for_pm");case"DES":return(0,k.t)("file_browser.hybrid_templates_shelf.for_des");default:return null}},[c,d,e.showInterimTemplatesShelf]),f=l.useMemo(()=>{let e=[];return m.forEach(t=>{t.shelf_content.length>0&&e.push({tabKey:t.id,tabTitle:t.title,modifiedTabTitle:_(t.title)})}),e},[m,_]);return e.isShowing&&0!==f.length?l.createElement(eG.fu,{name:"topbar_templates_shown"},l.createElement("div",{className:"templates_bar--container--0nCIh"},l.createElement(bq,{tabNameToTemplatesMap:u,folderId:e.folderId,onClose:e.onClose,tabList:f,newFileFrom:e.newFileFrom,normJobPrefix:r,team:e.team,showInterimTemplatesShelf:e.showInterimTemplatesShelf}))):null}function bq(e){let[t,a]=l.useState(e.tabList[0]),[r,n]=l.useState(e.tabNameToTemplatesMap.get(t.tabKey)??[]),[i,o]=l.useState(null),{sizeRef:s,numTemplates:c,templateWidth:d,templateHeight:m}=function(e,t){let a=(0,l.useRef)(null),[r,n]=(0,l.useState)(0),i=Math.min(r-2*(t?2:24),t?2229:2002),o=t?0:1;(0,l.useLayoutEffect)(()=>{n(a?.current?.offsetWidth??0)},[n,a]),(0,m5.w)(a,e=>{n(e.width)});let s=t?16:12,c=(0,l.useMemo)(()=>i?Math.min(Math.floor((i+s)/(171+s))-o,e):0,[i,s,o,e]),d=c&&i?Math.floor((i-s*(c+(t?1:0)))/(c+o)):0,m=d?Math.floor(d*(t?136:124)/171):0;return{sizeRef:a,numTemplates:c,templateWidth:d,templateHeight:m}}(r?.length??0,e.showInterimTemplatesShelf),u=!e.showInterimTemplatesShelf&&!!(0,p.kc)().figjam_hybrid_shelf;l.useEffect(()=>{if(!e.tabList||0===e.tabList.length)return;let t=e.tabList[0];a(t),n(e.tabNameToTemplatesMap.get(t.tabKey)??[])},[e.tabList,e.tabNameToTemplatesMap]),l.useEffect(()=>{n(e.tabNameToTemplatesMap.get(t.tabKey)??[])},[t,e.tabNameToTemplatesMap]);let _=l.createElement(b1,{tabs:e.tabList,activeTab:t,setActiveTab:a,hasHybridShelf:u,showInterimTemplatesShelf:e.showInterimTemplatesShelf});return l.createElement(l.Fragment,null,l.createElement("div",{className:D()("templates_bar--headerContainer--3-3sN",{"templates_bar--headerContainerInterim--T-5sO":e.showInterimTemplatesShelf,"templates_bar--headerContainerRegular--9hrY3":!u&&!e.showInterimTemplatesShelf,"templates_bar--headerContainerHybrid--COZhA":u})},!u&&l.createElement("div",{className:"templates_bar--headerLeft--p4T6m"},!e.showInterimTemplatesShelf&&l.createElement(bX,null),l.createElement(bJ,{normJobPrefix:e.normJobPrefix,showInterimTemplatesShelf:e.showInterimTemplatesShelf})),l.createElement("div",{className:D()({"templates_bar--headerTabs--AAQDi":u,"templates_bar--headerCenter--vLNAU":!u&&!e.showInterimTemplatesShelf,"templates_bar--headerEnd--rI6SI":e.showInterimTemplatesShelf})},u&&l.createElement("div",{className:S.cx.mr8.mt1.$},l.createElement(bW,null)),_),l.createElement("div",{className:D()({"templates_bar--headerRight--OruBN":u,"templates_bar--headerRightOld--j-Via":!u&&!e.showInterimTemplatesShelf,"templates_bar--headerRightOldInterim--AfhZM":e.showInterimTemplatesShelf})},l.createElement(nh.Jn,{className:"templates_bar--closeButton--XeG8e templates_bar--headerIcon--qAnUr",onClick:e.onClose}))),u&&l.createElement(b4,{folderId:e.folderId,team:e.team,newFileFrom:e.newFileFrom}),l.createElement("div",{className:D()({"templates_bar--body--PKvm-":!e.showInterimTemplatesShelf,"templates_bar--bodyInterim--WbP1K":e.showInterimTemplatesShelf}),ref:s},l.createElement("div",{className:D()({"templates_bar--tilesContainer--OHkyf":!e.showInterimTemplatesShelf,"templates_bar--tilesContainerInterim--mTj4h":e.showInterimTemplatesShelf})},r?.slice(0,c??0).map((a,r)=>l.createElement("div",{key:a.id,style:{width:d,height:m,marginRight:e.showInterimTemplatesShelf?16:12}},l.createElement(b0,{hubFile:a,rank:r,folderId:e.folderId,tab:t,duplicatingHubId:i,setDuplicatingHubId:o,newFileFrom:e.newFileFrom,showInterimTemplatesShelf:e.showInterimTemplatesShelf})))),!e.showInterimTemplatesShelf&&l.createElement(bZ,{activeTab:t,width:d,height:m})))}function bZ(e){var t;let a=(0,s.wA)(),r=(t=e.activeTab.tabTitle,l.useMemo(()=>{switch(t){case"Brainstorm":let e="https://static.figma.com/uploads/1b49485e3b8b3a7e8a6f8099d37025abf445eaa9";return{color:"#FFBDF2",bgColor:"#FFF5FD",src:e,srcSet:`https://static.figma.com/uploads/17a263251c06e92c17ebcf534106f46de670f126, ${e} 2x`};case"All":let a="https://static.figma.com/uploads/f48b345384c95e6becd8f0afd653da77516f3754";return{color:"#80CAFF",bgColor:"#D5EAFA",src:a,srcSet:`https://static.figma.com/uploads/4fb27f103e1c26fd5018968f50d4de3ffc525981, ${a} 2x`};case"Diagram":let r="https://static.figma.com/uploads/fb96122b14ed3ae9c4f99858e53f198e4519881d";return{color:"#FFD966",bgColor:"#FFECB4",src:r,srcSet:`https://static.figma.com/uploads/b7d203490b07b0cc0996a32539727dd689542562, ${r} 2x`};case"Meetings":let n="https://static.figma.com/uploads/5bd4f8be4b68b3406a4efc955452d597843fe395";return{color:"#FF8311",bgColor:"#F9CA9F",src:n,srcSet:`https://static.figma.com/uploads/7919f8b041bc650fc00a468edb5639ca277fce09, ${n} 2x`};case"Planning":let i="https://static.figma.com/uploads/a5b7b70525c9fd5b075019212a36a4c85f296f0c";return{color:"#DA9DFF",bgColor:"#EBCAFF",src:i,srcSet:`https://static.figma.com/uploads/5df93072bc6c4eff89a96011b823515116dd80f2, ${i} 2x`};default:return null}},[t]));return r?l.createElement("div",{className:"templates_bar--seeMoreContainer--3XOPB"},l.createElement("button",{className:"templates_bar--seeMore--wyQRY",style:{backgroundColor:r.bgColor,width:e.width,height:e.height},onClick:()=>{(0,tC.Cu)({triggeredFrom:"file-browser",category:e.activeTab.tabTitle},"template_shelf_see_more_clicked"),(0,bM.KF)(a,{templateInsertionLocation:dd.RD.NEW_FILE,triggeredFrom:"templatesShelfSeeMore",initiallySelectedCategoryTitle:e.activeTab.tabTitle})}},l.createElement("div",{className:D()({"templates_bar--seeMoreImageWrapper--DtT2m":!0,"templates_bar--seeMoreImageDiagrammingWrapper--k-JG5":"Diagram"===e.activeTab.tabTitle})},l.createElement("img",{className:"templates_bar--seeMoreImage--xJ2jX",srcSet:r.srcSet,src:r.src,alt:`See all ${e.activeTab.tabTitle} templates`})),l.createElement("div",{className:"templates_bar--seeMoreSwoopWrapper--smJZh",style:{width:e.width,height:e.height}},l.createElement("svg",{className:"templates_bar--seeMoreSwoop--eQyRg",viewBox:"0 0 171 83",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("g",null,l.createElement("path",{d:"M171 31.852C156.81 34.3516 142.025 35.6728 126.834 35.6728C78.3913 35.6728 34.0786 22.236 0 0V83H171V31.852Z",fill:r.color})))),l.createElement("div",{"data-preferred-theme":"light",className:"templates_bar--seeMoreContent--Lh02f",style:tB.sx.add({height:"All"===e.activeTab.tabTitle?"30%":"45%"}).$},"All"===e.activeTab.tabTitle?l.createElement("div",{className:bG},(0,k.tx)("file_browser.templates_shelf.see_all"),l.createElement(H.B,{className:b$,svg:bz.A})):l.createElement(l.Fragment,null,l.createElement("div",{className:bG},e.activeTab.modifiedTabTitle??e.activeTab.tabTitle),l.createElement("div",{className:"templates_bar--seeMorePrompt--LIZSe text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.tx)("file_browser.templates_shelf.see_more"),l.createElement(H.B,{className:b$,svg:bz.A})))))):null}function bX(){return l.createElement("svg",{className:"templates_bar--headerIconLeft--RIFKx",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("path",{d:"M0.997498 3.32344C0.997498 2.22161 1.89071 1.3284 2.99254 1.3284H12.9678C14.0696 1.3284 14.9628 2.22161 14.9628 3.32344V13.2987C14.9628 14.4005 14.0696 15.2937 12.9678 15.2937H2.99254C1.89071 15.2937 0.997498 14.4005 0.997498 13.2987V3.32344Z",fill:"#9747FF"}),l.createElement("mask",{id:"path-2-inside-1_1042_9371",fill:"white"},l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.99255 4.32095H12.9678V12.3011H2.99255V4.32095ZM3.99007 5.31847H11.9702V7.31355H3.99007V5.31847ZM11.9702 8.31107H6.98264V11.3036H11.9702V8.31107ZM5.98512 11.3036H3.99007V8.31107H5.98512V11.3036Z"})),l.createElement("path",{d:"M3.99007 5.31847V4.32095H2.99255V5.31847H3.99007ZM11.9702 5.31847H12.9678V4.32095H11.9702V5.31847ZM11.9702 7.31355V8.31107H12.9678V7.31355H11.9702ZM3.99007 7.31355H2.99255V8.31107H3.99007V7.31355ZM2.99255 4.32095V3.32343H1.99503V4.32095H2.99255ZM12.9678 4.32095H13.9653V3.32343H12.9678V4.32095ZM12.9678 12.3011V13.2986H13.9653V12.3011H12.9678ZM2.99255 12.3011H1.99503V13.2986H2.99255V12.3011ZM11.9702 8.31107H12.9678V7.31355H11.9702V8.31107ZM6.98264 8.31107V7.31355H5.98512V8.31107H6.98264ZM6.98264 11.3036H5.98512V12.3011H6.98264V11.3036ZM11.9702 11.3036V12.3011H12.9678V11.3036H11.9702ZM5.98512 11.3036V12.3011H6.98264V11.3036H5.98512ZM3.99007 11.3036H2.99255V12.3011H3.99007V11.3036ZM3.99007 8.31107V7.31355H2.99255V8.31107H3.99007ZM5.98512 8.31107H6.98264V7.31355H5.98512V8.31107ZM3.99007 6.316H11.9702V4.32095H3.99007V6.316ZM10.9727 5.31847V7.31355H12.9678V5.31847H10.9727ZM4.9876 7.31355V5.31847H2.99255V7.31355H4.9876ZM11.9702 7.31355H6.98264V9.30859H11.9702V7.31355ZM5.98512 8.31107V11.3036H7.98016V8.31107H5.98512ZM6.98264 12.3011H11.9702V10.3061H6.98264V12.3011ZM12.9678 11.3036V8.31107H10.9727V11.3036H12.9678ZM5.98512 10.3061H3.99007V12.3011H5.98512V10.3061ZM4.9876 11.3036V8.31107H2.99255V11.3036H4.9876ZM3.99007 9.30859H5.98512V7.31355H3.99007V9.30859ZM4.9876 8.31107V11.3036H6.98264V8.31107H4.9876ZM11.9702 6.31603H3.99007V8.31107H11.9702V6.31603ZM3.99007 12.3011V4.32095H1.99503V12.3011H3.99007ZM2.99255 5.31847H12.9678V3.32343H2.99255V5.31847ZM11.9702 4.32095V12.3011H13.9653V4.32095H11.9702ZM12.9678 11.3036H2.99255V13.2986H12.9678V11.3036Z",fill:"white",mask:"url(#path-2-inside-1_1042_9371)"}))}function bJ(e){let[t,a]=(0,bO.sh)(e.normJobPrefix);return e.showInterimTemplatesShelf?l.createElement("div",{className:bj},(0,k.tx)("file_browser.templates_shelf.interim_title")):l.createElement("div",{className:bj},t??(0,k.tx)("file_browser.templates_shelf.title"))}function b0(e){let t=(0,s.wA)(),a=e.hubFile,r=a.id,n=null!==e.duplicatingHubId,i=e.duplicatingHubId===r,o=a&&(0,dd.a6)(e.hubFile),c=n=>{n.stopPropagation(),e.setDuplicatingHubId(r),t(Ej.rL({hubFileId:r,hubFileName:o?.name||"this file",openInNewTab:!1,folderId:e.folderId,source:ha.f6.FILE_BROWSER_TEMPLATES_BAR,callback:t=>{e.setDuplicatingHubId(null),(0,tC.Cu)({fileKey:t,rank:e.rank,templateId:r,productType:(0,bR.L)(a.viewer_mode)},"topbar_template_selected"),(0,bF._)("resource_inserted",{fileKey:t,resourceId:r,resourceName:o.name,resourceType:"template",templateType:bP.n.HubFile,triggeredFrom:e.newFileFrom,category:e.tab.tabTitle,templateCategory:e.tab.tabKey})}}))};return a?l.createElement(bD.zq,{containerStyle:"templates_bar--templatesTileContainer--yy7Q2",onClick:n?void 0:c,image:l.createElement(bD.FK,{backgroundColor:(0,dv.Cn)(a.client_meta),removeBorder:!0,className:D()({"templates_bar--templatesTileImage--y0sA9":!e.showInterimTemplatesShelf,"templates_bar--templatesTileImageInterim--GA5Gc templates_bar--templatesTileImage--y0sA9":e.showInterimTemplatesShelf}),customRatioClassName:"templates_bar--imageRatio--enx9l"},l.createElement(bD.zx.Cover,null,l.createElement("button",{className:"templates_bar--hoverOverlay--bQBil browse_templates_modal--hoverOverlay--sFj3y",onClick:c,disabled:n})),l.createElement(bD.zx.Center,null,l.createElement(r8.$$,{onClick:c,className:D()("templates_bar--useTemplateButton--4KFhz",{"templates_bar--bgFigjam--quTf0":a.viewer_mode===e0.y4.WHITEBOARD,"templates_bar--bgSlides--V5gmr":a.viewer_mode===e0.y4.SLIDE_TEMPLATE}),disabled:n,tabIndex:-1},i?l.createElement(tP.kt,{size:"medium"}):(0,k.tx)("file_browser.new_file_creation_topbar.use_templates"))),l.createElement(db.Ho,{image:e.overrideThumbnailUrl||a.thumbnail_url||void 0,isSet:!!e.overrideThumbnailUrl||!!a.thumbnail_is_set,isWhiteboard:a.viewer_mode===e0.y4.WHITEBOARD,hubFileId:a.id,alt:(0,dd.a6)(a).name,imageClassName:a.viewer_mode===e0.y4.SLIDE_TEMPLATE?"templates_bar--slidesThumbnailImage--uJ-8c templates_bar--thumbnailImage--ymHpx":"templates_bar--thumbnailImage--ymHpx",resizedThumbnailUrls:a.resized_thumbnail_urls})),bottomRow:e.showInterimTemplatesShelf?l.createElement(bD.Wf.NameAndFileIconMetadata,{name:o.name,className:"templates_bar--tilesBottomRowContainerInterim--2UYbZ",textClassName:bY,viewerMode:a.viewer_mode}):l.createElement(bD.Wf.NameMetadata,{name:o.name,className:"templates_bar--tilesBottomRowContainer--GxsNx",textClassName:bY}),bottomRowStyle:e.showInterimTemplatesShelf?"templates_bar--bottomRowStyleInterim--qBzJE":"templates_bar--bottomRowStyle--a32JN"}):null}function b1(e){let t=(0,s.wA)(),a=!e.hasHybridShelf&&!e.showInterimTemplatesShelf;return l.createElement("div",{className:"templates_bar--tabs--a8HOf text--fontPos13--xW8hS text--_fontBase--QdLsd",style:tB.sx.add({columnGap:e.hasHybridShelf?"20px":"26px"}).$},a&&l.createElement(bk.GG,{"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":(0,k.t)("file_browser.templates_shelf.search_tooltip"),"aria-label":(0,k.t)("file_browser.templates_shelf.search_tooltip"),className:"templates_bar--searchButton--1EdKI templates_bar--headerIcon--qAnUr",onClick:()=>{(0,tC.Cu)({triggeredFrom:"file-browser",category:e.activeTab.tabTitle},"template_shelf_search_clicked"),(0,bM.KF)(t,{templateInsertionLocation:dd.RD.NEW_FILE,triggeredFrom:"templatesShelfSearch"})}},l.createElement(eO.In,{icon:"search-32"})),e.tabs.map(t=>l.createElement(b2,{key:t.tabKey,tab:t,isActive:t.tabKey===e.activeTab.tabKey,setActiveTab:e.setActiveTab,showInterimTemplatesShelf:e.showInterimTemplatesShelf})))}function b2(e){return l.createElement(bk.GG,{className:D()({"templates_bar--tab---drzF":!e.showInterimTemplatesShelf,"templates_bar--tabInterim--b4Do5 text--fontPos11--2LvXf text--_fontBase--QdLsd":e.showInterimTemplatesShelf,"templates_bar--activeTab--c7Hid":e.isActive}),onClick:()=>{(0,tC.Cu)({triggeredFrom:"file-browser",category:e.tab.tabTitle},"template_shelf_category_toggled"),e.setActiveTab(e.tab)}},e.tab.modifiedTabTitle??e.tab.tabTitle)}function b4(e){let[t,a]=(0,l.useState)(""),r=(0,e_.md)(bB.dO).status===bH.c.LOADING,{onMake:n}=function(e,t,a){let r=(0,s.wA)(),n=(0,bg.B)(a);return{onMake:(a,i,o)=>{r(h7.zE({state:n,editorType:e0._Y.WHITEBOARD,team:t,from:e,openNewFileIn:(0,R.oJ)(i)?ha.ai.NEW_TAB:ha.ai.SAME_TAB,figjamAiNewFileData:{prompt:o?`${o.title} ${o.subtitle}`:a,useCaseCategory:o?.useCaseCategory,subtitle:o?.subtitle,entrypoint:bV.fV.TEMPLATE_SHELF}}))}}}(e.newFileFrom,e.team,e.folderId);return l.createElement("div",{className:S.cx.ml24.mr24.flex.flexRow.justifyCenter.$,style:tB.sx.add({width:"calc(100% - 48px)"}).$},l.createElement("div",{className:S.cx.flex.itemsCenter.colorBg.b1.colorBorder.wFull.$,style:tB.sx.add({maxWidth:"800px",borderRadius:"12px"}).$},l.createElement("div",{className:S.cx.ml12.font14.colorTextSecondary.flex.itemsCenter.gap8.$},l.createElement(H.B,{svg:bQ.A,style:tB.sx.add({fill:"currentColor"}).$}),l.createElement(bU.G,{location:"FILE_BROWSER_BAR"})),l.createElement("input",{className:D()(S.cx.flex1.px16.py12.h24.bgTransparent.font13.lh24.$,"templates_bar--input--v2677"),placeholder:(0,k.t)("whiteboard.ai_onboarding.file_browser.placeholder"),value:t,onChange:e=>a(e.target.value),disabled:r,autoComplete:"off",onKeyDown:e=>{t.length>0&&(0,R.Fo)(e)&&"Enter"===e.key&&(e.preventDefault(),n(t))}}),l.createElement("div",{className:D()(S.cx.mr8.$,"templates_bar--figjamButton--8yaTU")},l.createElement(bL.$n,{variant:"primary",disabled:0===t.length||r,onClick:e=>n(t,e)},l.createElement("div",{className:S.cx.flex.itemsCenter.gap8.$},(0,k.tx)("file_browser.hybrid_templates_shelf.generate_button"))))))}var b8=a(56430);(0,eg.r1)("dismissed_figjam_ai_file_browser_bar");let b3=(0,n0.eU)(!1);function b5(e){var t;let a=(0,eZ.gj)(e.folderId,e0._Y.WHITEBOARD).unwrapOr(!1),r=(0,eZ.gj)(e.folderId,e0._Y.DESIGN).unwrapOr(!1),n=(0,eZ.gj)(e.folderId,e0._Y.SLIDES).unwrapOr(!1),i=(0,eJ.TA)(),o=e.team&&e2.ng.getProTrialStatus(e.team)===ym.a.IN_TRIAL,{recommendedTemplatesIsOpen:s,toggleRecommendedTemplates:c}=e,d=l.useCallback(()=>{c(),(0,tC.Cu)({userId:i,opening:!s},"topbar_recommended_templates_toggled")},[s,i,c]),m=(0,pI.Xr)(b3),u=!!(0,p.kc)().figjam_hide_templates_shelf,_=(0,eP.F1)(),f=(t={component:"NewFileCreationTopbar"},(0,ay.FR)(t)),g=!E.Ay.mobile&&r&&n&&!o&&!e.disableRecommendedTemplates&&s&&f&&(!u||_()),h=e.showFileCreationShelf&&!g?l.createElement(bI,null):void 0;return(l.useEffect(()=>{m(g)},[m,g]),E.Ay.mobile)?null:a||r||n?l.createElement(l.Fragment,null,h,g&&l.createElement(bK,{isShowing:e.recommendedTemplatesIsOpen,onClose:d,folderId:e.folderId,newFileFrom:e.newFileFrom,team:e.team,showInterimTemplatesShelf:u}),o&&l.createElement(b8.J,{teamId:e.team.id})):l.createElement(l.Fragment,null,h)}b5.displayName="NewFileCreationTopbar";var b9=a(433011);function b6(e){let[t,a]=l.useState(!1),[r]=l.useState(()=>new b9.W),{isSelected:n,selectPinnedFile:i,file:o,index:s,openFile:c}=e,d=l.useCallback(e=>{t?(n&&i(o.file,e),c(o.file,e,s)):(i(o.file,e),r.reset(),r.scheduleOnce(()=>{a(!1)},500),a(!0),e.preventDefault(),e.stopPropagation())},[r,s,n,c,o.file,i,t]);l.useEffect(()=>()=>r.reset(),[r]);let m=e.file.file,u=t?(0,rr.jN)({file:e.file.file}):void 0;return u&&(u=(0,lI.mc)(u,e.user),u=(0,lI.vk)(u,e.currentOrgId,e.currentTeamId,e.selectedView)),l.createElement("a",{className:D()(h2.GC,{[h2.GV]:e.isSelected}),href:u,rel:"noopener",onClick:d,onContextMenu:t=>{e.onFileContextMenu(e.file.file,t,e.index)}},l.createElement("div",{className:h2.PP},l.createElement(rN.NM,{file:m,noBorder:!0})),l.createElement("div",{className:h2.q6},l.createElement("div",{className:h2.z6},l.createElement(L.E,{fontSize:13,fontWeight:"medium",truncate:!0},m.name)),l.createElement("div",{className:h2.h7},e.file.pinnedByUser?l.createElement(L.E,{fontSize:11,fontWeight:"regular",truncate:!0},(0,k.tx)("tile.file_tile.pinned_by_user",{name:e.file.pinnedByUser.name})):l.createElement(L.E,{fontSize:11,fontWeight:"regular",truncate:!0},(0,k.tx)("tile.file_tile.pinned_just_now")))))}function b7(e){let t=l.useRef(null),a=l.useRef(null),r=l.useRef(null),n=l.useRef(null),i=l.useRef(null),{selectedView:o,tileSelect:c,currentOrgId:u,currentTeamId:_,user:f}=(0,nX.R)(e=>({selectedView:e.selectedView,tileSelect:e.tileSelect,currentOrgId:e.currentUserOrgId,currentTeamId:e.currentTeamId,user:e.user})),g=(0,s.wA)(),{showing:h,show:v,hide:y,data:b}=(0,lu.L)(),w=l.useCallback((e,t,a)=>{t.stopPropagation(),t.preventDefault();let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1},n={type:rt.nb.PINNED_FILE,file:e},i=t.shiftKey&&t.altKey;if(c&&c[rc.F.PINNED_FILES]){if(c[rc.F.PINNED_FILES][n.file.key]){v({data:{tile:n,targetRect:r,index:a,enableRestore:i}});return}if(t.shiftKey||t.metaKey||t.ctrlKey){g(a6.y$({type:rc.F.PINNED_FILES,tiles:[n]})),v({data:{tile:n,targetRect:r,index:a,enableRestore:i}});return}}t.shiftKey||t.metaKey||t.ctrlKey||g(a6.an()),g(a6.y$({type:rc.F.PINNED_FILES,tiles:[n]})),v({data:{tile:n,targetRect:r,index:a,enableRestore:i}})},[g,v,c]),T=l.useCallback((e,t)=>{if(h){y();return}if(E.Ay.mobile||E.Ay.tablet){m.Ay.redirect((0,rr.jN)({file:e}));return}t.stopPropagation();let a=c&&c[rc.F.PINNED_FILES]&&c[rc.F.PINNED_FILES][e.key];if(t.ctrlKey||t.metaKey||t.shiftKey)a?g(a6.TK({tileKeys:[e.key]})):g(a6.y$({type:rc.F.PINNED_FILES,tiles:[{type:rt.nb.PINNED_FILE,file:e}]}));else{if(a)return;g(a6.an()),g(a6.y$({type:rc.F.PINNED_FILES,tiles:[{type:rt.nb.PINNED_FILE,file:e}]}))}},[g,h,y,c]),I=l.useCallback((e,t)=>{d.eD&&(0,ei.sx)("Open File Click",{fileKey:e.key,uiSelectedView:JSON.stringify(o)}),g(Q.UN({fileKey:e.key,entrypoint:"pinned files"}));let a=E.Ay.mac?t.metaKey:t.ctrlKey,r=null;if(a&&t.shiftKey?r=d.aw.FOCAL_TAB:a?r=d.aw.BACKGROUND_TAB:t.shiftKey&&(r=d.aw.NEW_WINDOW),null!=r){g(z.oB()),d.eD&&(t.preventDefault(),t.stopPropagation(),d.eD.openFile({fileKey:e.key,title:e.name||"Untitled",fileEditorType:e.editorType,target:r,isTeamTemplate:e.isTeamTemplate,userId:f?.id}));return}t.preventDefault(),t.stopPropagation(),g(ve.p4({planId:u||vl.P}));let n=o&&("recentsAndSharing"===o.view||"folder"===o.view)?o:void 0,i=(0,p.kc)().ps_benchmark;(0,lI.N7)(u,e.parentOrgId,_,e.teamId)?(0,lI.QV)({file:{key:e.key,editorType:e.editorType}},{user:f,teamId:i?_:null,orgId:u,selectedView:o}):g(z.$T({view:"fullscreen",fileKey:e.key,editorType:(0,gP.wN)(e.editorType),prevSelectedView:n}))},[g,u,_,o,f]),C=l.useMemo(()=>e.files.filter(({file:e})=>!!e).map(({file:e})=>({type:rt.nb.PINNED_FILE,file:e})),[e.files]),x=(0,rt.nw)(C),N=l.useCallback(()=>{let t=b?.tile??null;return l.createElement(l_.i,{...e,tile:t,selectedTiles:x,openTile:e=>{t?.type===rt.nb.PINNED_FILE&&t?.file&&I(t.file,e)},dropdownVisible:h})},[b?.tile,e,x,h,I]),S=l.useCallback(e=>{(e.target===t.current||e.target===a.current||e.target===r.current||e.target===i.current||n.current&&n.current.contains(e.target))&&(g(z.oB()),g(a6.an()))},[g]),k=c[rc.F.PINNED_FILES],L=vd+` ${h2.dp}`;l.useEffect(()=>{if(E.Ay.mobile&&E.Ay.safari&&t.current){let e=t.current.className;window.addEventListener("load",()=>{t.current&&(t.current.className=""),setTimeout(()=>{t.current&&(t.current.className=e)},500)})}},[]);let A=l.useMemo(()=>e.files.map(e=>e.file?.key).filter(e=>!!e),[e.files]);return(0,a1.IT)(A),l.createElement("div",{className:"tiles_view--pinnedContainer--2x-rH",onMouseDown:S,ref:t},l.createElement("div",{className:L,ref:a},l.createElement("div",{ref:r,key:"grid",className:D()(vc,"tiles_view--tilesGridPinned--YNmwb")},e.files.map((e,t)=>{let a=!!(k&&k[e.file.key]);return l.createElement(b6,{file:e,openFile:I,index:t,onFileContextMenu:w,isSelected:a,selectPinnedFile:T,key:`file-${e.file.key}`,currentOrgId:u,currentTeamId:_,selectedView:o,user:f})}))),N())}function we(e){return l.createElement("div",{className:D()("starter_team_overview_item--container--2OVmD",{"starter_team_overview_item--containerDisabled--76kDd":e.disabled,"starter_team_overview_item--containerDefault--dN-eI":!e.disabled})},l.createElement(H.B,{className:"starter_team_overview_item--icon--Z3o0g",svg:e.icon}),l.createElement("p",{className:"starter_team_overview_item--text--r36FA"},e.text))}var wt=a(174726),wa=a(965821);function wr({folderId:e}){let t=(0,np.Rs)(ng.yU5,{projectId:e});if("loaded"!==t.status)return null;let a=t.data.project?.team?.teamFileCounts?.designFileCount??0,r=t.data.project?.team?.teamFileCounts?.whiteboardFileCount??0;return l.createElement(l.Fragment,null,l.createElement(we,{icon:wa.A,text:(0,k.t)("team_view.starter_team.num_of_figma_files_user",{numFigmaFilesUsed:a,maxFreeFiles:eN.WW})}),l.createElement(we,{icon:wt.A,text:(0,k.t)("team_view.starter_team.num_of_figjam_files_user",{numFigjamFilesUsed:r,maxFreeFiles:eN.WW})}))}function wn({folderId:e}){return l.createElement("div",{className:"starter_team_overview--container--YU-xB text--fontPos13--xW8hS text--_fontBase--QdLsd","data-testid":"StarterTeamOverview"},l.createElement("div",{className:"starter_team_overview--header--4s2vt text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("file_browser.folder.starter_team_overview")),l.createElement("div",{className:"starter_team_overview--detailsWithFigjam--n0fVl"},l.createElement(wr,{folderId:e})))}let wi="upgrade_section--sidebarDivider--O7mLk",wo="upgrade_section--upsellDescription--Heggv text--fontPos13--xW8hS text--_fontBase--QdLsd";function wl({teamId:e}){let t=(0,s.wA)(),a=(0,eX.TN)(e),r=(0,s.d4)(t=>t.teams[e]),n=(0,np.Rs)(ng.kQI,{id:e}),i=!!n.data?.team?.hasPermission,o=r&&!r.org_id&&!r.subscription&&i,c=e2.ng.canSeeProTrialUx(a),d=r&&!(0,eN.w5)(r),m=()=>c?e8.b.PRO_TRIAL_UPSELL_MODAL:e8.b.UPGRADE_SECTION,u=a=>()=>{t((0,e$.to)({type:ed.V,data:{teamId:e,upsellSource:a}}))};return d&&o||c?c?l.createElement(eG.fu,{name:m(),properties:e2.ng.getTrackingProperties()},l.createElement("div",{className:wi}),l.createElement("p",{className:"upgrade_section--upsellTitle--db4mh text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(L.E,{fontSize:13,fontWeight:"medium"},(0,k.tx)("team_view.upgrade.pro_trials.title"))),l.createElement("p",{className:wo},l.createElement(L.E,{fontSize:13},(0,k.tx)("team_view.upgrade.pro_trials.description"))),l.createElement("div",{className:"upgrade_section--teamProUpgrade--8J0Tz text--fontPos11--2LvXf text--_fontBase--QdLsd"},l.createElement(tF.vd,{onClick:u(m()),trackingProperties:{teamId:e,trackingDescriptor:ep.c.UPGRADE_TO_PROFESSIONAL}},(0,k.tx)("team_view.upgrade.pro_trials.upgrade_to_professional_cta")))):l.createElement(eG.fu,{name:m()},l.createElement("div",{className:wi}),l.createElement("p",{className:wo},l.createElement(tF.Us,{onClick:u(m()),trackingProperties:{trackingDescriptor:ep.c.UPGRADE_YOUR_TEAM},trusted:!0},(0,k.tx)("team_view.upgrade.upgrade_your_team")),(0,k.tx)("team_view.upgrade.for_unlimited_files_projects_and_customizable_team_libraries"))):null}var ws=a(902957),wc=a(129318),wd=a(543312),wm=a(212957),wu=a(66154),w_=a(573821);let wp="seen_pro_onboarding_unlimited_files_overlay",wf=(0,eg.r1)(wp);function wg({teamId:e,canCreateFigjamBoard:t}){let a=(0,e_.md)(wf),r=(0,e_.md)(wd.e),n=(0,s.d4)(e=>e.userTeamFlags),i=n[e]?.[w_.UA],o=(0,eP.kO)(),{show:c,isShowing:d,complete:m}=(0,ef.e)({overlay:ey.jVB,priority:eE.N.DEFAULT_MODAL,experiment:{check:o,predicate:e=>e,postCheck:e=>!e}},[a,r]);return((0,u.h)(()=>{i&&c({canShow:(t,a)=>a.some(t=>t.id===e)})}),d)?l.createElement(fA.M,{isShowing:d,userFlagOnShow:wp},l.createElement(eG.fu,{name:wm.S.getTooltipTrackingContext("Unlimited Files"),properties:wm.S.getTrackingProperties(e)},l.createElement(wu.yG,{dismissModal:m,canCreateFigjamBoard:t}))):null}function wE(e){let{selectedView:t,userFlags:a,userTeamFlags:r,userEduVerified:n,isFreeUser:i,userAnalyticsData:o,...c}=(0,nX.R)(e=>({selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,userEduVerified:!!e.user?.student_validated_at,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData,...(0,eS.getPermissionsState)(e)})),d=(0,s.wA)(),m=(0,np.Rs)(ng.UpR,{}),{teamId:u,selectedTab:_}=e,f=c.teams[u],g=!!f?.org_id,E=!!f?.subscription,h=u&&(0,eS.canAdminTeam)(u,c),v=(0,eP.Yz)();(0,l.useEffect)(()=>{(0,p.kc)().requires_action_3ds_banner&&u&&!g&&E&&h&&d(yV.Be({teamId:u}))},[d,u,g,E,h]);let y=(0,s.d4)(e=>e.teamBilling?.summary),b=yD(e0.vt.TEAM,f,u,{selectedView:t,userFlags:a,userTeamFlags:r,selectedTab:_,isFreeUser:i,userAnalyticsData:o,eduPeriodEnd:m.data?.currentUser?.eduPeriodEnd,billingSummary:y,checks:{isEligibleForLockedRedesign:v},...c},d);if(!b)return l.createElement("div",null);let w=yU({resourceType:e0.vt.TEAM,teamId:u},b),T=b.severity===yg.c.WARN?yE:"",I=b.bannerClassName||"",C=`${yN} ${T} ${I}`;return l.createElement("div",{className:C},l.createElement(yj,{...b,tracking:w}))}var wh=a(290750);class wv extends l.PureComponent{constructor(){super(...arguments),this.state={contributors:null},this.viewUser=(e,t)=>{this.props.dispatch(z.$T({view:"user",userId:t.id,userViewTab:o$.o.INTERNAL_PROFILE}))}}componentDidMount(){wh.W.getContributors({folderId:this.props.folderId}).then(e=>{this.setState({contributors:e.data.meta})}).catch(e=>{console.warn("Unable to load project contributors")})}render(){let e=this.viewUser;return l.createElement("div",{className:"contributors--contributors--UpVcx text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement("div",{className:"contributors--contributorsHeader--6sefy"},(0,k.tx)("file_browser.folder.recent_contributors")),l.createElement(ft.x,{className:"contributors--loading--0u-Y2",isLoading:!this.state.contributors},()=>l.createElement("div",null,this.state.contributors&&this.state.contributors.filter(e=>e.user).map(t=>l.createElement(a_.az,{key:t.user.id,className:"contributors--contributorAvatar--bCw14",entity:t.user,size:24,showIsMe:t.user.id===this.props.currentUserId,onClick:e})),this.state.contributors&&0===this.state.contributors.length&&l.createElement("div",{className:"contributors--contributorEmpty--BnRcr text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.tx)("file_browser.folder.people_who_have_edited_this_project_will_appear_here")))))}}let wy=(0,s.Ng)((e,t)=>{let a=e.folders[t.folderId],r=a&&a.team_id?e.teams[a.team_id]:null;return{folderOrg:r&&r.org_id?e.orgById[r.org_id]:null,currentUserId:e.user?e.user.id:null}})(wv);var wb=a(411045),ww=a(303345),wT=a(298543);function wI(e){let t=(0,s.wA)(),a=l.useRef(null),r=(0,s.d4)(({dropdownShown:e})=>e),n=e.dropdownKey&&r&&r.type===e.dropdownKey&&r.data&&r.data.targetRect,i=ly.findDOMNode(a.current),o=[];return e.canCreateDesignFile&&o.push(l.createElement(ok.c$,{key:"new-design-file",children:l.createElement(l.Fragment,null,l.createElement(rx.oS,{className:S.cx.pr6.$,size:rx.LE.SMALL,type:rx.y1.DESIGN}),(0,k.tx)("file_browser.tool_bar.new_design_file")),onClick:e.onNewDesignFileClick})),e.canCreateWhiteBoardFile&&o.push(l.createElement(ok.c$,{key:"new-figjam-board",children:l.createElement(l.Fragment,null,l.createElement(rx.oS,{className:S.cx.pr6.$,size:rx.LE.SMALL,type:rx.y1.WHITEBOARD}),(0,k.tx)("file_browser.tool_bar.new_figjam_board")),onClick:e.onNewWhiteBoardClick})),e.canCreateSlidesFile&&o.push(l.createElement(ok.c$,{key:"new-slides-file",children:l.createElement(l.Fragment,null,l.createElement(rx.oS,{className:S.cx.pr6.$,size:rx.LE.SMALL,type:rx.y1.SLIDES}),(0,k.tx)("file_browser.tool_bar.new_slide_deck")),onClick:e.onNewSlidesClick})),l.createElement("button",{className:D()(S.cx.flex.itemsCenter.$,"new_file_toolbar_dropdown--newFileDropdown--pPPdw"),ref:a,onClick:a=>{e.dropdownKey&&i&&t(z.j7({type:e.dropdownKey,data:{targetRect:i?.getBoundingClientRect()}}))}},l.createElement(H.B,{svg:oC.A,className:D()(S.cx.pr6.$,"new_file_toolbar_dropdown--svg--ugaqW")}),(0,k.tx)("file_browser.tool_bar.new"),n&&l.createElement(wT.Cf,{targetRect:r.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},o))}var wC=a(896026);function wx(e){let t=bE(e0._Y.DESIGN,e.from,"toolbar_design_created"),a=(0,eP.Yz)()(!!e.isTeamLocked),r=!!e.disabled||a,n=r?g.lQ:t,i=r?(0,k.t)("locked_team.label.tooltip"):void 0,o=r?eL.Ib.TEXT:void 0;return{disabled:r,onClick:n,dataTooltip:i,dataTooltipType:o,displayText:(0,k.t)("file_browser.tool_bar.new_design_file"),dataTestId:"new-design-file-button",editorThemeMode:"design",key:oS.D.NEW_FILE,listOptionType:wC.R.DESIGN}}function wN(e){let t=bE(e0._Y.WHITEBOARD,e.from,"toolbar_figjam_created"),a=(0,eP.Yz)()(!!e.isTeamLocked),r=!!e.disabled||a,n=r?g.lQ:t,i=r?(0,k.t)("locked_team.label.tooltip"):void 0,o=r?eL.Ib.TEXT:void 0;return{disabled:r,onClick:n,dataTooltip:i,dataTooltipType:o,displayText:(0,k.t)("file_browser.tool_bar.new_figjam_board"),dataTestId:"new-whiteboard-file-button",editorThemeMode:"whiteboard",key:oS.D.NEW_WHITEBOARD_FILE,listOptionType:wC.R.WHITEBOARD}}var wS=a(741477),wk=a(870232),wL=(e=>(e.NEW_SLIDES_FILE="NEW_SLIDES_FILE",e))(wL||{});function wA(e){let t=bE(e0._Y.SLIDES,e.from,"toolbar_slides_created"),a=(0,eP.Yz)()(!!e.isTeamLocked),r=!!e.disabled||a,n=r?(0,k.t)("locked_team.label.tooltip"):void 0,i=r?eL.Ib.TEXT:void 0,o=r?g.lQ:t;return{disabled:r,onClick:o,dataTooltip:n,dataTooltipType:i,displayText:(0,k.t)("file_browser.tool_bar.new_slide_deck"),dataTestId:"new-slides-file-button",editorThemeMode:"piper",key:"NEW_SLIDES_FILE",listOptionType:wC.R.SLIDES}}let wR="resource_creation_action--icon--I0s0W",wF="resource_creation_action--iconDisabled--80iVj",wO="resource_creation_action--betaTag--o8v94",wP="resource_creation_action--fadeInOnMount--A5XBA",wD={[wC.R.DESIGN]:"resource_creation_action--designHoverOption--50QUQ",[wC.R.WHITEBOARD]:"resource_creation_action--figJamHoverOption--ipE-z",[wC.R.SLIDES]:"resource_creation_action--piperHoverOption--x6D--",[wC.R.SITES]:"resource_creation_action--seascapeHoverOption--AZM8v",[wC.R.IMPORT]:"resource_creation_action--importHoverOption--sVdl8",[wC.R.COOPER]:"resource_creation_action--cooperHoverOption--r7I1c"};function wM(e,t){let a=void 0!==t?t:e.onClick;return{displayText:e.displayText,activeClassName:"resource_creation_action--active--a-b-K",className:D()(wD[e.listOptionType],"resource_creation_action--menuOptionItem--XHeQF",e.disabled&&"resource_creation_action--disabled--Kajn-"),disabled:e.disabled,preventDismissOnSelected:!1,callback:(t,r,n,i)=>{e.disabled||a(i)},render:()=>l.createElement(wB,{disabled:e.disabled,text:e.displayText,onClick:a,listOptionType:e.listOptionType,dataTestId:e.dataTestId,key:e.key,dataOnboardingKey:e.dataOnboardingKey})}}function wB(e){let t={[wC.R.DESIGN]:l.createElement(bl.k,{className:e.disabled?wF:wR}),[wC.R.WHITEBOARD]:l.createElement(bs.D,{className:e.disabled?wF:wR}),[wC.R.SLIDES]:l.createElement(bc.l,{className:e.disabled?wF:wR}),[wC.R.SITES]:l.createElement(bd.Y,{className:e.disabled?wF:wR}),[wC.R.IMPORT]:l.createElement(bm.R,{className:e.disabled?wF:wR}),[wC.R.COOPER]:l.createElement(rA.w,{inverted:!0})};return l.createElement("div",{role:"link",tabIndex:0,"data-testid":e.dataTestId,"data-tooltip":e.dataTooltip,"data-tooltip-type":eL.Ib.TEXT,"data-tooltip-timeout-delay":300,"data-onboarding-key":e.dataOnboardingKey},l.createElement("div",{className:D()({[S.cx.flex.gap8.flexRow.pl6.pt6.pb6.pr8.overflowHidden.$]:!0})},l.createElement("div",{className:S.cx.flex.w24.h24.flexRow.itemsCenter.alignCenter.justifyCenter.flexShrink0.$},t[e.listOptionType]),l.createElement("div",{className:D()({[S.cx.flex.h24.flexRow.overflowHidden.flexGrow1.itemsCenter.$]:!0,[S.cx.colorTextMenu.$]:!e.disabled,[S.cx.colorTextMenuDisabled.$]:!!e.disabled})},e.text),e.listOptionType===wC.R.SLIDES&&(0,p.kc)().omnicreate_slides_beta_tag&&l.createElement(el.Ex,{className:wO,text:(0,k.t)("file_browser.creation_buttons.beta"),color:el.zE.LIGHT_TRANSLUCENT}),(e.listOptionType===wC.R.SITES||e.listOptionType===wC.R.COOPER)&&(0,p.kc)().sites_alpha&&l.createElement(el.Ex,{className:wO,text:(0,k.t)("file_browser.creation_buttons.alpha"),color:el.zE.LIGHT_TRANSLUCENT})))}function wU(){let e=(0,tL.vt)();return(0,eP.Yz)()(e)}function wV({createOptionsList:e,dropdownType:t,isHidden:a}){let r=(0,s.wA)(),n=(0,s.d4)((0,wS.E)(t)),i=wU(),o=()=>{n||r(z.j7({type:t}))},c=l.useRef(null),[d,m]=l.useState(void 0),u=l.useCallback(e=>{c.current=e,m(e?.getBoundingClientRect())},[m]);return l.useEffect(()=>{let e=()=>m(c.current?.getBoundingClientRect());return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[m]),l.createElement(l.Fragment,null,l.createElement("div",{tabIndex:0,role:"menu","data-tooltip":i?(0,k.t)("locked_team.label.tooltip"):(0,k.t)("file_browser.tool_bar.create_new"),"data-tooltip-type":eL.Ib.TEXT,onKeyDown:e=>{"Enter"===e.key&&o()}},l.createElement(oN,{variant:i?"secondary":"primary",onMouseDown:o,text:(0,k.t)("file_browser.tool_bar.create_new"),hasDropdown:!0,dataTestId:"omnicreate-creation-button",ref:u,disabled:i})),d&&n&&!a&&l.createElement(eG.fu,{name:"Resource Creation Dropdown",properties:{fileCreationDefaultsDropdownType:t}},l.createElement(aF.j,{dataTestId:"resource-creation-dropdown",lean:"center",showPoint:!1,rootAndSubmenuMaxWidth:180,minWidth:180,autoHeight:!0,hidePointWhenContentOffScreen:!0,recordingKey:"resource-creation-dropdown",onSelectItem:(e,t)=>{e.callback&&e.callback(void 0,void 0,void 0,t)},items:e,parentRect:d,dispatch:r})))}function wH({dropdownType:e,disabled:t,from:a,folderId:r,isHidden:n}){let{canCreateDesignFile:i,canCreateFigjamFile:o,canCreateSlidesFile:s,canShowCreateSitesFile:c}=(0,b_.n)(r),d=wx({from:a,disabled:t||!i}),m=wN({from:a,disabled:t||!o});(0,bp.XT)({from:a});let u=[wM(d),wM(m)];(0,wk.lt)({from:a,disabled:t});let _=wA({from:a,disabled:t||!s});(0,p.kc)().piper&&u.push(wM(_));let f=(0,v9.o)({disabled:t});return u.push({displayText:"",disabled:!0,separator:!0},wM(f)),l.createElement(wV,{dropdownType:e,createOptionsList:u,isHidden:n})}function wW(e){let t=(0,e_.md)(bu),a=wU(),r=(0,e_.md)(b3),n=!E.Ay.mobile&&!a&&!r,i=t||r,[o,s]=l.useState(!1);l.useEffect(()=>{i&&s(!0)});let[c,d]=l.useState(!i),m=!i&&c;return n&&!o?e.leftContent??null:l.createElement(l.Fragment,null,m&&l.createElement("div",{className:wP},e.leftContent),l.createElement("div",{className:D()("resource_creation_action--fadeContainer--A86Kj",n?i?wP:"resource_creation_action--fadeOut--KJEi2":"",m&&"resource_creation_action--hidden--HrBSv"),onAnimationStart:()=>{d(!1)},onAnimationEnd:()=>{i||d(!0)}},e.leftContent,l.createElement(wH,{dropdownType:e.dropdownType,disabled:e.disabled,from:e.from,folderId:e.folderId,isHidden:!i})))}var wj=a(558011);function w$(e){let t=(0,s.wA)(),a=l.useRef(null),r=(0,s.d4)(({dropdownShown:e})=>e),n=(0,s.d4)(t=>(0,X.oq)(e.folder.id,t))??null,i=(0,s.d4)(e=>e.favorites.collapsedCustomSections),o=(0,ak.S)(),c=(0,tk.Q)({currentOrgId:n,currentTeamId:null}),d=l.useMemo(()=>{if("loaded"===c.status)return(0,eQ.T0)(c.data,e.folder.id)},[c,e.folder.id]),m=void 0!==d;if("loaded"!==c.status)return l.createElement("div",{className:S.cx.flex.itemsCenter.colorIcon.$},l.createElement(H.B,{svg:g$.A}));let u=(0,eQ.gV)(c.data,n),_=e.dropdownKey&&r&&r.type===e.dropdownKey&&r.data&&r.data.targetRect,p=a.current&&r?.data?.targetRef===a.current&&r?.type===em.jU,f=a.current,g=[];return e.folder.canCreateDesignFile&&g.push(l.createElement(ok.c$,{key:"import",children:(0,k.tx)("file_browser.folder.import"),onClick:e.onImportClick})),e.folder.canView&&g.push(l.createElement(ok.c$,{key:"share",children:(0,k.tx)("file_browser.folder.share"),onClick:e.onShareClick})),e.setFavorite&&(o?g.push(l.createElement(ok.c$,{key:"add-to-favorites-section",children:l.createElement("div",{className:S.cx.flex.justifyBetween.itemsCenter.w150.$},(0,k.tx)("favorited_resources.add_to_sidebar"),l.createElement(H.B,{svg:wj.A})),onClick:r=>{r.stopPropagation(),a.current&&t(z.j7({type:em.jU,data:{targetRect:f.getBoundingClientRect(),targetRef:f,resourceId:e.folder.id}}))}})):g.push(l.createElement(ok.c$,{key:"shaadd-to-favorites-section",children:e.folder.is_subscribed?(0,k.tx)("sidebar.remove_from_favorites"):(0,k.tx)("sidebar.add_to_favorites"),onClick:a=>{a.stopPropagation(),t(tI.ZJ({folderId:e.folder.id,folderName:e.folder.path,teamId:e.folder.team_id,isSubscribed:!e.folder.is_subscribed}))}}))),l.createElement("button",{className:S.cx.flex.itemsCenter.colorIcon.$,ref:a,onClick:a=>{e.dropdownKey&&f&&t(z.j7({type:e.dropdownKey,data:{targetRect:f?.getBoundingClientRect()}}))}},l.createElement(H.B,{svg:g$.A}),_&&l.createElement(wT.Cf,{targetRect:r.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},g),p&&l.createElement(rT.t,{updateFavorite:(a,r)=>{(!u||a)&&(e.setFavorite&&e.setFavorite(a,d?.resource.id,r),a&&r&&(i.delete(r),t(t3.U6({collapsedCustomSections:i})),t7.Fp({type:"topLevel",id:"custom",orgId:n,sectionId:r},!0)))},resourceId:e.folder.id,resourceType:e0.bk.FOLDER,isFavorited:m,currentSectionId:d?.resource.sidebarSectionId??void 0,sections:(0,tR.oA)(c.data?.currentUser?.userSidebarSections)??[],customSectionOrdering:c.data.currentUser?.baseOrgUser?.fileBrowserPreferences?.orderedSidebarSections??[],showPoint:!0}))}var wG=a(510037),wY=a(492379),wz=a(750293),wQ=a(720647),wK=a(410436),wq=a(564517),wZ=a(997016),wX=a(731210),wJ=a(114959),w0=a(808576),w1=a(249963),w2=a(234587);function w4({dataTestId:e,key:t,tooltipEditorString:a,listOptionType:r}){return{displayText:(0,k.t)("file_browser.tool_bar.request_sent"),preventDismissOnSelected:!0,render:()=>l.createElement(wB,{disabled:!0,text:(0,k.t)("file_browser.tool_bar.request_sent"),onClick:g.lQ,listOptionType:r,dataTestId:e,key:t,dataTooltip:(0,k.t)("file_browser.tool_bar.request_sent_tooltip",{editorString:a})})}}var w8=a(36816);function w3(e,t,a){return e===a0._YF.WHITEBOARD?t&&t.whiteboardPaidStatus===e0.El.RESTRICTED||a&&a.whiteboardPaidStatus===w8.Zf.RESTRICTED:e===a0._YF.DESIGN&&(t&&t.designPaidStatus===e0.El.RESTRICTED||a&&a.designPaidStatus===w8.Zf.RESTRICTED)}var w5=a(631981);function w9({folder:e,user:t,dispatch:a,team:r,shouldShowRenameModal:n,onClaimClick:i,lgFolder:o,shouldShowLockedRedesign:c}){let[d,m]=l.useState(void 0),_=(0,tQ.cD)(),f=(0,wb.c)(),E=()=>{e.name&&H&&(a(tI.WC()),a(e$.to({type:(0,vL.y)(),data:{folder:e}})))},v=()=>{wq.S.getFolderTransfer({folderId:e.id}).then(({data:e})=>{m(e.meta)},e=>{m(void 0)})};(0,u.h)(()=>{v()}),(0,u.h)(()=>{n&&E()});let y=(0,eP.fn)()===eP.ih.CONTROL,b=(0,eZ.FC)(),w=(0,s.d4)(e=>e.currentUserOrgId),T=(0,s.d4)(e=>e.teamRoleRequests),I=l.useMemo(()=>o&&o.team&&o.team.org?.id,[o]),C=l.useMemo(()=>o&&o.team&&o.team.id,[o]),x=l.useMemo(()=>!!o?.team?.canAdmin,[o]),N=(0,np.Rs)(ng.tjl,{teamId:o?.team?.id??null,orgId:o?.org?.id??null},{enabled:f}),L=()=>{ts.Ay.del(`/api/asset_transfer/${d?.id}`).then(()=>{m(void 0),a(aJ.F.enqueue({message:"Transfer revoked."}))},e=>{a(aJ.F.enqueue({message:"Something went wrong - check your connection and try again",error:!0}))})},A=()=>{a(e$.to({type:rm.W,data:{folderId:e.id}}))},R=l.useMemo(()=>!x&&e&&null!==w&&!o?.canEdit,[x,e,w,o]),F=l.useMemo(()=>!!(o&&o.canCreateFigjamFile&&o.canEdit),[o]),O=l.useMemo(()=>!!(o&&o.canCreateDesignFile&&o.canEdit),[o]),P=l.useMemo(()=>!!o&&o.canCreateSlidesFile&&o.canEdit,[o]),D=!!(0,p.kc)().piper&&P,M=(0,w2.sy)(),B=O&&M,U=F||O,V=l.useMemo(()=>!!(o&&o.canRead),[o]),H=l.useMemo(()=>!!(o&&o.canEdit),[o]),W=l.useMemo(()=>!!(o&&o.isEditingLockedForUser),[o]),j=l.useMemo(()=>{if(R&&T&&r&&T[r.id]&&T[r.id].status===wK.c.PENDING)return T[r.id].id},[R,T,r]);l.useEffect(()=>{R&&w&&a((0,eK.Rw)())},[R,a,w]);let $=(0,a7.jm)(I,C),G=(0,ak.S)(),Y=(0,no.a)(e.id),z=c?(0,k.t)("locked_team.label.tooltip"):void 0,K=c?eL.Ib.TEXT:void 0,q=o?.team?.org?.currentBaseOrgUser,Z=o?.team?.currentTeamUser,J=(0,eP.zq)(),ee=(0,h.I7)("exp_pro_upgrade_project_vr"),et=(0,h.I7)("exp_org_upgrade_project_vr"),ea=!1;_&&Z&&(Z&&Z.whiteboardPaidStatus===w8.Zf.RESTRICTED||Z&&Z.designPaidStatus===w8.Zf.RESTRICTED)&&o&&o.canEdit&&o.team&&!o.team.isStarterTeam&&!o.team.isStudentTeam&&((0,ei.sx)("pro_upgrade_project_exp_fetch",{reduxTeamId:_,lgTeamId:Z.teamId,userId:Z.userId}),ea=ee.getConfig().getValue("showExp",!1));let er=!1;w&&q&&(q&&q.whiteboardPaidStatus===e0.El.RESTRICTED||q&&q.designPaidStatus===e0.El.RESTRICTED)&&o&&o.canEdit&&o.team&&o.team.org?.id&&((0,ei.sx)("org_upgrade_project_exp_fetch",{reduxOrgId:w,lgOrgId:o.team.org?.id,userId:q.userId}),er=et.getConfig().getValue("showExp",!1));let en=(e,t)=>!(t&&t.team&&t.team?.org?.k12GoogleOrg)&&(e===a0._YF.WHITEBOARD?!!q&&q.whiteboardPaidStatus===e0.El.STARTER||!!Z&&Z.whiteboardPaidStatus===w8.Zf.STARTER:e===a0._YF.DESIGN&&(!!q&&q.designPaidStatus===e0.El.STARTER||!!Z&&Z.designPaidStatus===w8.Zf.STARTER))&&!!t&&!!t.canEdit&&!!t.team&&!t.team?.isStarterTeam&&!t.team?.isStudentTeam&&J(),eo=(e,t)=>!(e===e0._Y.WHITEBOARD&&t?.team?.org?.isFigJamDisabled)&&!!w3(e,q,Z)&&!!t&&!!t.canEdit&&!!t.team&&!t.team?.isStarterTeam&&!t.team?.isStudentTeam&&(!!q&&!!er||!!Z&&!!ea),el=e=>{if(w3(e,q,Z)){if(q&&er){if(e===e0._Y.DESIGN&&q.designAccountTypeRequest?.status==="pending"||e===e0._Y.WHITEBOARD&&q.whiteboardAccountTypeRequest?.status==="pending")return!0}else if(Z&&ea&&(e===e0._Y.DESIGN&&Z.designAccountTypeRequest?.status==="pending"||e===e0._Y.WHITEBOARD&&Z.whiteboardAccountTypeRequest?.status==="pending"))return!0}return!1},es=(e,t)=>{let n=I?o?.team?.org:o?.team,i=n?.name,l=q||Z;if(f){let r=l?.activeSeatTypeUpgrade?.billableProduct?.licenseTypes??[],n=t.toString();if(!r.includes(n)){let t=q&&I?{id:q.id,user_id:q.userId,org_id:I,permission:q.permission,license_group_member:{license_group_id:o.team?.licenseGroupId??null}}:void 0;return(0,ww.NU)({afterUpgradeCallback:e,licenseType:n,dispatch:a,planView:N.data,planUser:t,entryPoint:wz.tc.CREATE_FILE_PROJECT_VIEW})}return e}if(en(t,o))return()=>{a(e$.to({type:w0.y,data:{planType:I?hr.O.ORG:hr.O.TEAM,planName:i,seatTypesToBeUpgraded:{design:t===e0._Y.DESIGN,whiteboard:t===e0._Y.WHITEBOARD},planId:I??C,upgradeReason:w1.X.CREATE_FILE,onConfirm:e}}))};if(eo(t,o)){if(q&&o?.team)return()=>{a(e$.to({type:wX.Y,data:{orgId:I??"",orgUser:{id:q.id,user_id:q.userId,org_id:I??"",permission:q.permission,license_group_member:{license_group_id:o.team?.licenseGroupId??null}},entryPoint:wz.PE.CreateFileProjectView,licenseType:(0,wQ.vc)(t)}}))};if(Z)return()=>{a(e$.to({type:wJ.PK,data:{team:r,entryPoint:wz.Wc.CREATE_FILE_PROJECT_VIEW,editorType:t}}))}}return e},ec=bE(e0._Y.DESIGN,ha.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_design_created",e.id,!!(!r&&o&&o.canEdit)),ed=bE(e0._Y.WHITEBOARD,ha.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_figjam_created",e.id,!!(!r&&o&&o.canEdit)),em=bE(e0._Y.SLIDES,ha.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_slides_created",e.id,!!(!r&&o&&o.canEdit)),eu=bE(e0._Y.SITES,ha.f6.FILE_BROWSER_TOPBAR_FOLDER,"toolbar_sites_created",e.id,!!(!r&&o&&o.canEdit));bE(e0._Y.COOPER,ha.f6.FILE_BROWSER_TOPBAR_FOLDER,`toolbar_${gP.sq}_created`,e.id,!!(!r&&o&&o.canEdit));let e_=(t,r,n)=>{if(e){let i={folder:e,entrypoint:"folder_page_view",sectionId:n,favoriteId:r};t?a(t3.Mv(i)):a(t3.jv(i))}},ep=()=>{a(Q.gN(e.id)),a((0,bh.L)())},ef=!!(0,X.c8)(e.id,e.team_id,b).data,eg=wx({from:ha.f6.FILE_BROWSER_TOPBAR_FOLDER}),eE=wN({from:ha.f6.FILE_BROWSER_TOPBAR_FOLDER}),eh=(0,v9.o)({}),ev=wA({from:ha.f6.FILE_BROWSER_TOPBAR_FOLDER}),ey=(0,wk.lt)({from:ha.f6.FILE_BROWSER_TOPBAR_FOLDER});return(0,bp.XT)({from:ha.f6.FILE_BROWSER_TOPBAR_FOLDER}),l.createElement(og.z,{title:e.name,rightSideActions:(()=>{let n=[],s=(0,p.kc)().ps_benchmark&&(0,e1.R$)(t,w);ef&&n.push({kind:oS.A.BUTTON,key:oS.D.CLAIM,displayText:(0,k.t)("file_browser.folder.join_as_owner"),onClick:i});let d=[],m=wM(eE,es(ed,e0._Y.WHITEBOARD)),u=wM(eg,es(ec,e0._Y.DESIGN)),_=null!==ev?wM(ev,em):null,E=null!==ey?wM(ey,eu):null,h=el(e0._Y.DESIGN),v=el(e0._Y.WHITEBOARD),b=eo(e0._Y.DESIGN,o)&&eo(e0._Y.WHITEBOARD,o)&&h&&v;if(!W&&!s){let e=w4({dataTestId:"request-sent-design-button",key:oS.D.REQUEST_SENT_DESIGN,tooltipEditorString:(0,k.t)("file_browser.tool_bar.request_sent_tooltip_figma_design"),listOptionType:wC.R.DESIGN}),t=w4({dataTestId:"request-sent-whiteboard-button",key:oS.D.REQUEST_SENT_WHITEBOARD,tooltipEditorString:(0,k.t)("file_browser.tool_bar.request_sent_tooltip_figjam"),listOptionType:wC.R.WHITEBOARD}),a=w4({dataTestId:"disabled-import-button",key:oS.D.IMPORT,tooltipEditorString:(0,k.t)("file_browser.tool_bar.request_sent_tooltip_figma_design_and_figjam"),listOptionType:wC.R.IMPORT});b?(d.push(e,t),B&&null!==E&&d.push(E),D&&null!==_&&d.push(_),d.push(a)):(O?d.push(u):f?d.push(u):eo(e0._Y.DESIGN,o)&&(h?d.push(e):d.push(u)),F?d.push(m):f?d.push(m):eo(e0._Y.WHITEBOARD,o)&&(v?d.push(t):d.push(m)),B&&null!==E&&d.push(E),D&&null!==_&&d.push(_))}if(U&&!s&&(d.push({displayText:"",disabled:!0,separator:!0}),d.push(wM(eh))),d.length>0&&n.push({kind:oS.A.CUSTOM,key:oS.D.NEW_RESOURCE,element:l.createElement(wV,{createOptionsList:d,dropdownType:wC.x})}),V){let e={kind:oS.A.BUTTON,key:oS.D.SHARE,displayText:(0,k.t)("file_browser.folder.share"),onClick:c?g.lQ:A,"data-tooltip":z,"data-tooltip-type":K,styleClass:c?w5.EB:void 0};n.push(e)}R&&n.push({kind:oS.A.BUTTON,key:oS.D.REQUEST_TO_EDIT,displayText:void 0!==j?(0,k.t)("file_browser.team.cancel_request"):(0,k.t)("file_browser.team.request_to_edit"),onClick:()=>{j?a(wY.lT({requestId:j})):r&&a(e$.to({type:wZ.$,data:{team:r,requesterCurrentLevel:e5.e6.VIEWER,source:"FolderPageView"}}))}});let T=G?l.createElement(rS.r,{setFavorite:e_,favoriteType:e0.bk.FOLDER,resourceId:e.id,isFavoriteHeaderStar:!0,orgId:w,teamId:C??null}):l.createElement(wG.d,{folder:e});if(y&&(!(0,p.kc)().ps_benchmark||$)&&n.push({kind:oS.A.CUSTOM_BUTTON,key:oS.D.FAVORITE,element:T}),!W&&(O||F||D)){let e=l.createElement(wI,{dropdownKey:"new-file-dropdown",canCreateDesignFile:O,canCreateWhiteBoardFile:F,canCreateSlidesFile:D,onNewDesignFileClick:es(ec,e0._Y.DESIGN),onNewWhiteBoardClick:es(ed,e0._Y.WHITEBOARD),onNewSlidesClick:es(em,e0._Y.SLIDES)});n.push({kind:oS.A.CUSTOM_BUTTON,key:oS.D.NEW_FILE_DROPDOWN,styleClass:S.cx.colorBgInverse.$,showOnMobile:!0,hideOnDesktop:!0,element:e})}let I=l.createElement(w$,{dropdownKey:"project-overflow-dropdown",folder:e,onImportClick:ep,onShareClick:A,setFavorite:$?e_:null});return n.push({kind:oS.A.CUSTOM_BUTTON,key:oS.D.PROJECT_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:I}),n})(),rightSideOfTitleAction:(()=>{let t=Y({folder:{...(0,ha.Kk)({...e,canCreateDesignFile:O,canCreateFigjamFile:F,canCreateSlidesFile:D},H),isSubscribed:e.is_subscribed,description:e.description},onRenameClick:E,onRevokeTransfer:L,shouldShowJoinButton:!1,getPendingInfo:v,pendingTransfer:d});return V&&t.length>0?{kind:oS.A.CUSTOM,key:oS.D.DROPDOWN,element:l.createElement(ov,{buttonAriaLabel:(0,k.t)("file_browser.folder.page_header_dropdown_label"),dropdownKey:`folder-${e.id}`,dropdownOptions:t})}:void 0})()})}let w6="folder_page_view--sidebarDivider--NEgHu";function w7(e){let t=(0,s.wA)(),a=(0,np.Rs)(ng.CH9,{folderId:e.folderId}),r=l.useMemo(()=>"loaded"===a.status?(a.data.project?.pinnedFiles||[]).filter(e=>!!e.file):[],[a]);l.useEffect(()=>{t(tI.MR({folderId:e.folderId,fileKeys:r.map(e=>e.file.key)}))},[r,t,e.folderId]);let n=l.useCallback(()=>{t(a6.an())},[t]);return 0!==r.length?l.createElement(l.Fragment,null,l.createElement("div",{className:"folder_page_view--pinnedHeader--YJufT",onMouseDown:n},l.createElement(L.E,{fontSize:13,color:"secondary"},(0,k.tx)("file_browser.folder.pinned"))),l.createElement(b7,{files:r,tileActions:e.tileActions,repos:e.repos})):null}let Te={open:!0,openNewTab:!0,restoreFromVersion:!0,share:!0,copyLink:!0,rename:!0,duplicate:!0,delete:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToFolder:!0,pinToWorkspace:!0},Tt=(0,hW.xx)(X.ZN);function Ta(e){let{folderId:t}=e,a=(0,np.Rs)(ng.L8O,{projectId:t}),r=(0,eZ.FC)(),n=(0,Z.LK)(t),i=a2.Qw.useTransformShallowEqual(n,e=>{let a=e.folder;return{folder:e.folder,canView:(0,eS.canViewFolder_DEPRECATED)(t,r),canEdit:(0,eS.canEditFolder)(t,r),isEditingLocked:!!a&&(0,eN.ZZ)(a,r),team:r.teams[a?.team_id||""]||null}}).data,o=i?.folder,c=(0,ay.Lm)(),d=(0,s.wA)(),m=(0,np.Rs)(ng.Udv,{id:t});l.useLayoutEffect(()=>{if("loaded"===m.status&&!m.data.project?.hasPermission||a.data?.project?.trashedAt){if(a.data?.project?.team){let e=a.data.project.team.id;d(z.$T({view:"team",teamId:e}))}else d(z.$T({view:"recentFiles"}))}a.data?.project?.isAbandonedDrafts&&c?.permission===e0.Xn.ADMIN&&(a.data?.project?.team&&(0,p.kc)().team_abandoned_drafts_page&&!(a.data?.project?.team.isStarterTeam||a.data?.project?.team.isStudentTeam)?d(z.$T({view:"abandonedDraftFiles",abandonedDraftFolderId:t,planId:a.data?.project?.team.id,adminPlanType:hr.O.TEAM})):a.data?.project?.org&&(0,p.kc)().org_admin_settings_abandoned_drafts&&d(z.$T({view:"abandonedDraftFiles",abandonedDraftFolderId:t,planId:a.data?.project?.org?.id,adminPlanType:hr.O.ORG})))},[d,m,a,t,c]);let u=(0,eP.Yz)();l.useEffect(()=>{o&&!o.is_invite_only&&o.team_id&&!i.team&&d(ws.Jt({teamId:o.team_id}))},[d,t,o,i?.team]),l.useEffect(()=>{if(!(0,p.kc)().auto_accept_project_invites)return;let e={999:"owner",900:"admin",300:"edit",100:"view"},t=(0,wc.QL)("auto_role");t&&o&&t in e&&((i.canView||"100"!==t)&&(i.canEdit||"300"!==t&&"900"!==t&&"999"!==t)&&d(aJ.F.enqueue({message:(0,k.t)("file_browser.auto_accept_project_invite_modal",{projectName:o.name,inviteType:e[t]})})),(0,wc.EM)("auto_role"))},[d,o,i]);let _=a.data?.project||null,f=(0,s.d4)(e=>Tt(t,e.tileSortFilterStateByView)),g=(0,s.d4)(tS.yK),h=(0,s.d4)(e=>!!i?.team&&!!o?.team_id&&yM(e,e0.vt.TEAM,i.team,o.team_id,{isEligibleForLockedRedesign:u})),v=(0,s.d4)(e=>!!e.userFlags.hide_recommended_templates_in_projects),y=(0,s.d4)(e=>e.selectedBranchKeyByRepoId),b=(0,tL.vt)(),w=(0,eq.dq)(),T=(0,eJ.iZ)(),I=()=>{d(t5.b({hide_recommended_templates_in_projects:!v}))},C=!!_?.canCreateFigjamFile,x=!!_?.canCreateDesignFile,N=!!_?.canCreateSlidesFile,L=!!_?.canEdit,A=!!_?.canRead,R=()=>!h&&!v,F=function(){let e=(0,s.Pj)();return l.useCallback(async t=>{try{await ts.Ay.post(`/api/folders/${t}/claim`),e.dispatch(tI.qp({folderId:t})),(0,X.qF)(t)||e.dispatch((0,Z.jl)({folderId:t,loadedFolders:{}}))}catch(t){e.dispatch(W.s.error(t.message||(0,k.t)("file_browser.file_browser_actions.claim_team_error")))}},[e])}(),O=()=>F(t),P=(0,X.c8)(t,o?.team_id||null,r),D=(0,eP.PP)();if(!o||"loaded"!==n.status||"loaded"!==a.status)return l.createElement("div",{className:"folder_page_view--loading--ZkDG0"},l.createElement(tP.kt,null));let M=e=>{d(tI.ub({folderId:t,description:e.trim()}))},B={view:"project",folderId:t,canEdit:i.canEdit,userSpace:w?e9.qo.ORG:e9.qo.PERSONAL},U=i.team,V=U&&!(0,eN.w5)(U);return(0,eG.T8)(l.createElement(ou.r,{content:l.createElement("div",{className:S.cx.flex.flexColumn.$},(()=>{let t=!!(x||C||N)&&!i.isEditingLocked,a=t?"":(0,k.t)("file_browser.folder.no_files_yet");if("loaded"!==P.status)return null;let{files:r,repos:s,filesByRepoId:c}=n.data,d=[...r.map(e=>({type:rt.nb.FILE,file:e})),...s.filter(e=>!e.trashed_at).map(e=>({type:rt.nb.REPO,repo:e,branches:c[e.id],selectedBranchKey:y[e.id]||""}))],m=l.createElement(l.Fragment,null,l.createElement(b5,{team:i.team||void 0,newFileFrom:ha.f6.FILE_BROWSER_TOPBAR_FOLDER,disableRecommendedTemplates:g||u(b),folderId:o.id,recommendedTemplatesIsOpen:R(),toggleRecommendedTemplates:I,isInProjectsView:!0}),l.createElement(w7,{folderId:e.folderId,repos:s,tileActions:Te}),l.createElement(vC,{newFileTile:t,tiles:d,tileActions:Te,sortFilterOptions:f,emptyStateText:a,isFolder:!0,eligibleForLockedStateRedesign:u(b)})),_=l.createElement(vx,{emptyStateText:(0,k.t)("file_browser.folder.join_this_project_to_view_files"),onClaimClick:O});return P.data?_:m})(),l.createElement(hD.cx,null)),metaContent:E.Ay.mobile||!V||D()?void 0:(()=>{let e=L&&!i.isEditingLocked,a=i.team,r=a&&!(0,eN.w5)(a);return l.createElement("div",{className:"folder_page_view--metaColumn--FPnOz"},(e||o.description)&&l.createElement(l.Fragment,null,l.createElement("div",{className:w6}),l.createElement("div",{className:"folder_page_view--folderDescription--wO8Rd text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement("h3",{className:S.cx.font13.fontMedium.$},(0,k.tx)("file_browser.about")),l.createElement(fp,{value:o.description||"",placeholder:(0,k.t)("file_browser.folder.add_a_description"),formatter:f_,submit:M,readOnly:!e}))),o.team_id&&l.createElement(l.Fragment,null,l.createElement("div",{className:w6})),A&&!E.Ay.mobile?l.createElement(wy,{key:t,folderId:t}):null,a&&r&&l.createElement(wn,{folderId:t}),o.team_id&&l.createElement(wl,{teamId:o.team_id}))})(),banner:U&&h?l.createElement(wE,{teamId:U.id}):void 0,header:l.createElement(l.Fragment,null,l.createElement(w9,{dispatch:d,user:T,folder:{...i,...o,canCreateDesignFile:x,canCreateWhiteboardFile:C},team:U,currentOrgId:w,onClaimClick:O,shouldShowRenameModal:e.shouldShowRenameModal||!1,lgFolder:_,shouldShowLockedRedesign:u(b)}),x&&U&&l.createElement(wg,{teamId:U.id,canCreateFigjamBoard:C}))}),e9.e0.FILE_BROWSER,B)}function Tr(){let e;let t=(0,s.d4)(e=>e.currentTeamId),a=(0,ee._6)(),r=(0,np.Rs)(ng.RRC,{teamId:t??""},{enabled:!!t});if(!(0,p.kc)().limited_plan_spaces)return null;if("loaded"!==r.status)e=l.createElement(tP.qc,null);else{let n=("loaded"===r.data.currentUser.status&&r.data.currentUser.data.teamProjectRoles||[]).filter(e=>!!e.project).map(e=>{let t=e.project;return{id:t.id,name:t.name,description:t.description,path:t.path,team_id:t.teamId,is_invite_only:!!t.inviteOnlyAt,is_view_only:!!t.viewOnlyAt,deleted_at:t.deletedAt?t.deletedAt.toISOString():null,updated_at:t.updatedAt.toISOString(),created_at:t.createdAt.toISOString(),touched_at:t.lastModifiedAt,shared_at:e.sharedWithYouFolder?.sharedAt.toISOString(),shared_by_user:e.sharedWithYouFolder?.sharedByUser}});e=l.createElement(l.Fragment,null,l.createElement(vJ,{viewId:`limitedTeam-${t}`,folderList:n,selectedView:a,showTeamNameOrAuthor:!1,isSharerInfoIncluded:!0}))}return(0,eG.T8)(l.createElement(ou.r,{content:l.createElement(l.Fragment,null,e),viewbar:l.createElement("div",{className:"limited_space_team_projects_page_view--viewbar--YMqKQ"},l.createElement("div",{className:"limited_space_team_projects_page_view--viewbarHeading--mTm27"},(0,k.tx)("file_browser.limited_space_team_projects.heading")))}),e9.e0.FILE_BROWSER,{view:"limitedSpaceTeamProjects"})}var Tn=a(239831);function Ti({orgId:e}){let t=(0,eZ.FC)(),a=(0,s.wA)();return(0,eS.canMemberOrg)(e,t)?l.createElement(Tn.K,{action:{kind:Tn.A.BUTTON,key:oS.D.VIEW_LIBRARIES,displayText:(0,k.t)("org_view.view_libraries"),onClick:()=>{a(z.$T({view:"org",orgId:e,orgViewTab:tK.X.LIBRARIES}))}}}):null}function To({orgId:e}){let t=(0,s.wA)(),a=(0,s.d4)(tS.QT),r=(0,s.d4)(t=>t.orgById[e]),{canCreateTeam:n}=(0,aa.l6)(r,void 0);return a||!n?null:l.createElement(Tn.K,{action:{kind:Tn.A.CUSTOM,key:oS.D.NEW_TEAM,element:l.createElement(oN,{onClick:()=>{t(e$.to({type:tq.Uc,data:{}}))},variant:"inverse",text:(0,k.t)("license_group_view.toolbar.new_team_button")})}})}function Tl({orgId:e}){return e?l.createElement(l.Fragment,null,l.createElement(To,{orgId:e,key:"org-new-team-action"}),l.createElement(Ti,{orgId:e,key:"org-library"})):null}var Ts=a(193360);function Tc(){let e=(0,s.wA)(),t=(0,eq.dq)(),a=yP((0,nX.R)(e=>({...(0,eS.getPermissionsState)(e),selectedView:e.selectedView,userFlags:e.userFlags,userTeamFlags:e.userTeamFlags,isFreeUser:e.isFreeUser,userAnalyticsData:e.userAnalyticsData})),e);if(!a)return l.createElement("div",null);let r=yU({resourceType:"org",orgId:t},a),n=a.severity===yg.c.WARN?yE:"",i=`${yN} ${n}`;return l.createElement("div",{className:i},l.createElement(yj,{...a,tracking:r}))}var Td=a(463206);let Tm="org_meta_content--container--b5Iq3";function Tu({org:e}){return l.createElement("div",{className:S.cx.flex.flexColumn.rowGap16.$},l.createElement(a_.Ro,{entity:e,size:36}),l.createElement(L.E,{fontWeight:"medium",fontSize:13},e.name))}function T_({handle:e}){let t=(0,s.wA)();return l.createElement("a",{href:new uM.xn({profileHandle:e}).href,className:Td.Be,onClick:a=>{a.metaKey||(a.preventDefault(),t(z.$T({view:"communityHub",subView:"handle",handle:e})))}},l.createElement(L.E,{fontSize:11},"@",e))}function Tp({orgId:e}){let t=(0,s.d4)(t=>(0,tH.Xy)(t.orgUsersByOrgId[e]).map(e=>e.user)),a=(0,s.wA)();return l.createElement(oj,{label:(0,k.t)("org_home_view_meta.admins"),members:t,onMemberClick:(e,t)=>{a(z.$T({view:"user",userId:t.id,userViewTab:o$.o.INTERNAL_PROFILE}))},canLeave:!1})}function Tf({org:e,orgStats:t}){let a=t?l.createElement(L.E,{fontSize:11,color:"secondary"},(0,k.tx)("org_home_view_meta.member_count",{memberCount:t.memberCount.data}),l.createElement("span",null,"\xa0\xb7\xa0"),"workspaceCount"in t?(0,k.tx)("org_home_view_meta.workspace_count",{workspaceCount:t.workspaceCount.data}):(0,k.tx)("org_home_view_meta.team_count",{teamCount:t.discoverableTeamCount.data})):l.createElement(pc.Wi,{className:S.cx.mb4.$,animationType:pc.JR.SHIMMER});return l.createElement("div",{className:Tm},l.createElement(Tu,{org:e}),l.createElement("span",{className:S.cx.mt4.$},a),e.community_profile_handle?l.createElement("span",{className:S.cx.mt2.$},l.createElement(T_,{handle:e.community_profile_handle})):null,l.createElement("span",{className:S.cx.mt32.$},l.createElement(Tp,{orgId:e.id})))}function Tg({org:e}){let t=(0,np.Rs)(ng.nYs,{orgId:e.id});return l.createElement(Tf,{orgStats:t.data?.org??null,org:e})}function TE({org:e}){let t=(0,np.Rs)(ng.kei,{orgId:e.id});return l.createElement(Tf,{orgStats:t.data?.org??null,org:e})}function Th({org:e}){return l.createElement("div",{className:Tm},l.createElement(Tu,{org:e}),e.community_profile_handle?l.createElement("span",{className:S.cx.mt4.$},l.createElement(T_,{handle:e.community_profile_handle})):null,l.createElement("span",{className:S.cx.mt4.$},l.createElement(L.E,{fontSize:11,color:"secondary"},(0,k.tx)("payments_modal.guest_permission_disclaimer")," ",l.createElement("a",{className:Td.Be,href:"https://help.figma.com/hc/articles/360039957374",target:"_blank",rel:"noopener"},(0,k.tx)("org_home_view_meta.learn_more")))))}var Tv=a(963067),Ty=a(66944);let Tb="org_plugins_view--resourcesGrid--vuLoW profile_resources_grid--_resourcesGridTemplateColumns--19JO6",Tw="org_plugins_view--container--LquUh",TT="org_plugins_view--emptyState--lppIb tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd";function TI(){let e=(0,Tv.Yo)(),t=(0,s.wA)(),a=(0,s.d4)(e=>e.publishedPlugins);l.useEffect(()=>{t(ds.Xt())},[t]);let r=function(){if(!e)return[];let t=(0,co.Qt)((0,co.i8)(Object.values(a)),e.id);return Object.keys(t).map(e=>t[e])}();return e&&0!==r.length?l.createElement("div",{className:Tw},l.createElement("div",{className:Tb},r.map((e,t)=>l.createElement(db.AB,{isPublic:!1,pluginId:e.id,showInstallCount:!0,key:`plugin-${e.id}`,viewContext:"OrgPluginsView",innerText:(0,k.t)("org_view.plugin_tile"),trackingProperties:{pluginId:e.id,position:t},dropdown:l.createElement(Ty.d,{resource:e})})),l.createElement(db.hT,{numResources:r.length}))):l.createElement("div",{className:TT},(0,k.tx)("org_view.private_plugins_will_appear_here"))}let TC=e=>{switch(e){case tK.X.HOME:return(0,k.t)("org_view.overview");case tK.X.YOUR_TEAMS:return(0,k.t)("org_view.your_teams");case tK.X.PLUGINS:return(0,k.t)("org_view.plugins");case tK.X.WIDGETS:return(0,k.t)("org_view.widgets");default:return null}};function Tx(e){let t=(0,s.wA)(),a=(0,eq.sZ)(),r=e=>{t(z.$T({view:"org",orgId:a?.id??"",orgViewTab:e}))},n=Object.keys(tK.X).reduce((t,a)=>{let n=TC(tK.X[a]);return null!=n&&t.push(l.createElement(hG.r,{tab:tK.X[a],onClick:r,isSelected:e.selectedTab===tK.X[a],tabName:n,key:a})),t},[]),i=l.createElement(hG.f,{tabs:n});return l.createElement(ir.g2,{leftSide:i,rightSide:[]})}var TN=a(39954);let TS=(0,s.Ng)(e=>({orgEntity:(0,iv.Jl)(e),publishedWidgets:e.publishedWidgets}))(function(e){let t=(0,s.wA)();l.useEffect(()=>{t(ds.gI())},[t]);let a=l.useMemo(()=>{if(!e.orgEntity)return[];let t=(0,co.Qt)((0,co.i8)(Object.values(e.publishedWidgets)),e.orgEntity.id);return Object.keys(t).map(e=>t[e])},[e.orgEntity,e.publishedWidgets]);return e.orgEntity&&0!==a.length?l.createElement("div",{className:Tw},l.createElement("div",{className:Tb},a.map((e,t)=>l.createElement(TN.F9,{key:`widget-${e.id}`,widget:e,viewContext:"OrgWidgetsView",trackingProperties:{widget:e.id,position:t}})),l.createElement(db.hT,{numResources:a.length}))):l.createElement("div",{className:TT},(0,k.tx)("org_view.private_widgets_will_appear_here"))});var Tk=a(193212);function TL(e){let t,a,r;let{workspace:n,teamCount:i,isSelected:o,onSelect:c}=e,d=(0,s.d4)(e=>e.currentUserOrgId),[m,u]=l.useState(!1),_=(0,Tk.aq)(),p=n.colorConfig?.colors??[],f=e.isMainWorkspace?p[0]:void 0,g=n.description??void 0;f&&(f=function(e,t,a){try{let r=(0,iO.H0)(t),n=(0,iO.kx)(r),i=(0,iP.oN)(t,!n,n);return a&&i!==t&&(0,ei.sx)("workspace_background_color_adjusted_for_accessibility",{workspace_id:e,original_background_color:t,adjusted_background_color:i}),i}catch(e){console.error(e)}return t}(n.id,f,_()));let h=(0,s.wA)(),v=()=>{h(Q.kg({clickedResourceType:"workspace",resourceIdOrKey:n.id})),h(z.$T({view:"workspace",subView:ad.V0.DIRECTORY,workspaceId:n.id,selectedTab:ad.dN.TEAMS}))},y=l.useCallback((e,t,a)=>{if(n){let r={workspace:{id:n.id,name:n.name??"",imgUrl:n.imgUrl},entrypoint:"workspace_tile",sectionId:a,favoriteId:t};e?h(t3.ZW(r)):h(t3.if(r))}},[h,n]);f&&((0,iO.kx)(f)?(t="org_page_view--workspaceTileTitleColorForDarkBackground--m6sFp",a="org_page_view--secondaryTextColorOnDarkBackground--7Ru-V",r="org_page_view--favoriteStarContainerForDarkBackground--mVRVn workspace_page_header--favoriteStarContainerForDarkBackground--MXtIt"):(t="org_page_view--workspaceTileTitleColorForLightBackground---zSTU",a="org_page_view--secondaryTextColorOnLightBackground--68byE",r="org_page_view--favoriteStarContainerForLightBackground--W9qx7 workspace_page_header--favoriteStarContainerForLightBackground--AKL23"));let b=l.createElement(a_.z6,{entity:n,size:40}),w=(0,tR.oA)(n.memberCount),T=l.createElement("div",{className:D()(S.cx.flex.flexRow.itemsCenter.$,a)},l.createElement("span",null,(0,k.tx)("org_view.license_group.member_count",{memberCount:w?.data??"0"}),l.createElement("span",null,"\xa0\xb7\xa0"),(0,k.tx)("org_view.license_group.team_count",{teamCount:i}))),I=l.createElement(rS.r,{setFavorite:y,favoriteType:e0.bk.WORKSPACE,resourceId:n.id,size:rS.m.MEDIUM,containerStyle:D()("org_page_view--favoriteStarContainer--GKbng button_styles--button--vl9vc",r),noHoverState:!0,orgId:d,parentBackgroundColor:f}),C=n.orgAccess===e0.bU.SECRET?l.createElement("div",{className:S.cx.ml4.$,"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":(0,k.t)("workspace_table.secret_workspace_lock_tooltip"),"data-tooltip-subtext":(0,k.t)("workspace_table.secret_workspace_lock_tooltip_subtext"),"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},l.createElement(eO.In,{icon:"lock-16"})):null;return l.createElement(i9.a,{backgroundColor:f,description:g,descriptionClassName:a,name:l.createElement("span",{className:t},n.name),titleSubtitleRight:C,headerLeft:b,footerLeft:T,headerRight:I,onClick:e=>{2===e.detail||E.Ay.mobile||E.Ay.tablet?v():1===e.detail&&c()},canView:!0,onMouseOver:()=>{u(!0)},onMouseOut:()=>{u(!1)},isCardActive:m||o,isSelected:o})}function TA(e){let{unassignedTeams:t,isSelected:a,onSelect:r}=e,[n,i]=l.useState(!1),o=(0,s.wA)(),c=()=>{o(Q.kg({clickedResourceType:"workspace"})),o(z.$T({view:"workspace",subView:ad.V0.DIRECTORY,workspaceId:null,selectedTab:ad.dN.TEAMS}))},d=(0,k.tx)("org_view.license_group.unassigned_tile.name"),m=l.createElement(a_.md,{teams:t,size:40,isHovered:n}),u=l.createElement("span",null,"\xa0"),_=(0,k.tx)("org_view.license_group.unassigned_tile.description",{teamCount:t.length});return l.createElement(i9.a,{name:d,headerLeft:m,headerRight:u,footerLeft:_,onClick:e=>{2===e.detail||E.Ay.mobile||E.Ay.tablet?c():1===e.detail&&r()},canView:!0,onMouseOver:()=>{i(!0)},onMouseOut:()=>{i(!1)},isCardActive:n||a,isSelected:a})}function TR(){let[e,t]=l.useState(null),a=(0,s.wA)(),r=(0,eZ.FC)(),n=(0,s.d4)(e=>e.currentUserOrgId),i=(0,eq.sZ)(),o=(0,aa.Au)(n),{canCreateTeam:c}=(0,aa.l6)(i,void 0),d=(0,np.Rs)(ng.bUn,{orgId:n}),m="loaded"!==d.status,u=d.data?.org?.workspaces??[],_=m?[]:[...u],p=(0,e_.md)(i8.w),f="loaded"!==p.status,{workspaceTeamCounts:g,unassignedTeams:E}=l.useMemo(()=>{let e=(p.data||[]).filter(e=>(0,oi.dP)(e,r,n));return{workspaceTeamCounts:(0,ao.ZM)(e),unassignedTeams:e.filter(e=>null===e.workspace_id||void 0===e.workspace_id)}},[r,n,p]);(0,B.sortAlphabeticallyByProperty)(_,"name");let h=_.find(e=>e.id===o.data),v=_.map(a=>{if(a.id!==h?.id)return l.createElement(TL,{key:a.id,workspace:a,teamCount:g[a.id]??0,isSelected:e?.type==="workspace"&&e.workspaceId===a.id,onSelect:()=>{t({type:"workspace",workspaceId:a.id})}})});if(E.length>0&&v.push(l.createElement(TA,{key:"unassigned",unassignedTeams:E,isSelected:e?.type==="unassigned-teams",onSelect:()=>{t({type:"unassigned-teams"})}})),m||f)return l.createElement(i3.X,{isLoading:!0});let y=h&&l.createElement(l.Fragment,null,l.createElement("div",{className:S.cx.pl32.$},l.createElement(L.E,{color:"secondary",fontSize:11},(0,k.tx)("org_view.your_workspace"))),l.createElement(i3.X,{emptyView:l.createElement(l.Fragment,null),tileSize:i3.o.Medium},l.createElement(TL,{key:h.id,workspace:h,teamCount:g[h.id]??0,isMainWorkspace:!0,isSelected:e?.type==="workspace"&&e.workspaceId===h.id,onSelect:()=>{t({type:"workspace",workspaceId:h.id})}})));return l.createElement(l.Fragment,null,y,h&&l.createElement("div",{className:S.cx.pl32.$},l.createElement(L.E,{color:"secondary",fontSize:11},(0,k.tx)("org_view.other_workspaces"))),l.createElement(i3.X,{emptyView:l.createElement(ot.C,{onCreateTeam:c?()=>{a(e$.to({type:tq.Uc,data:{}}))}:void 0}),tileSize:i3.o.Medium},v))}let TF=(e,t)=>({canMemberOrg:(0,eS.canMemberOrg)(e.currentUserOrgId,(0,eS.getPermissionsState)(e)),org:e.orgById[t],isEnterpriseOrgDirectoryEnabled:(0,tS.QT)(e),currentOrgUser:e.user&&e.currentUserOrgId?e.orgUsersByOrgId[e.currentUserOrgId][e.user.id]:null});function TO(e){let{canMemberOrg:t,org:a,isEnterpriseOrgDirectoryEnabled:r,currentOrgUser:n}=(0,nX.R)(t=>TF(t,e.orgId)),i=(0,s.wA)();l.useEffect(()=>{t&&(i(on.Jt({includeMemberCount:!0,includeTopMembers:!1,includeProjectCount:!0})),i(Ts.Pg({orgId:e.orgId})))},[t,e.orgId,i]);let o=null;switch(e.selectedTab){case tK.X.WIDGETS:o=l.createElement(TS,null);break;case tK.X.PLUGINS:o=l.createElement(TI,null);break;case tK.X.YOUR_TEAMS:o=l.createElement(od,{onlyJoinedTeams:!0});break;case tK.X.HOME:case tK.X.FONTS:case tK.X.LIBRARIES:o=r?l.createElement(TR,null):l.createElement(od,null)}let c=n&&n.permission===e0._D.GUEST,d=null;d=c?l.createElement(Th,{org:a}):r?l.createElement(Tg,{org:a}):l.createElement(TE,{org:a});let m=l.createElement(Tx,{selectedTab:e.selectedTab});return l.createElement(ou.r,{banner:l.createElement(Tc,null),viewbar:m,content:o,metaContent:d})}var TP=a(200482);let TD=(0,n0.eU)(!1);function TM(){let e=(0,c.lH)(),t=(0,e_.md)(c.Bb),a=(0,e_.md)(TD),r=(0,pI.Xr)(TD);if(!(0,p.kc)().chrome_os_app_install_button||!E.Ay.chromeos||!E.Ay.chrome||e||!t)return null;let n=async()=>{r(!0);let e=await t.prompt();"dismissed"===e.outcome&&r(!1),(0,ei.sx)("add_to_chromebook_clicked",{installed:"accepted"===e.outcome})};return l.createElement(Tn.K,{action:{kind:Tn.A.CUSTOM,key:oS.D.ADD_TO_CHROMEBOOK,element:l.createElement("button",{onClick:n,className:D()(w5.AS,a&&w5.Xn),tabIndex:0},l.createElement(H.B,{className:w5.He,svg:TP.A}),(0,k.tx)("file_browser.tool_bar.add_to_chromebook"))}})}var TB=a(58716);function TU(){return d.eD||!(0,p.kc)().desktop_get_app_navbar?null:l.createElement(Tn.K,{action:{kind:Tn.A.CUSTOM,key:oS.D.GET_DESKTOP_APP,element:l.createElement("button",{onClick:()=>{m.Ay.redirect(`/download/desktop/${E.Ay.mac?"mac":"win"}`,"_blank")},"data-onboarding-key":"get_desktop_app",className:w5.Fu},l.createElement(H.B,{className:w5.Kk,svg:TB.A}),(0,k.tx)("banner.desktop_download_button"))}})}function TV(){let e=(0,s.wA)(),t=(0,eJ.Pc)();return l.createElement(Tn.K,{action:{kind:Tn.A.BUTTON,key:oS.D.VIEW_COMMUNITY_PROFILE,onClick:()=>{e(z.$T({view:"communityHub",subView:"handle",handle:t.community_profile_handle}))},displayText:(0,k.t)("internal_profile.view_community_profile"),styleClass:S.cx.colorText.$}})}var TH=a(275413);function TW(){let e=(0,s.wA)(),t=!!(0,tz.f)("dismissed_marketing_promo_banner"),a=(0,p.kc)().marketing_promo_banner&&!t,r=()=>{e(t5.b({dismissed_marketing_promo_banner:!0}))};return a?l.createElement(eG.fu,{name:"Release Notes Promo Banner",properties:{severity:yg.c.EVENT}},l.createElement("div",{className:"banner--wrapper--Nx0aH"},l.createElement(H.B,{svg:TH.A,className:"banner--logo--lVDiq",svgClassName:"banner--svg--moSCa"}),l.createElement("div",{className:"banner--copy_and_ctas--f7Oif"},l.createElement("h2",{className:"banner--title--hrxPG"},(0,k.tx)("banner.marketing_promo.title")),l.createElement(tF.e2,{className:"banner--button_group--xtoOR"},l.createElement(tF.vd,{className:"banner--primary_button--PRn3f",onClick:()=>{(0,lI.FJ)("https://events.figma.com/release-notes-sept24/prodbanner","_blank")}},(0,k.tx)("banner.marketing_promo.primary_cta")),l.createElement(tF.tM,{className:"banner--secondary_button--YcI6L",onClick:()=>r()},(0,k.tx)("general.close")))))):null}var Tj=a(791435);let T$=new class{constructor(){this.SharerFilterOptionsSchemaValidator=(0,sb.vh)(),this.PlanFilterOptionsSchemaValidator=(0,sb.vh)()}getSharerFilterOptions(e){return this.SharerFilterOptionsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/shared_with_you/sharer_filter_options?resource_type[]=${e.resource_type}`))}getPlanFilterOptions(e){return this.PlanFilterOptionsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/shared_with_you/plan_filter_options?resource_type[]=${e.resource_type}`))}};function TG(){return{"":{label:(0,k.t)("shared_with_you.filters.all_organizations")}}}let TY=ro.M4.Query({fetch:async e=>{let t=await T$.getPlanFilterOptions({resource_type:e}),a={};return t.data.meta.plan_filters.forEach(e=>{let t={label:e.label,plan_id:e.plan_id,plan_type:e.plan_type};e.plan_id&&(a[e.plan_id]=t)}),{...TG(),...a}}});function Tz(e){let t=e.join("&resource_type[]="),[a]=(0,ro.IT)(TY(t));return a.data||TG()}let TQ={"":"Anyone"};function TK(e){let[t,a]=(0,l.useState)(TQ),r=e.join("&resource_type[]=");return(0,l.useEffect)(()=>{T$.getSharerFilterOptions({resource_type:r}).then(({data:e})=>{a(e.meta.shared_by_filters.reduce((e,{user_id:t,label:a})=>({...e,[t]:a}),{...TQ}))})},[r]),t}var Tq=a(307524),TZ=a(388120);function TX(e){let t=(0,np.Rs)(ng.ox,{resourceTypes:e.resourceTypes,firstPageSize:30,sortOrder:e.sortOrder,cursorColumn:e.sortKey,sharedBy:e.sharedBy||null,planId:e.planId||null,planType:e.planType||null,fileType:e.fileType||null,orgDeletedDrafts:e.orgDeletedDrafts||null}),a=(0,l.useCallback)(()=>{"loaded"===t.status&&t.data.sharedWithYouResources.hasNextPage()&&t.data.sharedWithYouResources.loadNext(30)},[t]),r="loaded"===t.status&&t.data.sharedWithYouResources.isLoadingNextPage;return{subscription:t,fetchNextPage:a,isFetchingNextPage:r}}function TJ(e){let t=(0,ee._6)(),a=(0,s.d4)(e=>e.tileSortFilterStateByView),r="recentsAndSharing"===t.view?a.recentsAndSharing.sharedFiles:a.sharedWithYou,n=TK(["file","file_repo","prototype"]),i=Tz(["file","file_repo","prototype"]),o={tileSortFilterConfig:r,sortKeys:[lf.C0.SHARED_AT]},{subscription:c,fetchNextPage:d,isFetchingNextPage:m}=function(e){let{subscription:t,fetchNextPage:a,isFetchingNextPage:r}=TX({...e,resourceTypes:["file","file_repo","prototype"]}),n=(0,ht.y)();return{subscription:(0,l.useMemo)(()=>t.transform(e=>e.sharedWithYouResources.reduce((e,t)=>{if(t.sharedWithYouFile){let a=function(e,t){if(!e||!e.file)return null;let{file:a,...r}=e,n=(0,ri.V1)({...a,...r,edit_url:`${window.location.origin}/file/${a.key}/${(0,cJ.sy)(a.name||"")}`});return n.preview_thumbnail_urls=(0,tR.oA)(n.preview_thumbnail_urls),(0,ri.V1)({type:rt.nb.FILE,file:n},{filePerms:(0,a1.ru)(a,t)})}(t.sharedWithYouFile,n);a&&e.push(a)}else if(t.sharedWithYouRepo){let a=function(e,t){let{repo:a,...r}=e;if(null===a)return null;let{branches:n,...i}=a,o=n?.filter(e=>null!=e)?.map(e=>ri.V1({...e,edit_url:e?`${window.location.origin}/file/${e.key}/${cJ.sy(e.name||"")}`:"",client_meta:e.checkpointClientMeta}))??[],l=(0,ri.V1)({...i,...r});return(0,ri.V1)({type:rt.nb.REPO,repo:l,branches:o,selectedBranchKey:""},{repoPerms:(0,TZ.zh)(a,t)})}(t.sharedWithYouRepo,n);a&&e.push(a)}else if(t.sharedWithYouPrototype){let a=function(e){let{prototype:t,...a}=e;if(null==t)return null;let r=(0,ri.V1)({...t,...a});return(0,ri.V1)({type:rt.nb.PROTOTYPE,prototype:r},{prototypePerms:(0,Tq.R)(t)})}(t.sharedWithYouPrototype);a&&e.push(a)}return e},[])),[t,n]),fetchNextPage:a,isFetchingNextPage:r}}({sharedBy:r.filters.sharedBy??"",planId:r.filters.plan?.planId??"",planType:r.filters.plan?.planType??"",fileType:(e=>{switch(e){case lf.t2.DESIGN:return"design";case lf.t2.FIGJAM:return"whiteboard";case lf.t2.PROTOTYPE:return"prototype";case lf.t2.SITES:return"sites";case lf.t2.SLIDES:return"slides";case lf.t2.ANY:return null;default:(0,x.assertNever)(e)}})(r.filters.fileType)??"",sortOrder:r.sort.dir===lf.ue.ASC?"asc":"desc",sortKey:(0,lf.De)(r.sort.key)??"shared_at"}),u=(0,l.useMemo)(()=>c.data?c.data.map(e=>((e.type===rt.nb.FILE||e.type===rt.nb.REPO)&&(e.renameCallbacks={onStopRename:t=>{e.type===rt.nb.FILE?e.file.name=t??e.file.name:e.type===rt.nb.REPO&&(e.repo.name=t??e.repo.name)}}),e)):[],[c.data]),{trackPerformanceEvent:_}=(0,Tj.S)("swy_files_pagination_performance","livegraph");(0,l.useEffect)(()=>{_("fetch_end")},[_,u.length]),(0,l.useEffect)(()=>{"errors"===c.status&&_("fetch_error",{errors:JSON.stringify(c.errors??{})})},[_,c.status,c.errors]),(0,l.useEffect)(()=>(_("fetch_start"),()=>{_("fetch_cancel")}),[_]);let p=(0,l.useCallback)(()=>{m||(_("fetch_next"),d())},[m,d,_]);return l.createElement(tO.A,{loadingElementId:"loading-content-pane",delay:250,loaded:"loaded"===c.status,loadingElementClassName:S.cx.pr32.$,backgroundColor:"default"},l.createElement(yo.B,{onShouldFetchNextPage:p},l.createElement(vC,{tiles:u,tileActions:{showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!1,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToWorkspace:!0},chunkSize:u.length,sortFilterOptions:o,newFileTile:!1,emptyStateText:m?"":(0,k.t)("shared_with_you.no_items"),sharedWithYouFilters:{sharer:n,plan:i,fileType:!0},hideSorter:!0,currentPlanFilter:r.filters.plan,currentSharedByFilter:r.filters.sharedBy,eligibleForLockedStateRedesign:e.eligibleForLockedStateRedesign})))}function T0(){return{[lf.cT.ALL]:(0,k.t)("shared_with_you.filters.org_deleted_drafts.all"),[lf.cT.SHARED]:(0,k.t)("shared_with_you.filters.org_deleted_drafts.shared"),[lf.cT.ORG_DELETED_DRAFTS]:(0,k.t)("shared_with_you.filters.org_deleted_drafts.deleted_user_drafts")}}function T1(e){let t=(0,ee._6)(),a=(0,tQ.ol)(),r=(0,np.Rs)(ng.kQI,{id:a?.id||""},{enabled:!!a}),n=(0,s.d4)(e=>e.tileSortFilterStateByView),i="recentsAndSharing"===t.view?n.recentsAndSharing.sharedProjects:n.sharedWithYou,o=TK(["folder"]),c=Tz(["folder"]),d=T0(),m={tileSortFilterConfig:i,sortKeys:[lf.C0.SHARED_AT]},{subscription:u,fetchNextPage:_,isFetchingNextPage:f}=function(e){let{subscription:t,fetchNextPage:a,isFetchingNextPage:r}=TX({...e,resourceTypes:["folder"]});return{subscription:(0,l.useMemo)(()=>t.transform(e=>e.sharedWithYouResources.reduce((e,t)=>{if(t.sharedWithYouFolder){let{folder:a,...r}=t.sharedWithYouFolder;if(null==a)return e;let n=a.updatedAt.toString(),i=(0,ri.V1)({...a,...r},{created_at:a.createdAt.toString(),updated_at:n,deleted_at:a.deletedAt?.toString()||null,touched_at:n});e.push(i)}return e},[])),[t]),fetchNextPage:a,isFetchingNextPage:r}}({sharedBy:i.filters.sharedBy??"",planId:i.filters.plan?.planId??"",planType:i.filters.plan?.planType??"",orgDeletedDrafts:(0,p.kc)().org_admin_settings_abandoned_drafts?"":i.filters.orgDeletedDrafts??"",sortOrder:i.sort.dir===lf.ue.ASC?"asc":"desc",sortKey:(0,lf.De)(i.sort.key)??"shared_at"}),g=(0,l.useMemo)(()=>u.unwrapOr([]),[u]),E=(0,l.useMemo)(()=>g.map(e=>e.id),[g]),{trackPerformanceEvent:h}=(0,Tj.S)("swy_projects_pagination_performance","livegraph");(0,l.useEffect)(()=>{h("fetch_end")},[h,E.length]),(0,l.useEffect)(()=>{"errors"===u.status&&h("fetch_error",{errors:JSON.stringify(u.errors??{})})},[h,u.status,u.errors]),(0,l.useEffect)(()=>(h("fetch_start"),()=>{h("fetch_cancel")}),[h]);let v=(0,l.useCallback)(()=>{f||(h("fetch_next"),_())},[f,_,h]),y="loaded"===r.status&&!!r.data.team&&r.data.team.hasPermission;return l.createElement(tO.A,{loadingElementId:"loading-content-pane",delay:250,loaded:"loaded"===u.status,loadingElementClassName:S.cx.pr32.$,backgroundColor:"default"},l.createElement(yo.B,{onShouldFetchNextPage:v},l.createElement(vJ,{viewId:"shared-with-you-projects",teamId:a?a.id:void 0,canEditTeamContents:y,folderList:g,chunkSize:g.length,showTeamNameOrAuthor:!1,isSharerInfoIncluded:!0,sharedWithYouFilters:{sharer:o,plan:c,orgDeletedDrafts:d},sortFilterOptions:m,selectedView:t,emptyStateText:f?"":(0,k.t)("shared_with_you.no_items"),useLGPerms:!0,currentPlanFilter:i.filters.plan,eligibleForLockedStateRedesign:!!a&&e.eligibleForLockedStateRedesign})))}function T2(){let e=(0,s.wA)(),t=(0,tL.vt)(),a=(0,eP.Yz)(),r=(0,s.d4)(({orgById:e})=>e),n=(0,s.d4)(({currentUserOrgId:e})=>e),i=(0,tS.yK)({orgById:r,currentUserOrgId:n}),o=!!(0,s.d4)(e=>e.userFlags).hide_recommended_templates_in_recents,c=(0,s.d4)(e=>e.user?.drafts_folder_id);if(!c)return null;let d=a(t);return l.createElement(b5,{folderId:c,newFileFrom:ha.f6.FILE_BROWSER_TOPBAR_RECENTS,disableRecommendedTemplates:i||d,recommendedTemplatesIsOpen:!o,toggleRecommendedTemplates:()=>e(t5.b({hide_recommended_templates_in_recents:!o})),showFileCreationShelf:!d})}var T4=a(552963),T8=a(201188),T3=a(322611),T5=a(565701);let T9=e=>l.createElement("span",{className:"unsubscribe_confirmation_modal--boldText--dNK-D"},e),T6=(0,aL.Ju)(function(e){let t=(0,s.wA)(),a=(0,eJ.iZ)();return a?l.createElement(T3.u,{tintedModalBackground:!0,headerText:(0,k.t)("interstitial.unsubscribe_success_header")},l.createElement("div",{className:T5.Yg},(0,k.tx)("interstitial.unsubscribe_success_subheader_with_address",{emailName:T9((()=>{switch(e.policyType){case"FileCommentActivity":return(0,k.t)("interstitial.comment_activity_digest");case"TeamCommentActivity":return(0,k.t)("interstitial.team_comment_digest");case"FeedWeeklyDigest":return(0,k.t)("interstitial.feed_weekly_digest");case"WorkspaceActivity":return(0,k.t)("interstitial.workspace_activity");default:(0,x.assertNever)(e.policyType)}})()),emailAddress:T9(a.email)})),l.createElement(tF.nD,{onClick:()=>{t(e$.Lo())},className:"unsubscribe_confirmation_modal--button--j6qqT"},(0,k.tx)("interstitial.done")),l.createElement("button",{className:"unsubscribe_confirmation_modal--notificationSettingsButton--vmHlZ interstitial_modal--secondaryText--IC9Gu",onClick:()=>{t((0,e$.to)({type:T8.s,data:{tab:T8.c.NOTIFICATIONS}})),t(e$.aZ())}},(0,k.tx)("interstitial.open_notifications_settings"))):null},"UNSUBSCRIBE_CONFIRMATION_INTERSTITIAL_MODAL");var T7=a(540193),Ie=a(824780),It=a(130097),Ia=(e=>(e.AdminUpgradeEmail="admin_upgrade_email",e.UnknownDeeplink="unknown_deeplink",e))(Ia||{}),Ir=a(756704);let In={approvalRequestId:"approvalRequestId",entryPoint:"entryPoint"},Ii=(e,t)=>{e(aJ.F.enqueue({message:t||(0,k.t)("admin_dashboard.requests.error_generic"),error:!0}))},Io=(e,t)=>{let a=t?(0,k.t)("admin_dashboard.requests.success_approve_with_name",{requesterName:t}):(0,k.t)("admin_dashboard.requests.success_approve_multiple",{numRequests:1});e(aJ.F.enqueue({message:a,type:"requests-approved"}))};function Il({eligibleForLockedStateRedesign:e}){let t=(0,s.d4)(e=>e.currentUserOrgId),a=(0,T7.ql)(t||null),r=(0,T7.O8)(t||null),n=(0,yl.Rp)(),i=l.useMemo(()=>a.transform(e=>e.map(rt.fA)),[a]),o=l.useMemo(()=>r.transform(e=>e.map(rt.Nu)),[r]),c=(0,s.d4)(e=>e.recentRepos),d=(0,s.d4)(e=>e.selectedBranchKeyByRepoId),m=l.useMemo(()=>c.map(e=>(0,rt.uy)(e,d)),[c,d]),u=l.useMemo(()=>Object.values(n).map(rt.gB),[n]),_=l.useMemo(()=>a2.Qw.merge([i,o],m,u),[u,i,o,m]),f=(0,s.d4)(e=>e.tileSortFilterStateByView),g=l.useMemo(()=>({tileSortFilterConfig:f.recentsAndSharing.recents,sortKeys:[lf.C0.NAME,lf.C0.CREATED_AT,lf.C0.ACCESSED_AT]}),[f]);!function(){let e=(0,s.wA)(),t=(0,ay.yN)({phase:"passthrough",component:"useUpgradeRequestModalOnPageLoad",attribute:"currentPlan",legacy:(e,t)=>t?{planType:e0.OL.ORG,id:t.id}:e?{planType:e0.OL.TEAM,id:e.id}:null,migrated:e=>e?.id?{id:e.id,planType:e.tier}:null}),a=(0,wc.QL)("one_click_upgrade_request_type"),r=(0,wc.QL)("upgrade_modal_type")||"",n=(0,wc.QL)("entry_point")||"",i=(0,wQ.px)(a??r),o=(0,np.Rs)(ng.LmV,{orgId:t?.planType===e0.OL.ORG?t.id:null,teamId:t?.planType===e0.OL.TEAM?t.id:null},{enabled:!!t?.id&&!!i});(0,l.useEffect)(()=>{if(("disabled"===o.status||"loaded"===o.status)&&((0,wc.EM)("one_click_upgrade_request_type"),(0,wc.EM)("upgrade_modal_type"),(0,wc.EM)("entry_point")),!t||"loaded"!==o.status||!i)return;let r=o.data.currentUser.baseOrgUser;if(r&&(0,wQ.qX)(i,o.data.currentUser.baseOrgUser)){let o=r.licenseGroupMember&&r.licenseGroupMember.licenseGroupId?{license_group_id:r.licenseGroupMember.licenseGroupId}:void 0;e((0,e$.to)({type:wX.Y,data:{orgId:t.id,orgUser:{id:r.id,permission:r.permission,license_group_member:o,user_id:r.user.id,org_id:t.id},licenseType:i,entryPoint:(0,Ie.K)(wz.PE,n)??(0,Ie.K)(wz.tc,n)??(0,Ie.K)(wz.i$,n)??(i===wQ.Te.DEV_MODE?wz.i$.DowngradeEmail:wz.PE.DEPRECATED_Recents),isOneClickUpgradeRequest:!!a,trackForDowngradeNotificationExperiment:!0}}));return}let l=o.data.currentUser.teamUser;if(l&&a&&function(e,t){switch(e){case wQ.Te.WHITEBOARD:return t?.whiteboardPaidStatus===e0.Zf.RESTRICTED;case wQ.Te.DESIGN:return t?.designPaidStatus===e0.Zf.RESTRICTED;default:return!1}}(i,l)){e((0,e$.to)({type:wJ.PK,data:{team:{id:t.id},isOneClickUpgradeRequest:!!a,editorType:(0,wQ.gN)(i),entryPoint:(0,Ie.K)(wz.tc,n)??(0,Ie.K)(wz.Wc,n)??n}}));return}},[e,i,a,n,o,t])}(),function(){let e=(0,s.wA)(),[t,a]=(0,l.useState)(!1),[r,n]=(0,l.useState)(),i=(0,p.kc)().one_click_approve_on_recents;(0,l.useEffect)(()=>{async function t(t){try{let r=await (0,It.Ek)(ng.s7T,{requestId:t}),i=(0,nN.oA)(r.accountTypeRequest);if(!i){Ii(e,(0,k.t)("admin_dashboard.requests.not_found")),a(!0);return}if("pending"!==i.status){e(aJ.F.enqueue({message:(0,k.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:i?.status==="approved"?"requests-approved":"requests-denied"})),a(!0);return}n(i)}catch(t){Ii(e)}}if(!i)return;let r=(0,wc.QL)(In.approvalRequestId);r&&((0,wc.EM)(In.approvalRequestId),t(r))},[e,i]),(0,l.useEffect)(()=>{async function n(t){let r=(0,wc.QL)(In.entryPoint),n=(0,Ie.K)(Ia,r||"")??Ia.UnknownDeeplink,i=(0,Ie.K)(eC.ps,t.planType)||eC.ps.TEAM;try{let a=await Ir.w.approveRequests({plan_id:t.planId,plan_type:i,selection_method:eC.Xv.DEEPLINK,included_request_ids:[t.id],entry_point:n});if(200===a.status){let a=t.requestableOrgUser?.user?.name??t.requestableTeamUser?.user?.name??"";Io(e,a)}else Ii(e)}catch(t){Ii(e)}finally{a(!0),(0,wc.EM)(In.entryPoint)}}i&&r&&!t&&n(r)},[r,e,t,i])}();let h=l.useMemo(()=>({showInFolder:!0,open:!0,openNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,copyLink:!0,duplicate:!0,delete:!0,removeFromRecents:!0,createBranch:!0,publishOrgTemplate:!0,moveFile:!0,pinToWorkspace:!0}),[]),v=E.Ay.mobile||E.Ay.tablet?(0,k.t)("file_browser.tool_bar.recently_viewed_empty_state"):"",y="loaded"===_.status;return l.createElement(tO.A,{loadingElementId:"loading-content-pane",loaded:y,loadingElementClassName:S.cx.pr32.$,backgroundColor:"default"},l.createElement(vC,{tiles:_.data,tileActions:h,sortFilterOptions:g,newFileTile:!0,emptyStateText:v,hideSorter:!0,eligibleForLockedStateRedesign:e}),l.createElement(hD.cx,null))}var Is=a(601538);let Ic="seen_shared_files_onboarding",Id=(0,eg.r1)("seen_account_profile_switcher_onboarding"),Im=(0,eg.r1)(Ic);function Iu(){let e=(0,e_.md)(Id),t=(0,e_.md)(Im),a=(0,ef.e)({overlay:ey.fz8,priority:eE.N.SECONDARY_MODAL},[t,e]);return(0,u.h)(()=>{a.show({canShow:(e,t)=>t&&!e})}),l.createElement(eh.rq,{targetKey:Is.Bh,isShowing:a.isShowing,title:(0,k.tx)("rcs.shared_with_you.shared_files_title"),description:(0,k.tx)("rcs.shared_with_you.shared_files_description",{recents:l.createElement("span",{className:S.cx.fontBold.$},(0,k.tx)("rcs.shared_with_you.recents"))}),primaryCta:{type:"button",label:(0,k.tx)("rcs.got_it"),onClick:a.complete,ctaTrackingDescriptor:ep.c.DONE},width:350,onClose:a.complete,trackingContextName:"File Browser Shared Files in Recents Overlay",userFlagOnShow:Ic})}let I_=e=>{switch(e){case t4.G.RECENTLY_VIEWED:return(0,k.t)("file_browser.recents_and_sharing_view.recent_files_tab_name");case t4.G.SHARED_PROJECTS:return(0,k.t)("file_browser.recents_and_sharing_view.shared_projects_tab_name");case t4.G.SHARED_FILES:return(0,k.t)("file_browser.recents_and_sharing_view.shared_files_tab_name");default:(0,x.assertNever)(e)}};function Ip(e){let t=(0,eJ.TA)(),a=(0,s.d4)(e=>e.orgUsersByOrgId),r=l.useMemo(()=>null!==t&&Object.values(a).some(e=>e[t]?.permission===e0._D.ADMIN),[t,a])&&!(0,p.kc)().org_admin_settings_abandoned_drafts,n=e.options.tileSortFilterConfig.filters.sharedBy,i=e.options.tileSortFilterConfig.filters.plan;return l.createElement("div",{className:"recents_and_sharing_viewbar--dropdownCollectionContainer--XE-iM"},l.createElement(l.Fragment,null,e.filters?.sharer&&Object.keys(e.filters?.sharer).length>1&&l.createElement(l.Fragment,null,n&&l.createElement(ir.qD,{userId:n}),l.createElement(ir.lI,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.sharer,tab:e.tab})),e.filters?.plan&&Object.keys(e.filters?.plan).length>1&&l.createElement(l.Fragment,null,i?.planId&&l.createElement(ir.lV,{planOption:e.filters.plan[i.planId]}),l.createElement(ir.FU,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.plan,tab:e.tab})),e.filters?.fileType&&l.createElement(l.Fragment,null,l.createElement(ir.ye,{config:e.options.tileSortFilterConfig,tab:e.tab})),e.filters?.orgDeletedDrafts&&r&&l.createElement(l.Fragment,null,l.createElement(ir.T3,{config:e.options.tileSortFilterConfig,filterOptions:e.filters.orgDeletedDrafts,tab:e.tab}))))}function If(e){let t=e.selectedTab,a=(0,s.wA)(),r=(0,ee._6)(),n=(0,s.d4)(e=>e.tileSortFilterStateByView),i=t===t4.G.SHARED_PROJECTS?["folder"]:["file","file_repo","prototype"],o=TK(i),c=function(){let e=(0,eJ.TA)(),t=(0,s.d4)(e=>e.authedUsers),a=(0,s.d4)(e=>e.plans),r=(0,s.d4)(e=>e.orgById),n=(0,s.d4)(n2.P),i=(0,p.kc)().limited_plan_spaces,o=e?t.byId[e]:null;return(i?a.map(e=>{let t="";if(e.plan_type===hr.O.ORG){let a=r[e.plan_id];t=a?.name??t}else{let a=n[e.plan_id];t=a?.name??t}return{label:t,plan_id:e.plan_id,plan_type:e.plan_type===hr.O.ORG?hr.O.ORG:hr.O.TEAM}}):(o?.plans??[]).map(e=>({label:e.name,plan_id:e.plan_id,plan_type:e.is_org?"org":"team"}))).reduce((e,t)=>({...e,[`${t.plan_id}`]:t}),{...TG()})}(),d=Tz(i),m=T0(),u={sharer:t!==t4.G.RECENTLY_VIEWED?o:void 0,plan:t===t4.G.RECENTLY_VIEWED?c:d,fileType:t!==t4.G.SHARED_PROJECTS,orgDeletedDrafts:t===t4.G.SHARED_PROJECTS?m:void 0},_=l.useMemo(()=>{let e;switch(t){case t4.G.RECENTLY_VIEWED:e=n.recentsAndSharing.recents;break;case t4.G.SHARED_FILES:e=n.recentsAndSharing.sharedFiles;break;case t4.G.SHARED_PROJECTS:e=n.recentsAndSharing.sharedProjects;break;default:(0,x.assertNever)(t)}return{tileSortFilterConfig:e,sortKeys:t4.o[t]}},[t,n]),f=e=>{e===t4.G.SHARED_FILES?(0,ei.sx)("file_browser_shared_files"):e===t4.G.SHARED_PROJECTS&&(0,ei.sx)("file_browser_shared_projects"),a(z.$T({view:"recentsAndSharing",tab:e}))},g=e=>{(0,ei.sx)("file view toggle",{viewType:e===lf.XU.GRID?"grid":"list"}),Object.keys(t4.G).map(t=>{a(z.JF({selectedView:r,config:{..._.tileSortFilterConfig,viewMode:e},tab:t4.G[t]}))},a(z.uV({viewId:"shared-with-you-projects",viewMode:e})))},E=l.createElement("div",{className:S.cx.flex.alignCenter.$},l.createElement(ir.$c,{initialViewMode:_.tileSortFilterConfig.viewMode,onViewModeChange:g})),h=l.createElement(ir.mc,{options:_,selectedView:r,dispatch:a,tab:t}),v=l.createElement("div",{className:S.cx.flex.$,key:"sortWithViewOptions"},h,E),y=l.createElement(Ip,{options:_,filters:u,tab:t,key:"recentsAndSharingTileFilters"}),b=l.createElement(ir.IB,{dropdownKey:"recents-and-sharing-sort-filter-mobile-dropdown",sortFilterOptions:_,filters:u,onViewModeChange:g,tab:t}),w=Object.keys(t4.G).map(t=>{let a="SHARED_FILES"===t?Is.Bh:"";return l.createElement(hG.r,{tab:t4.G[t],onClick:f,isSelected:e.selectedTab===t4.G[t],tabName:I_(t4.G[t]),key:t,dataOnboardingKey:a})});return l.createElement(l.Fragment,null,l.createElement(fL.p,null,l.createElement(Iu,null)),l.createElement(ir.g2,{leftSide:l.createElement(hG.f,{tabs:w}),rightSide:[y,v],rightSideMobile:b}))}function Ig(e){switch(e){case iT.bb.ACCOUNT:return T8.c.ACCOUNT;case iT.bb.COMMUNITY:return T8.c.COMMUNITY;case iT.bb.NOTIFICATIONS:return T8.c.NOTIFICATIONS}}function IE(e){let t=(0,s.wA)(),a=(0,eP.Yz)(),r=(0,tL.vt)(),n=yB({checks:{isEligibleForLockedRedesign:a}}),{selectedTab:i,accountModalTab:o,emailPolicyToUnsubscribeFrom:c}=e,d=l.createElement(If,{selectedTab:i}),m=(0,_.ZC)(o),u=(0,_.ZC)(c);return(0,l.useEffect)(()=>{o&&o!==m?(t((0,e$.to)({type:T8.s,data:{tab:Ig(o)}})),t(z.$T({view:"recentsAndSharing",tab:t4.G.RECENTLY_VIEWED}))):c&&c!==u&&(T4.z.updateUserCommunicationPreference({channelType:"email",policyType:c,policySetting:"none"}).then(()=>{t((0,e$.to)({type:T6,data:{policyType:c}}))}).catch(e=>{t((0,e$.to)({type:T8.s,data:{tab:Ig(iT.bb.NOTIFICATIONS)}})),t(aJ.F.dequeue({}))}),t(z.$T({view:"recentsAndSharing",tab:t4.G.RECENTLY_VIEWED})))},[o,m,c,u,t]),l.createElement(ou.r,{banner:n?l.createElement(y$,{folderId:null}):l.createElement(TW,null),viewbar:d,viewBarSticky:!0,toolbar:l.createElement(T2,null),content:function(e,t){switch(e){case t4.G.SHARED_FILES:return l.createElement(TJ,{eligibleForLockedStateRedesign:t?.eligibleForLockedStateRedesign});case t4.G.SHARED_PROJECTS:return l.createElement(T1,{eligibleForLockedStateRedesign:t?.eligibleForLockedStateRedesign});case t4.G.RECENTLY_VIEWED:return l.createElement(Il,{eligibleForLockedStateRedesign:t?.eligibleForLockedStateRedesign})}}(i,{eligibleForLockedStateRedesign:a(r)})})}var Ih=a(24171),Iv=a(996773);let Iy=(0,oG.rw)();function Ib(e){let t=(0,s.wA)(),a=[l.createElement(Iy,{tab:Ih.G.FILES,key:"files",selectedTab:e.selectedTab,onClick:()=>{t(z.$T({view:"sharedWithYou",tab:Ih.G.FILES}))},mobileNavTabTitle:(0,k.t)("shared_with_you.toolbar.files")},(0,k.tx)("shared_with_you.toolbar.files")),l.createElement(Iy,{tab:Ih.G.PROJECTS,key:"projects",selectedTab:e.selectedTab,onClick:()=>{t(z.$T({view:"sharedWithYou",tab:Ih.G.PROJECTS}))},mobileNavTabTitle:(0,k.t)("shared_with_you.toolbar.projects")},(0,k.tx)("shared_with_you.toolbar.projects"))];return l.createElement(Iv.W,{resetTileSelectionOnMouseDown:!0,tabs:a})}function Iw(e){return l.createElement(ou.r,{toolbar:l.createElement(Ib,{selectedTab:e.tab}),content:function(e){switch(e){case"files":return l.createElement(TJ,null);case"projects":return l.createElement(T1,null)}}(e.tab)})}var IT=a(412721),II=a(834571),IC=a(501217);function Ix(){return l.createElement("div",{className:S.cx.flex.p12.colorBgSelected.bRadius6.$},l.createElement("div",{className:S.cx.mr12.colorIcon.itemSelfCenter.$},l.createElement(H.B,{svg:mE.A})),(0,k.tx)("sidebar.meta.this_team_is_for_education_users_only"),l.createElement(tF.Us,{target:"_blank",trusted:!0,href:"/education/"},(0,k.tx)("org_home_view_meta.learn_more")))}function IN({team:e}){let t=(0,s.wA)(),a=(0,np.Rs)(ng.kQI,{id:e.id}),r=!!a.data?.team?.hasPermission,[{data:n}]=(0,f.IT)((0,Z.Xg)({teamId:e.id})),i=(n||[]).filter(e=>""!==e.name).length,o=(0,h.I7)("exp_fbg_project_limit_upsell");if(!(!e.subscription&&!e.org_id&&r&&i>=eN.Wf)||o.getConfig().getValue("show_upsell",!1))return null;let c=l.createElement(tF.Us,{onClick:()=>{t((0,e$.to)({type:ed.V,data:{teamId:e.id,upsellSource:e8.b.STARTER_TEAM_FOOTER}}))},trusted:!0,trackingProperties:{trackingDescriptor:ep.c.UPGRADE_TO_A_PAID_PLAN},"data-testid":"starterTeamUpsellFooterUpgradeLink"},(0,k.tx)("file_browser.starter_team.upgrade_link"));return l.createElement(eG.fu,{name:"Starter Team Upsell Footer"},l.createElement("div",{className:D()(S.cx.flex.p32.mt16.bRadius6.justifyCenter.colorBorder.$,"starter_team_upsell_footer--borderStyle--pM4nA"),"data-testid":"starterTeamUpsellFooter"},l.createElement("div",{className:D()(S.cx.flex.flexColumn.itemsCenter.lh24.$,"starter_team_upsell_footer--contentWrapper--H-soB")},l.createElement("strong",null,i===eN.Wf?(0,k.tx)("file_browser.starter_team.project_limit_warning",{maxProjects:eN.Wf}):(0,k.tx)("file_browser.starter_team.project_limit_warning_over_max_projects")),l.createElement("p",{className:S.cx.alignCenter.$},(0,k.tx)("file_browser.starter_team.project_limit_info",{upgradeLink:c})))))}var IS=a(874109);let Ik="professional_badge_onboarding_key",IL="seen_professional_badge_overlay";function IA({teamId:e}){let t=(0,s.d4)(e=>e.userTeamFlags),a=t[e]?.[IL],r=t[e]?.[w_.UA],n=(0,eP.kO)(),i=(0,ef.e)({overlay:ey.zMZ,priority:eE.N.DEFAULT_MODAL,experiment:{check:n,predicate:e=>e,postCheck:()=>!0}}),o=(0,s.wA)();return((0,l.useEffect)(()=>{r&&!a&&i.show()},[i,r,a]),i.isShowing)?l.createElement(eh.rq,{isShowing:i.isShowing,title:(0,k.tx)("pro_onboarding.see_whats_included"),description:(0,k.tx)("pro_onboarding.review_your_teams_plan_and_all_its_features_by_clicking_on_your_professional_badge"),targetKey:Ik,onClose:()=>{o(nS.bE({all_team_flags:[{team_id:e,flags:{[IL]:!0}}]})),i.complete()},trackingContextName:e9.e0.PROFESSIONAL_BADGE_TOOLTIP,trackingProperties:wm.S.getTrackingProperties(e),emphasized:!0,shouldCenterArrow:fR.EL.FALLBACK,clickOutsideToHide:!0}):null}let IR="seen_pro_onboarding_unlimited_projects_overlay",IF=(0,eg.r1)(IR);function IO({teamId:e}){let t=(0,e_.md)(IF),a=(0,e_.md)(wd.e),r=(0,s.d4)(e=>e.userTeamFlags),n=r[e]?.[w_.UA],i=r[e]?.[IL],o=(0,eP.kO)(),{show:c,isShowing:d,complete:m}=(0,ef.e)({overlay:ey._9u,priority:eE.N.DEFAULT_MODAL,experiment:{check:o,predicate:e=>e,postCheck:e=>!e}},[t,a]);return((0,u.h)(()=>{n&&i&&c({canShow:(t,a)=>a.some(t=>t.id===e)})}),d)?l.createElement(fA.M,{isShowing:d,userFlagOnShow:IR},l.createElement(eG.fu,{name:wm.S.getTooltipTrackingContext("Unlimited Projects"),properties:wm.S.getTrackingProperties(e)},l.createElement(wu.jA,{dismissModal:m}))):null}function IP(e){let t=(0,s.wA)(),a=l.useRef(null),r=(0,s.d4)(({dropdownShown:e})=>e),n=e.team.org_id??null,i=(0,tk.Q)({currentOrgId:n,currentTeamId:null}),o=(0,s.d4)(e=>e.favorites.collapsedCustomSections),c=(0,ak.S)(),d=l.useMemo(()=>{if("loaded"===i.status)return(0,eQ.T0)(i.data,e.team.id)},[i,e.team.id]),m=void 0!==d;if("loaded"!==i.status)return l.createElement("div",{className:S.cx.flex.itemsCenter.colorIcon.$},l.createElement(H.B,{svg:g$.A}));let u=(0,eQ.gV)(i.data,n),_=e.dropdownKey&&r&&r.type===e.dropdownKey&&r.data&&r.data.targetRect,p=a.current&&r?.data?.targetRef===a.current&&r?.type===em.jU,f=a.current,g=[];return e.showInvite&&g.push(l.createElement(ok.c$,{key:"import",children:(0,k.tx)("file_browser.team.invite"),onClick:e.onInviteClick})),g.push(l.createElement(ok.c$,{key:"share",children:(0,k.tx)("file_browser.team.view_members"),onClick:t=>e.onMembersClick(t)})),c&&g.push(l.createElement(ok.c$,{key:"add-to-favorites-section",children:l.createElement("div",{className:S.cx.flex.justifyBetween.itemsCenter.w150.$},(0,k.tx)("favorited_resources.add_to_sidebar"),l.createElement(H.B,{svg:wj.A})),onClick:r=>{r.stopPropagation(),a.current&&t(z.j7({type:em.jU,data:{targetRect:f.getBoundingClientRect(),targetRef:f,resourceId:e.team.id}}))}})),l.createElement("button",{className:S.cx.flex.itemsCenter.colorIcon.$,ref:a,onClick:a=>{e.dropdownKey&&f&&t(z.j7({type:e.dropdownKey,data:{targetRect:f?.getBoundingClientRect()}}))}},l.createElement(H.B,{svg:g$.A}),_&&l.createElement(wT.Cf,{targetRect:r.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},g),p&&l.createElement(rT.t,{updateFavorite:(a,r)=>{(!u||a)&&(e.setFavorite(a,d?.resource.id,r),a&&r&&(o.delete(r),t(t3.U6({collapsedCustomSections:o})),t7.Fp({type:"topLevel",id:"custom",orgId:n,sectionId:r},!0)))},resourceId:e.team.id,resourceType:e0.bk.TEAM,isFavorited:m,currentSectionId:d?.resource.sidebarSectionId??void 0,sections:(i.data?.currentUser?.userSidebarSections?(0,tR.oA)(i.data.currentUser.userSidebarSections):null)??[],customSectionOrdering:i.data.currentUser?.baseOrgUser?.fileBrowserPreferences?.orderedSidebarSections??[],showPoint:!0}))}var ID=a(873497),IM=a(761273),IB=a(297536),IU=a(937890),IV=a(5313),IH=a(50292);function IW(e){let{team:t,orgTeamActionType:a}=e;switch(a){case oi.gO.CLICK_JOIN:case oi.gO.BYPASS_REQUEST:return l.createElement(l.Fragment,null,(0,k.tx)("file_browser.team.no_permissions_message",{teamName:t.name}),l.createElement("br",null),(0,k.tx)("file_browser.team.please_join_team"));case oi.gO.CLICK_REQUEST:return l.createElement(l.Fragment,null,(0,k.tx)("file_browser.team.no_permissions_message",{teamName:t.name}),l.createElement("br",null),(0,k.tx)("file_browser.team.please_request_to_join_team"));case oi.gO.CLICK_WITHDRAW:return(0,k.tx)("file_browser.team.request_to_join_team_is_pending",{teamName:t.name});default:return(0,k.tx)("file_browser.team.no_permissions_message",{teamName:t.name})}}function Ij({team:e}){let t=(0,s.d4)(t=>(0,oi.YP)(e,t.teamRoleRequests[e.id],(0,eS.getPermissionsState)(t),t.currentUserOrgId)),a=(0,s.d4)(t=>t.teamRoleRequests[e.id]),r=(0,s.wA)(),n=l.createElement("div",{className:"team_page_view--nonMemberViewContainer--uleTt"},l.createElement("div",{className:"team_page_view--header--sTxh6"},l.createElement(es.nl,{team:e,size:es.Pf.LARGE}),l.createElement("span",{className:"team_page_view--teamName--9MXYi text--fontPos18--rYXJb text--_fontBase--QdLsd"},e.name)),l.createElement("div",{className:"team_page_view--joinOptionText--McFNQ text--fontPos14--OL9Hp text--_fontBase--QdLsd"},l.createElement(IW,{team:e,orgTeamActionType:t})),l.createElement("div",{className:"team_page_view--joinButton--waTM-"},l.createElement(i5.m,{team:e,onJoin:(0,on.GR)(r,e.id),onLeave:()=>{r(e$.to({type:ol.p,data:{teamId:e.id}}))},onJoinRequestOverride:()=>{r(e$.to({type:wZ.$,data:{team:e}}))},onBypassRequestOverride:(0,on.GR)(r,e.id,e5.e6.OWNER),onWithdrawRequestForTeamOverride:()=>{let e=a?.id;e&&r(wY.lT({requestId:e}))},isCardActive:!1})));return l.createElement(ou.r,{content:n})}function I$({teamId:e,selectedTab:t,upgradeModalType:a,showProOnboardingModal:r}){let n;let i=(0,nX.R)(t=>{let a=t.teams[e];return a&&{...a,canAdmin:(0,eS.canAdminTeam)(e,t),canEdit:(0,eS.canEditTeam)(e,t),canRead:(0,eS.canViewTeam)(e,t),isCurrentUserInTeam:(0,eS.hasViewerRoleAccessOnTeam)(e,t),canEditTeamContents:(0,eS.hasEditorRoleAccessOnTeam)(e,t)}}),o=(0,s.d4)(e=>e.currentUserOrgId),c=(0,s.d4)(e=>i&&i.org_id&&e.orgById[i.org_id]||null),d=(0,s.d4)(e=>e.avatarEditorState),m=(0,s.d4)(e=>e.loadingState),_=(0,s.d4)(e=>e.teamBilling),E=(0,s.wA)(),h=(0,ee._6)(),[v,y]=l.useState(!1),[{status:b,data:w}]=(0,f.IT)((0,Z.Xg)({teamId:i?.id}),{revalidateOnMount:!0});(0,IT.w)(e);let T=(0,s.d4)(e=>e.teamRoleRequests),I=!!(0,s.d4)(e=>i&&(0,eS.canManageOrgTeam)(i.id,e,e.user?.id)),[C,x]=l.useState(),N=(0,eN.w5)(i)&&!i?.org_id,L=(0,np.Rs)(ng.GyZ,{teamId:e}),A="loaded"===L.status,R=l.useMemo(()=>(0,IB.X)(L),[L]),F=!!(R&&R.canAdmin),O=!!(R&&R.canEdit),P=!!(R&&R.canRead),D=(0,eP.Yz)(),B=(0,tL.vt)(e),U=l.useCallback(()=>{wq.S.getTeamTransfer({teamId:e}).then(({data:e})=>{x(e.meta)},()=>{x(void 0)})},[e]);(0,u.h)(()=>{let e=(0,wc.QL)("team_role_redemption");if(e&&parseInt(e) in e5.e6){let e=(0,IU.VE)();e&&E(aJ.F.enqueue({message:e})),(0,wc.EM)("team_role_redemption")}}),(0,u.h)(()=>{if(!(0,p.kc)().auto_accept_team_invites)return;let e={999:"owner",900:"admin",300:"edit",100:"view"},t=(0,wc.QL)("auto_role");t&&null!==i&&t in e&&((i?.canRead||"100"!==t)&&(i?.canEdit||"300"!==t)&&(i?.canAdmin||"900"!==t&&"999"!==t)&&E(aJ.F.enqueue({message:(0,k.t)("join_team_flash.auto_accept_team_invite_modal",{teamName:i?.name||"",inviteType:e[t]})})),(0,wc.EM)("auto_role"))}),l.useEffect(()=>{U()},[C?.id,U]),l.useEffect(()=>{let e=IM.um.loadingKeyForPayload();(0,fn.VP)(m,e)||(0,fn.D2)(m,e)||E(IM.um())},[E,m]),l.useEffect(()=>{o&&E((0,eK.Rw)())},[E,o]),l.useEffect(()=>{if(i)y(!1);else{let t=on.HD.loadingKeyForPayload({teamId:e}),a=`TEAM_GET_ACTION_${e}`;o&&!m[t]?E(on.HD({teamId:e,disableFlashError:!0})):(0,fn.VP)(m,t)||(0,fn.VP)(m,a)||y(!0)}},[E,m,i,e,o]),l.useEffect(()=>{if(i&&!i.org_id){if(t===ek.A.BILLING){let e=yV.Be.loadingKeyForPayload({teamId:i.id}),t=yV.NP.loadingKeyForPayload({teamId:i.id}),a=!(0,fn.D2)(m,e)&&!(0,fn.VP)(m,e),r=!(0,fn.D2)(m,t)&&!(0,fn.VP)(m,t);(a||r)&&E(yV.Q({teamId:i.id}))}else if(t===ek.A.MEMBERS){let e=ws.m$.loadingKeyForPayload({teamId:i.id});(0,fn.VP)(m,e)||(0,fn.D2)(m,e)||E(ws.m$({teamId:i.id}))}else if(t===ek.A.SETTINGS){let e=yV.Be.loadingKeyForPayload({teamId:i.id});F&&N&&!(0,fn.VP)(m,e)&&!(0,fn.D2)(m,e)&&E(yV.Q({teamId:i.id}))}}},[E,t,m,i,c,N,F]);let V=(0,eJ.Pc)(),H=(0,np.Rs)(ng.Cit,{teamId:e}),j=H.data?.team?.currentTeamUser;l.useEffect(()=>{let e;if(!(i&&V&&j&&a)||!N)return;let r=a===e0.G_.DEV_MODE,n=a===e0.G_.WHITEBOARD?e0._Y.WHITEBOARD:e0._Y.DESIGN;if(n===e0._Y.DESIGN?e=j.designAccountTypeRequest?.status==="pending":n===e0._Y.WHITEBOARD&&(e=j.whiteboardAccountTypeRequest?.status==="pending"),!0===e&&E(W.s.flash((0,k.t)("team_view.request_upgrade.request_already_sent"))),!1===e&&(0,tS.dk)(!!(0,e1.XG)(j,n)||r&&!(0,e1.HA)(j,n),e,i,V)){let e=(0,wc.QL)("entry_point")||(r?wz.i$.DowngradeEmail:wz.tc.DOWNGRADE_EMAIL);E(e$.to({type:wJ.PK,data:{editorType:n,team:i,entryPoint:e}}))}E(z.$T({view:"team",teamId:i.id,teamViewTab:t}))},[E,i,V,j,a,N,t]),(0,u.h)(()=>{r&&E(e$.to({type:IH.C,data:{teamId:e}}))});let $=l.useCallback((e,t,a)=>{if(i){let r={team:i,entrypoint:"team_page_view",sectionId:a,favoriteId:t};e?E(t3.DN(r)):E(t3.ox(r))}},[E,i]),G=l.useCallback(()=>{ts.Ay.del(`/api/asset_transfer/${C?.id}`).then(()=>{x(void 0),E(aJ.F.enqueue({message:(0,k.t)("asset_transfers.revoke.transfer_revoked")}))},()=>{E(aJ.F.enqueue({message:(0,k.t)("asset_transfers.error_message.something_went_wrong_check_your_connection"),error:!0}))})},[C?.id,E]),Y=l.useRef(!1);l.useEffect(()=>{!Y.current&&(0,p.kc)().pro_team_project_transfers&&"team"===h.view&&h.assetTransferRequestId&&E(e$.to({type:(0,II.S)(),data:{selectedAssetTransferRequest:h.assetTransferRequestId}})),Y.current=!0});let Q=l.useMemo(()=>{if(i)return{team:i,pending:C,onRevokeTransfer:G,updatePending:U,billing:_}},[U,G,C,i,_]),K={view:"team",teamId:e,teamViewTab:ek.A.HOME},q=(0,M.n)(ID.am.MEMBERS,Q,!!i?.canAdmin,K),X=(0,M.n)(ID.am.SETTINGS,Q,!!i?.canAdmin,K);l.useEffect(()=>{t===ek.A.MEMBERS?q():t===ek.A.SETTINGS&&X()},[]);let J=l.useCallback(e=>{let t={view:"team",teamId:i?i.id:"",teamViewTab:e};E(z.$T(t))},[E,i]),et=l.useMemo(()=>{if(i&&P)switch(i.org_access){case e0.bU.PRIVATE:return(0,k.t)("file_browser.team_header.closed_team_header");case e0.bU.SECRET:return(0,k.t)("file_browser.team_header.secret_team_header")}},[i,P]),ea=l.useMemo(()=>{if(i&&P){if(i.org_access===e0.bU.PRIVATE)return(0,k.t)("file_browser.team_header.closed_team_subtitle");if(i.org_access===e0.bU.SECRET)return(0,k.t)("file_browser.team_header.secret_team_subtitle")}},[i,P]),er=(0,ej.N)();if(!A)return l.createElement(tP.qc,null);if(v||!P&&!o)return l.createElement(om.S,{resourceType:iT.Ft.TEAM});if(!i)return null;if(!P)return l.createElement(Ij,{team:i});let en=()=>{E((0,Z.SX)({where:rl.Ah.FolderListView,team:i}))},eo=()=>{E(z.oB()),X(),J(ek.A.SETTINGS)},ec=()=>{E(z.oB()),E(z.$T({view:"teamAdminConsole",teamId:i.id,isProTeam:i.pro_team})),(0,ei.sx)("Admin Console Opened",{trackingContext:e9.e0.FILE_BROWSER,entryPoint:"team_page_view"})},ed="loaded"===b;n=i.org_id?ed?l.createElement(l.Fragment,null,l.createElement(vJ,{viewId:`team-${e}`,teamId:e,eligibleForLockedStateRedesign:D(B),folderList:w||[],showTeamNameOrAuthor:!1,onCreateNewFolder:O?en:void 0,canEditTeamContents:O,selectedView:h}),l.createElement(hD.cx,null)):l.createElement(tP.qc,null):l.createElement(l.Fragment,null,ed?l.createElement(l.Fragment,null,l.createElement(b8.J,{teamId:i.id}),l.createElement(vJ,{viewId:`team-${e}`,teamId:e,eligibleForLockedStateRedesign:D(B),folderList:w||[],showTeamNameOrAuthor:!1,onCreateNewFolder:i.isCurrentUserInTeam?en:void 0,canEditTeamContents:O,selectedView:h}),l.createElement(hD.cx,null)):l.createElement(tP.qc,null));let em=i.canAdmin?l.createElement(e6.FL,{entity:i,entityType:e3.ck.TEAM,avatarEditorState:d,size:og.I,dispatch:E,avatarSvg:rI.A,svgSizeRatio:.6}):l.createElement(es.nl,{team:i,size:og.I,avatarSvg:rI.A,svgSizeRatio:.6}),eu=!P&&!I,e_=(()=>{if(eu)return;let e=er({team:i,onChangeTeamIconClick:()=>{E((0,ez.o)({team:i}))},onRenameClick:()=>{E(e$.to({type:(0,IC.h)(),data:{team:i}}))},teamRoleRequests:T}),t=[];return Q&&(O&&t.push({displayText:(0,k.t)("team_view.settings.view_settings"),callback:eo}),c&&t.push({displayText:(0,k.t)("teams_table.view_team_members"),callback:q}),N||t.push({displayText:"",separator:!0})),N&&i.canAdmin&&t.push({displayText:(0,k.t)("team_view.settings.view_admin_console"),callback:ec},{displayText:"",separator:!0}),t.push(...e),t})(),ep=e_?{kind:oS.A.CUSTOM,key:oS.D.DROPDOWN,element:l.createElement(ov,{buttonAriaLabel:(0,k.t)("team_view.page_header_dropdown_label"),dropdownKey:`team-${i.id}`,dropdownOptions:e_})}:void 0,ef=i.pro_team&&(0,p.kc)().pro_onboarding_launch,eg=i.student_team?l.createElement(Ix,null):(0,eN.w5)(i)?void 0:l.createElement(IN,{team:i});return l.createElement(ou.r,{content:l.createElement(l.Fragment,null,n,eg),banner:l.createElement(wE,{teamId:e,selectedTab:t}),header:l.createElement(og.z,{avatar:em,title:i.name,rightSideActions:function(e,t,a,r,n,i,o,s){let c=[],d=!!Object.keys(i).includes(e.id)&&i[e.id]?.status===wK.c.PENDING,m=e.canAdmin&&!e.isCurrentUserInTeam,u={kind:Tn.A.CUSTOM_BUTTON,key:oS.D.FAVORITE,element:l.createElement(rS.r,{setFavorite:r,favoriteType:e0.bk.TEAM,resourceId:e.id,isFavoriteHeaderStar:!0,orgId:e.org_id})};m&&c.push({kind:Tn.A.BUTTON,key:oS.D.JOIN_TEAM,displayText:(0,k.t)("file_browser.team.join_team"),onClick:(0,on.GR)(t,e.id,e5.e6.ADMIN)});let _=s?eL.Ib.TEXT:void 0,p=s?(0,k.t)("locked_team.label.tooltip"):void 0;n&&!(0,e1.R$)(a,e.org_id)?c.push({kind:Tn.A.CUSTOM,key:oS.D.NEW_PROJECT,element:l.createElement("div",{"data-tooltip":p,"data-tooltip-type":_},l.createElement(oN,{"data-onboarding-key":"team-view-new-project-cta",dataTestId:"team-view-new-project-cta",variant:s?"secondary":"inverse",disabled:s,onClick:()=>{t((0,Z.SX)({team:{...e,canEdit:n,canAdmin:e.canAdmin,canEditTeamContents:n},where:rl.Ah.FolderListView}))},text:(0,k.t)("file_browser.team.add_project")}),l.createElement(IO,{teamId:e.id})),showOnMobile:!0}):!e.org_id||e.org_access===e0.bU.SECRET||m||e.canAdmin||c.push({kind:Tn.A.BUTTON,key:oS.D.REQUEST_TO_EDIT,displayText:d?(0,k.t)("file_browser.team.cancel_request"):(0,k.t)("file_browser.team.request_to_edit"),onClick:()=>{d?t(wY.lT({requestId:i[e.id]?.id})):t(e$.to({type:wZ.$,data:{team:e,requesterCurrentLevel:e5.e6.VIEWER}}))}});let f=s?g.lQ:()=>{t(e$.to({type:(0,IS.T)(),data:{teamId:e.id,notifyOnSuccess:!0}}))};c.push({kind:Tn.A.BUTTON,key:oS.D.INVITE,displayText:(0,k.t)("file_browser.team.share"),onClick:f,styleClass:s?w5.EB:void 0,"data-tooltip":p,"data-tooltip-type":_}),e.org_id&&c.push(u);let E=l.createElement(IP,{dropdownKey:"team-overflow-dropdown",team:e,showInvite:!0,onInviteClick:()=>{t(e$.to({type:(0,IS.T)(),data:{teamId:e.id,notifyOnSuccess:!0}}))},onMembersClick:o,setFavorite:r});return c.push({kind:Tn.A.CUSTOM_BUTTON,key:oS.D.TEAM_OVERFLOW_MENU,showOnMobile:!0,hideOnDesktop:!0,element:E}),c}(i,E,V,$,O,T,e=>{e.stopPropagation(),E(z.oB()),q(),J(ek.A.MEMBERS)},D(B)),rightSideOfTitleAction:ep,pageHeaderIcon:void 0,badge:l.createElement(nV.Y,{direction:"horizontal"},et?l.createElement("div",{className:S.cx.ml4.mr4.$,"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":et,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200,"data-tooltip-subtext":ea},l.createElement(eO.In,{icon:"lock-16"})):void 0,ef?l.createElement(l.Fragment,null,l.createElement(eG.fu,{name:el._Y.PROFESSIONAL,properties:wm.S.getTrackingProperties(e)},l.createElement(eG.$z,{type:"button",onClick:()=>{E(e$.to({type:IV.q,data:{teamId:i.id}}))},"data-onboarding-key":Ik,className:"team_page_view--pointerOnHover--at7fp"},l.createElement(el.Ex,{color:el.zE.INFORMATIONAL,text:(0,k.t)("pro_onboarding.professional"),size:el.vj.EXTRA_LARGE}))),l.createElement(IA,{teamId:e})):void 0)})})}var IG=a(733556),IY=a(941381);let Iz={ctrlKey:"metaKey"};function IQ(e,t={}){let a=(0,s.wA)(),r=(0,s.Pj)(),n=l.useMemo(()=>({metaKey:e=>{let t=(0,vi.xS)(r.getState(),e);a(Q.V3({url:t}))},...t}),[t,a,r]);return l.useCallback((t,r)=>{let i=e(r),o=Object.keys(n).find(e=>t[e]);if(o){let e=n[E.Ay.mac?o:Iz[o]||o];if(e){t.preventDefault(),e(i);return}}a(z.$T(i))},[n,a,e])}var IK=a(692630),Iq=a(314866),IZ=a(196495),IX=a(548310),IJ=a(654696);let I0="org_user_meta_content--teamsHeader--1p4jT org_user_meta_content--sectionHeader--snmkw text--fontPos13--xW8hS text--_fontBase--QdLsd";function I1(e){let t=(0,s.wA)(),a=(0,eJ.iZ)(),r=(0,IX.w)(e.user),n=(0,s.d4)(t=>t.currentUserOrgId===e.orgId),i=()=>{t((0,e$.to)({type:IJ.u}))};return l.createElement("div",{className:S.cx.flex.flexColumn.ml16.hFull.$},l.createElement(ft.x,{isLoading:e.isLoading},()=>l.createElement(l.Fragment,null,l.createElement("div",{className:"org_user_meta_content--userData--NrFpt"},l.createElement(es.H8,{user:e.user,size:es.Pf.LARGE}),l.createElement("div",{className:"org_user_meta_content--userName--JeBfv text--fontPos18--rYXJb text--_fontBase--QdLsd"},e.title),e.user.profile?.job_title&&l.createElement("div",{className:"org_user_meta_content--jobTitle--bWmsS text--fontPos11--2LvXf text--_fontBase--QdLsd"},l.createElement(el.Ex,{color:el.zE.INVERT,text:(0,Iq.lb)(e.user.profile?.job_title)}),e.userId===a?.id&&l.createElement("span",{className:"org_user_meta_content--blueLink--u44PB blue_link--blueLink--9rlnd",role:"button",tabIndex:0,onClick:i},(0,k.tx)("internal_profile.change_job_title"))),e.user.email&&l.createElement("div",{className:"org_user_meta_content--email--tgx7t text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.user.email),l.createElement(fp,{value:e.description??"",placeholder:(0,k.t)("internal_profile.add_a_description"),submit:e.submitDescription,formatter:f_,readOnly:e.isReadOnly,className:"org_user_meta_content--description--gYuxd text--fontPos13--xW8hS text--_fontBase--QdLsd"})),r&&e.user?.id===a?.id&&l.createElement(I5,{user:e.user}),n&&l.createElement(tD.P,{className:S.cx.flexShrink1.bt1.bSolid.colorBorder.$,innerClassName:S.cx.p16.borderBox.flex.flexColumn.$},l.createElement("div",{className:I0},(0,k.tx)("internal_profile.teams")),l.createElement(I9,{userId:e.userId,orgId:e.orgId}),l.createElement("div",{className:I0},(0,k.tx)("internal_profile.recent_projects")),l.createElement(I8,{files:e.recents,isYourProfile:!e.isReadOnly})))))}function I2(e){let t=(0,eJ.iZ)(),a=(0,s.wA)();return l.createElement(I1,{submitDescription:t=>{a(IZ.yJ({user:{id:e.userId,description:t},userInitiated:!0}))},isLoading:!e.user,isReadOnly:!t||t.id!==e.userId,description:e.user.description??null,title:e.user.name??e.user.handle??null,userId:e.userId,user:e.user,recents:e.recents,orgId:e.orgId})}function I4(e){let t=(0,s.wA)(),a=(0,eJ.iZ)();return l.createElement(I1,{isLoading:!e.user||!e.orgUser||!e.org,isReadOnly:!a||a.id!==e.userId,description:(e.orgId&&e.orgUser?e.orgUser.description:e.user.description)??null,title:e.user&&e.org?(0,k.t)("internal_profile.title",{userName:e.user.handle,orgName:e.org.name}):null,recents:e.recents,submitDescription:a=>{e.orgId&&e.orgUser&&t(Ts.yJ({orgUser:{id:e.orgUser.id,org_id:e.orgId,description:a},userInitiated:!0}))},user:e.user,userId:e.userId,orgId:e.orgId})}function I8(e){let t=(0,eZ.FC)(),a=IQ(e=>({view:"folder",folderId:e})),r=l.useMemo(()=>{if(e.files.status!==o8.r.SUCCESS)return[];let a=[],r=[];if(!e.files)return a;let n=new Set;for(let i of e.files.value){if(n.has(i.folder_id)||(n.add(i.folder_id),""===i.folder_name||null==i.folder_name))continue;let e={id:i.folder_id,name:i.folder_name,teamName:i.team_name,hasAccess:(0,eS.canViewFolder_DEPRECATED)(i.folder_id,t)};if(e.hasAccess?a.push(e):r.push(e),a.length+r.length>=5)break}return a.concat(r)},[e.files,t]);return l.createElement(ft.x,{state:e.files},()=>l.createElement("div",null,0===r.length&&l.createElement("div",{className:"org_user_meta_content--projectEmptyState--zusT6 text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.isYourProfile?(0,k.t)("internal_profile.your_recent_projects_will_appear_here"):(0,k.t)("internal_profile.their_recent_projects_will_appear_here")),r.map(e=>l.createElement("div",{key:e.id,onClick:e.hasAccess?t=>a(t,e.id):void 0,className:e.hasAccess?"org_user_meta_content--project--t-Nos org_user_meta_content--projectBase--ofeuj text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa":"org_user_meta_content--dimProject--a1lrh org_user_meta_content--dim--aNVfK org_user_meta_content--projectBase--ofeuj text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},l.createElement("span",{"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":e.hasAccess?void 0:(0,k.t)("internal_profile.you_must_be_a_member_of_team_name",{teamName:e.teamName})},e.name)))))}function I3(e){return l.createElement("div",{className:"org_user_meta_content--userProfileNotification--qHv4P"},l.createElement("div",{className:"org_user_meta_content--userProfileNotificationTitle--lDm8h text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},e.title),l.createElement("div",{className:"org_user_meta_content--userProfileNotificationText--H2ZHJ text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},e.text),l.createElement("div",{className:"org_user_meta_content--userProfileNotificationAction--NQLlj"},e.action))}function I5(e){let{profile:t}=e.user,a=(0,s.wA)(),[r,n]=l.useState(!1),i=r=>{n(!0),setTimeout(()=>{a(IZ.yJ({user:{id:e.user.id,job_title:r,profile:{...t,job_title:r}},userInitiated:!0}))},600),(0,tC.Cu)({trackingContext:e9.e0.FILE_BROWSER,context:"job_title",text:"Set Job Title",jobTitle:r})};return l.createElement(l.Fragment,null,t?.images?null:l.createElement(I3,{title:(0,k.t)("internal_profile.profile_image_nudge.title"),text:(0,k.t)("internal_profile.profile_image_nudge.text"),action:l.createElement(tF.N_,{trusted:!0,className:"org_user_meta_content--userProfileNotificationActionLink--sVVav",onClick:()=>{a((0,ez.X)({entity:e.user,entityType:e3.ck.CURRENT_USER,shape:"CIRCLE"})),(0,tC.Cu)({trackingContext:e9.e0.FILE_BROWSER,context:"job_title",text:"Update Photo"})}},(0,k.tx)("internal_profile.profile_image_nudge.action"))}),t?.job_title?null:l.createElement(I3,{title:(0,k.t)("internal_profile.job_title_nudge.title"),text:(0,k.t)("internal_profile.job_title_nudge.text"),action:r?l.createElement(tP.kt,null):l.createElement(l.Fragment,null,Iq.s_.map(e=>l.createElement(el.Ex,{key:e,color:el.zE.INVERT,subtle:!0,text:(0,Iq.lb)(e),className:"org_user_meta_content--userProfileNotificationBadge--UDTOo",onClick:()=>i(e)})))}))}let I9=(0,s.Ng)((e,t)=>({permissionState:e}))(function(e){let[t,a]=l.useState(null);l.useEffect(()=>{y0.k.getTeams({userId:e.userId,orgId:e.orgId||void 0}).then(e=>{a(e.data.meta)}).catch(e=>{console.error("Unable to load org user teams",e)})},[e.userId,e.orgId]);let r=IQ(e=>({view:"team",teamId:e.id})),n=(t||[]).sort((t,a)=>{let r=(0,eS.canViewTeam)(t.id,e.permissionState),n=(0,eS.canViewTeam)(a.id,e.permissionState);return r&&!n?-1:!r&&n?1:0});return l.createElement(ft.x,{isLoading:!t},()=>l.createElement("div",{className:S.cx.flex.flexColumn.gap8.$},n.map(t=>{let a=(0,eS.canViewTeam)(t.id,e.permissionState);return l.createElement(a_.rE,{key:t.id,entity:t,size:12,hideFallbackInitial:!0,onClick:a?r:void 0,className:`org_user_meta_content--teamListItem--gXcF- text--fontPos13--xW8hS text--_fontBase--QdLsd ${a?"":"org_user_meta_content--dim--aNVfK"}`,"data-tooltip-type":eL.Ib.TEXT,"data-tooltip":a?void 0:(0,k.t)("internal_profile.you_re_not_a_member_of_this_team"),"data-tooltip-offset-y":4})}),t&&0===t.length&&(0,k.tx)("internal_profile.no_teams_in_common")))});function I6(e){let t=(0,co.i8)(e.publishedPlugins),a=(0,co.LH)((0,co.ky)(t,e.userId),e.org),r=Object.keys(a).map(e=>a[e]),n=(0,B.sortByCreatedAt)(r);return 0===n.length?null:l.createElement(l.Fragment,null,l.createElement("div",{className:"user_org_resources--sectionHeader--MUg1j internal_user_profile_page_view--sectionHeader--3NNNT text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("file_browser.settings.plugins_published",{orgName:e.org.name})),l.createElement("div",{className:"user_org_resources--container---l25- profile_resources_grid--_resourcesGridTemplateColumns--19JO6"},n.map(e=>l.createElement(db.cS,{pluginId:e.id,showInstallCount:!0,key:`plugin-${e.id}`,isPublic:!!e.roles.is_public,viewContext:"UserOrgResources"})),l.createElement(db.hT,{numResources:n.length})))}var I7=a(204545);function Ce(e){let{org:t}=e,a=(0,s.d4)(a=>(t&&t.id&&a.orgUsersByOrgId[t.id]||{})[e.user.id]);return t?l.createElement(I4,{orgId:t.id,recents:e.recents,userId:e.user.id,user:e.user,org:t,orgUser:a}):l.createElement(I2,{orgId:null,recents:e.recents,userId:e.user.id,user:e.user})}let Ct=e=>{let t=e.user.id,a=(0,s.wA)(),r=(0,s.d4)(e=>e.selectedView),n=e.orgUser&&e.orgUser.org_id,i=(0,s.d4)(e=>e.currentUserOrgId),o=void 0===n?i:n,c=(0,s.d4)(e=>o&&e.orgById[o]||null),d=(0,p.kc)().xr_debounce_threshold&&c,m="user"===r.view?r.userViewTab:void 0;l.useEffect(()=>{a((0,e$.ES)({type:IK.E}))},[a,m]);let u=(0,s.d4)(e=>e.userFlags);l.useEffect(()=>{u.seen_profile||a(t5.b({seen_profile:!0}))},[a,u.seen_profile]);let _=(0,s.d4)(e=>e.tileSortFilterStateByView.user),f=l.useMemo(()=>({srcTileSortFilterConfig:{filters:{creator:lf.rJ.ANY,fileType:lf.t2.ANY},sort:{key:lf.C0.ACCESSED_AT,dir:lf.ue.DESC}},tileSortFilterConfig:_,sortKeys:[lf.C0.NAME,lf.C0.CREATED_AT,lf.C0.ACCESSED_AT]}),[_]),g=l.useMemo(()=>{let e=new URLSearchParams;return o&&e.append("org_id",o),`/api/user/${t}/recents${""===e.toString()?"":"?"}${e.toString()}`},[t,o]),[E,h]=l.useState([]),[v,y]=l.useState(!0),[b,w]=l.useState(null),[T,I]=l.useState(0),C=l.useCallback(e=>{w(e),a(aJ.F.enqueue({message:(0,k.t)("internal_profile.an_error_occurred"),error:!0}))},[a]),{fetchNext:N,hasMore:S}=(0,gY.WQ)(g,C,55),L=l.useCallback(async()=>{if(!S)return;let e=async()=>{try{let e=await N();if(!Array.isArray(e))return;h(t=>[...t,...e])}catch(e){C(e)}};await e()},[N,C,S]);l.useEffect(()=>{(async()=>{E.length<55&&T<3&&(await L(),I(e=>e+1),y(!1))})()},[T]);let A=l.useMemo(()=>E.filter(e=>{switch(_.filters.fileType){case lf.t2.ANY:return!0;case lf.t2.DESIGN:return"design"===e.editor_type;case lf.t2.FIGJAM:return"whiteboard"===e.editor_type;case lf.t2.PROTOTYPE:return!1;case lf.t2.SITES:return"sites"===e.editor_type;case lf.t2.SLIDES:return"slides"===e.editor_type;default:(0,x.assertNever)(_.filters.fileType)}}),[E,_]),R=l.useMemo(()=>b?{status:o8.r.FAILURE,error:b}:v?{status:o8.r.LOADING}:{status:o8.r.SUCCESS,value:A},[v,b,A]),F=(0,IG.J)(()=>c&&c.community_profile_id?a(IY.pZ({profileId:c.community_profile_id})):Promise.resolve([]),[a,c]),O=e=>{a(z.$T({view:"user",userId:t,userViewTab:e}))},P=m===o$.o.INTERNAL_PROFILE?[l.createElement("div",{key:"sort-filter",className:"internal_user_profile_page_view--hideFilterRightPadding--fd-Z-"},l.createElement(ir.$4,{options:f,hideSortMenu:!0,selectedView:r,dispatch:a}))]:[],D=l.createElement(ir.g2,{leftSide:d?l.createElement(hG.f,{tabs:[l.createElement(hG.r,{key:o$.o.INTERNAL_PROFILE,tab:o$.o.INTERNAL_PROFILE,isSelected:m===o$.o.INTERNAL_PROFILE,onClick:()=>O(o$.o.INTERNAL_PROFILE),tabName:(0,k.t)("internal_profile.file_contributions")}),l.createElement(hG.r,{key:o$.o.INTERNAL_PROFILE_POSTS,tab:o$.o.INTERNAL_PROFILE_POSTS,isSelected:m===o$.o.INTERNAL_PROFILE_POSTS,onClick:()=>O(o$.o.INTERNAL_PROFILE_POSTS),tabName:(0,k.t)("internal_profile.posts")})]}):P,rightSide:d?P:[]});return(0,eG.T8)(l.createElement(ou.r,{scrollableContainerClass:"internal_user_profile_page_view--pageContainer--FQu11",containerClass:"internal_user_profile_page_view--pageContainerInner--2Ep2e",content:l.createElement("div",{className:"internal_user_profile_page_view--content--X0lTp"},l.createElement("div",{className:"internal_user_profile_page_view--viewbar--eprew"},D),m===o$.o.INTERNAL_PROFILE&&(F.status===o8.r.SUCCESS&&R.status===o8.r.SUCCESS?l.createElement(l.Fragment,null,c&&l.createElement(I6,{userId:t,org:c,publishedPlugins:F.value}),!d&&l.createElement("div",{className:"internal_user_profile_page_view--sectionHeader--3NNNT text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("internal_profile.file_contributions")),l.createElement(Cr,{files:R,fetchNext:L})):l.createElement(tP.qc,null)),m===o$.o.INTERNAL_PROFILE_POSTS&&c&&l.createElement(hA,{currentOrgId:c.id,selectedUser:e.user})),metaContent:l.createElement(Ce,{user:e.user,recents:R,org:c,orgUser:e.orgUser})}),e9.e0.USER_DETAILS,{view:"org_user",userId:t})};function Ca(e){return l.createElement(Ct,{key:e.user.id,user:e.user,orgUser:e.orgUser})}let Cr=(0,s.Ng)((e,t)=>({permissionState:e}))(function(e){let{fetchNext:t}=e,a=IQ(e=>({view:"fullscreen",fileKey:e.key,editorType:(0,gP.wN)(e.editorType||"design")})),r=l.useCallback((e,a)=>{e+a.trackHeight>=a.scrollHeight&&t()},[t]),n=l.useMemo(()=>e.files.status===o8.r.SUCCESS?e.files.value.map(e=>({key:e.key})):[],[e.files]),i=(0,np.p)(ng.sMs,n),o=l.useMemo(()=>{let e={};return i.forEach(t=>{"loaded"===t.result.status&&(e[t.args.key]=!!t.result.data.file?.hasPermission)}),e},[i]);return l.createElement(ft.x,{className:"internal_user_profile_page_view--loading--R8iYF",state:e.files},t=>l.createElement(l.Fragment,null,l.createElement("div",{className:"internal_user_profile_page_view--fileListHeader--HBbTz internal_user_profile_page_view--grid--wdUAM text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement("div",null,(0,k.tx)("internal_profile.file_name")),l.createElement("div",null),l.createElement("div",{className:"internal_user_profile_page_view--projectHeader--1xRXi"},(0,k.tx)("internal_profile.project")),l.createElement("div",{className:"internal_user_profile_page_view--activityHeader--4Qatb"},(0,k.tx)("internal_profile.last_activity"))),l.createElement(tD.P,{onScroll:r,className:"internal_user_profile_page_view--scrollContainer--yPmA8",innerClassName:"internal_user_profile_page_view--scrollContainerInner--jae6x"},t.map(t=>{let r=o[t.key]?r=>{e.dispatch(Q.UN({fileKey:t.key,entrypoint:"internal user profile page view"})),a(r,{key:t.key,editorType:t.editor_type})}:void 0;return l.createElement("a",{onClick:r,href:(0,rr.rl)(t),key:t.key,className:"internal_user_profile_page_view--recentFile--zdHK5 internal_user_profile_page_view--grid--wdUAM text--fontPos13--xW8hS text--_fontBase--QdLsd"},l.createElement(rN.NU,{size:rV.y.SMALL,file:{touched_at:null,updated_at:null,...t},noBorder:!0}),l.createElement("div",{className:"internal_user_profile_page_view--filename--pUgkH ellipsis--ellipsis--Tjyfa"},null!==t.source_file_name&&l.createElement(l.Fragment,null,t.source_file_name,l.createElement(H.B,{svg:I7.A,className:"internal_user_profile_page_view--branchIcon--CcWO2"})),t.name),l.createElement("div",{className:"internal_user_profile_page_view--projectName--50iEN ellipsis--ellipsis--Tjyfa"},t.folder_name),l.createElement("div",{className:"internal_user_profile_page_view--activity--CsNi8"},l.createElement(lN.h1,{date:new Date(1e3*t.timestamp)})))}))))}),Cn=(e,t,a)=>a?Promise.resolve([]):y0.k.getTeams({userId:t}).then(e=>e.data.meta).catch(e=>{throw e}),Ci=(e,t,a)=>e&&e.id===a?Promise.resolve(e):y0.k.getUser({userId:a}).then(e=>e.data.meta).catch(e=>{throw t(W.s.error("Failed to get user",5e3)),console.warn("Failed to get user files"),e}),Co=(e,t,a)=>a?e(Ts.I1({orgId:a,userId:t})):Promise.resolve(null),Cl={[o$.o.INTERNAL_PROFILE]:{Component:Ca},[o$.o.INTERNAL_PROFILE_POSTS]:{Component:Ca},[o$.o.PLUGINS]:{Component:l.Fragment}};function Cs(e){return l.createElement(e.component,{...e.context})}function Cc(e){let t=(0,s.wA)(),a=(0,eJ.iZ)(),r=e.orgId,n=(0,s.d4)(e=>e.currentUserOrgId),i=void 0===r?n:r,o=(0,IG.J)(()=>{let r=Ci(a,t,e.userId),n=Co(t,e.userId,i);return Promise.all([r,Cn(t,e.userId,i),n]).then(([a,r,n])=>((0,a7.hL)(a.handle),{userId:e.userId,user:a,teams:r,orgUser:n,profileHandle:a.community_profile_handle||null,on404Redirect:r.length>0||n?()=>{t(z.$T({view:"user",userId:e.userId,orgId:i,userViewTab:o$.o.INTERNAL_PROFILE}))}:()=>{m.Ay.redirect("/404")}}))},[t,a,i,e.userId]),{tab:c}=e;if(!c)return null;let{Component:d}=Cl[c];return l.createElement(ft.x,{className:"user_page_view--loadingContainer--vr9Zb",state:o,failure:void 0},t=>l.createElement(Cs,{component:d,tab:c,userId:e.userId,context:t}))}function Cd({showingFileBrowserLoader:e}){let t=(0,ee._6)();l.useEffect(()=>{(0,tC.o5)(t)},[t]);let a=function(){let e=(0,s.wA)(),t=(0,eJ.Pc)(),a=(0,eq.dq)(),r=(0,ee._6)(),n=(0,eZ.FC)(),i=(0,s.d4)(e=>e.currentTeamId),o=(0,eq.sZ)(),c=(0,s.d4)(e=>e.teams),d=(0,s.d4)(e=>e.search),m=(0,ht.y)();switch(r.view){case"communityHub":{let{content:e,key:t}=E6(r);return{pageContent:l.createElement(ou.r,{toolbar:void 0,content:e,collapseSidebarOnTabletView:!0,key:t}),CustomPageLayout:E7}}case"deletedFiles":return(0,p.kc)().pdr_trashed_section?{pageHeaderContent:(0,k.t)("file_browser.tool_bar.trash"),pageContent:(0,eG.T8)(l.createElement(v4,{key:"trashed",selectedTab:v2.FILES}),e9.e0.FILE_BROWSER,{view:"trashed"})}:{pageHeaderContent:(0,k.t)("file_browser.tool_bar.deleted"),pageContent:(0,eG.T8)(l.createElement(v4,{key:"deleted",selectedTab:v2.FILES}),e9.e0.FILE_BROWSER,{view:"deleted"})};case"trashedFolders":return m?{pageHeaderContent:(0,k.t)("file_browser.tool_bar.trash"),pageContent:(0,eG.T8)(l.createElement(v4,{key:"trashed",selectedTab:v2.FOLDERS}),e9.e0.FILE_BROWSER,{view:"trashed"})}:null;case"draftsToMove":return{pageHeaderContent:(0,k.t)("file_browser.tool_bar.drafts_to_move"),pageContent:l.createElement(bo,{key:"draftsToMove"})};case"folder":if(r.folderId===t?.drafts_folder_id)return{pageHeaderContent:(0,k.t)("file_browser.tool_bar.drafts"),pageHeaderActions:Cu({from:ha.f6.FILE_BROWSER_TOPBAR_DRAFTS,user:t,currentOrgId:a,folderId:t.drafts_folder_id}),pageContent:(0,eG.T8)(l.createElement(yz,{folderId:r.folderId,key:"drafts",userId:t.id}),e9.e0.FILE_BROWSER_DRAFTS,{orgId:a,teamId:i})};{let e=r.shouldShowRenameModal||!1;return{pageContent:l.createElement(Ta,{folderId:r.folderId,key:`folder-${r.folderId}`,shouldShowRenameModal:e})}}case"workspace":switch(r.subView){case ad.V0.ADMIN:return{pageContent:(0,eG.T8)(l.createElement(A.y$,{workspaceId:r.workspaceId,selectedTab:r.selectedTab}),e9.e0.WORKSPACE_ADMIN_SETTINGS_PAGE,{workspaceId:r.workspaceId,workspaceViewTab:r.selectedTab})};case ad.V0.DIRECTORY:return{pageContent:(0,eG.T8)(l.createElement(lU,null),e9.e0.WORKSPACE_DIRECTORY_PAGE,{workspaceId:r.workspaceId,workspaceGroupViewTab:r.selectedTab})};default:(0,x.assertNever)(r)}case"licenseGroup":if(r.subView===as.GN.ADMIN)return{pageContent:(0,eG.T8)(l.createElement(A.VY,{licenseGroupId:r.licenseGroupId,selectedTab:r.selectedTab}),e9.e0.LICENSE_GROUP_ADMIN_SETTINGS_PAGE,{licenseGroupId:r.licenseGroupId,licenseGroupViewTab:r.selectedTab})};(0,x.assertNever)(r);case"org":return{pageHeaderContent:o?l.createElement(nc,null):void 0,pageHeaderActions:[l.createElement(Tl,{orgId:r.orgId,key:"org-page-header-actions"})],pageContent:(0,eG.T8)(l.createElement(TO,{orgId:r.orgId,selectedTab:r.orgViewTab}),e9.e0.ORG_PAGE,{orgId:r.orgId,orgViewTab:(r.orgViewTab===tK.X.HOME?"HOME":r.orgViewTab)||""})};case"orgAdminSettings":return{pageContent:(0,eG.T8)(l.createElement(A.vW,{selectedTab:r.orgAdminSettingsViewTab,selectedSecondaryTab:r.orgAdminSettingsViewSecondaryTab,selectedExtensionId:r.selectedExtensionId,selectedWorkspaceId:r.selectedWorkspaceId}),e9.e0.ORG_ADMIN_SETTINGS_PAGE,{orgId:a,orgViewTab:r.orgAdminSettingsViewTab,source:r.orgAdminSettingsViewTab||"dashboard",orgViewSecondaryTab:r.orgAdminSettingsViewSecondaryTab})};case"abandonedDraftFiles":return{pageContent:(0,eG.T8)(l.createElement(A.dZ,{abandonedDraftFolderId:r.abandonedDraftFolderId,planType:r.adminPlanType,planId:r.planId}),e9.e0.ABANDONED_DRAFTS_PAGE,r.adminPlanType===hr.O.ORG?{orgId:r.planId}:{teamId:r.planId})};case"orgDomainManagement":let u=[{text:(0,k.t)("general.admin"),onClick:()=>{e(z.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:ac.J7.DASHBOARD}))}},{text:(0,k.t)("org_dashboard.settings"),onClick:()=>{e(z.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:ac.J7.SETTINGS}))}}];return{pageContent:(0,eG.T8)(l.createElement(A.Oe,null),e9.e0.ORG_DOMAIN_MANAGEMENT_PAGE,{orgId:a}),pageHeaderContent:l.createElement(N.B,{items:u})};case"billingGroupDashboard":return{pageContent:(0,eG.T8)(l.createElement(A.wu,null),e9.e0.BILLING_GROUP_DASHBOARD_SETTINGS_PAGE,{orgId:a,orgViewTab:r.selectedTab})};case"recentFiles":return e(z.$T({view:"recentsAndSharing",tab:t4.G.RECENTLY_VIEWED})),null;case"recentsAndSharing":let _=r.tab||t4.G.RECENTLY_VIEWED,f=Cu({from:ha.f6.FILE_BROWSER_TOPBAR_RECENTS,user:t,currentOrgId:a,folderId:t.drafts_folder_id});return{pageHeaderContent:(0,k.t)("file_browser.tool_bar.recents"),pageHeaderActions:f,pageContent:(0,eG.T8)(l.createElement(IE,{selectedTab:_,userId:t.id,accountModalTab:r.accountModalTab,emailPolicyToUnsubscribeFrom:r.emailPolicyToUnsubscribeFrom}),e9.e0.FILE_BROWSER,{view:"recentsAndSharing",userSpace:a?e9.qo.ORG:e9.qo.PERSONAL})};case"resourceUnavailable":return{pageContent:l.createElement(om.S,{resourceType:r.resourceType})};case"search":{let{searchScope:e,query:t}=d.parameters,a=!E.Ay.mobile;return{pageHeaderContent:l.createElement(Cm,{query:t}),pageContent:(0,eG.T8)(l.createElement(ir.bS,null),e9.e0.UNIFIED_SEARCH,{showInternalModal:a&&e!==la.Rx.COMMUNITY,showCommunityModal:a&&e===la.Rx.COMMUNITY})}}case"sharedWithYou":return{pageContent:l.createElement(Iw,{tab:r.tab})};case"limitedTeamSharedProjects":return{pageContent:l.createElement(Tr,null)};case"team":{let e=c[r.teamId],t=r.teamViewTab??(0,tQ.ZP)(e,n);return{pageContent:(0,eG.T8)(l.createElement(I$,{teamId:r.teamId,selectedTab:t,upgradeModalType:r.upgradeModalType,showProOnboardingModal:r.isProUpgrade,key:`team-${r.teamId}`}),e9.e0.TEAM_PAGE,{teamId:r.teamId,canUpgradeToPro:(0,eN.hp)(e,n),userSpace:a?e9.qo.ORG:e9.qo.PERSONAL,canEdit:(0,eS.canEditTeam)(r.teamId,n)})}}case"teamAdminConsole":{let e=r.teamAdminConsoleViewTab??(r.isProTeam?ek.I.DASHBOARD:ek.I.MEMBERS);return{pageContent:(0,eG.T8)(l.createElement(A.JC,{teamId:r.teamId,selectedTab:e,shouldShowDevModeSuggestedUpgradesModal:!!r.shouldShowDevModeSuggestedUpgradesModal}),e9.e0.TEAM_ADMIN_PAGE,{teamId:r.teamId,teamAdminConsoleViewTab:e})}}case"teamFeed":let g=[{text:(0,k.t)("fig_feed.feed"),onClick:()=>{e(z.$T({view:"teamFeed"}))}}],h=[l.createElement(hO,{key:"create-feed-post-button"})];return{pageHeaderContent:l.createElement(N.B,{items:g}),pageHeaderActions:h,pageContent:l.createElement(C_,{postUuid:r.postUuid,creatorId:r.creatorId})};case"user":return{pageHeaderContent:(0,k.t)("internal_profile.profile"),pageHeaderActions:t.community_profile_handle&&t.id===r.userId?[l.createElement(TV,{key:"viewCommunityProfileAction"})]:void 0,pageContent:l.createElement(Cc,{userId:r.userId,tab:r.userViewTab,orgId:r.orgId})};default:return null}}();if(!a)return null;let{CustomPageLayout:r,pageContent:n}=a;return r?l.createElement(v5,null,l.createElement(r,null,!e&&n)):l.createElement(v5,null,l.createElement(i4,{showingFileBrowserLoader:e,pageHeaderContent:a.pageHeaderContent,pageHeaderActions:a.pageHeaderActions},n))}function Cm(e){return e.query?l.createElement("div",{className:S.cx.flex.columnGap8.$},l.createElement("span",{className:S.cx.flexShrink0.$},l.createElement(L.E,{color:"secondary"},(0,k.tx)("search.search_results_for"))),l.createElement("div",{className:S.cx.flex.fontMedium.minW0.$},"\u201C",l.createElement(L.E,{truncate:!0},e.query),"\u201D")):l.createElement("div",{className:S.cx.flex.columnGap8.$},l.createElement("span",{className:S.cx.flexShrink0.$},l.createElement(L.E,{color:"secondary"},(0,k.tx)("search.search_results"))))}function Cu({from:e,user:t,currentOrgId:a,folderId:r}){if((0,p.kc)().ps_benchmark&&t&&(0,e1.R$)(t,a))return[];let n=e===ha.f6.FILE_BROWSER_TOPBAR_RECENTS?l.createElement(wW,{key:"resourceCreationAction",from:e,dropdownType:wC.x,disabled:!1,folderId:r,leftContent:l.createElement(TM,null)}):l.createElement(wH,{key:"resourceCreationAction",from:e,dropdownType:wC.x,disabled:!1,folderId:r}),i=l.createElement(fL.p,{key:"jamboardImporter"},l.createElement(yr,null));return[l.createElement(TU,{key:"getDesktopApp"}),n,i]}function C_(e){return(0,he.w)()?l.createElement(hH,{postUuid:e.postUuid,creatorId:e.creatorId}):null}var Cp=a(787133),Cf=a(158875),Cg=a(797129),CE=a(446520),Ch=a(310908),Cv=a(758259),Cy=a(416618),Cb=a(622139);let Cw="add_collaborators--emailListItem--dnvC-";function CT({selectedView:e}){let[t,a]=l.useState(["","",""]),r=(0,s.d4)(t=>t.teams[e.teamId]),n=(0,s.d4)(e=>e.teamCreation),i=(0,s.d4)(e=>e.payment),o=(0,s.wA)(),c=l.useCallback(()=>{r&&o(z.$T({view:"team",teamId:r.id}))},[o,r]),d=l.useCallback((e,r)=>{if(r>=t.length)return;let n=[...t];n[r]=e,a(n)},[t]),m=l.useCallback(()=>{a([...t,""])},[t]),u=l.useCallback(()=>{let e=!!n.isEduTeam;i.promo?o(Cv.g_({teamId:r.id,teamName:r.name,previousView:{view:"team",teamId:r.id}})):e?o(yc.Vm({teamId:r.id,showBreadcrumbs:!0})):o(z.$T({view:"teamUpgrade",teamFlowType:iT.SC.UPGRADE_EXISTING_TEAM,teamId:r.id,paymentStep:Cb.tn.UPGRADE_NEW_TEAM,previousView:{view:"team",teamId:r.id},planType:iT.Sc.TEAM}))},[o,r,i.promo,n.isEduTeam]),_=l.useCallback(()=>t.filter(e=>e).map(e=>e.trim()),[t]),p=l.useCallback(()=>{o((0,Cy.rq)({emails:_(),resourceType:e0.vt.TEAM,resourceIdOrKey:r.id,level:e5.e6.EDITOR,onSuccess:()=>{o(ws.r1({loading:!1})),u()}}))},[_,r,u,o]);return l.createElement(eG.fu,{name:"Add Collaborators",properties:{teamId:r?.id}},l.createElement("div",null,l.createElement(Cg.O,{menu:l.createElement(Cf.X,{onClick:c},l.createElement(H.B,{svg:i_.default,className:"add_collaborators--modalCloseX--sJGp5"}))},l.createElement(Ch.J,{index:2}),l.createElement(CE.JR,null,(0,k.tx)("team_creation.add_your_collaborators")),l.createElement(CE.Kh,null,(0,k.tx)("team_creation.you_can_update_user_permissions_on_the_team_page_after_setting_up")),l.createElement("div",{className:"add_collaborators--formContainer--zTKXv"},l.createElement("div",{className:"add_collaborators--emailInputsContainer--19ZBc"},t.map((e,t)=>l.createElement(tF.il,{key:`collaborator-email-input-${t}`,className:Cw,value:e,onChange:e=>d(e.target.value,t),maxLength:255,placeholder:(0,k.t)("team_creation.email")}))),l.createElement(tF.nR,{className:Cw,onClick:m},(0,k.tx)("team_creation.add_another")),l.createElement("div",{className:"add_collaborators--spacing--2VA7s"}),l.createElement("div",{className:"add_collaborators--ctaContainer--VGMvb"},l.createElement(tF.nD,{disabled:0===_().length,onClick:p,trackingProperties:{numCollaborators:_().length}},(0,k.tx)("team_creation.continue")),l.createElement(tF.Ph,{onClick:u,trusted:!0},(0,k.tx)("team_creation.skip_for_now")))))))}var CI=a(994190),CC=a(316082),Cx=a(632376),CN=a(955066),CS=a(63104),Ck=a(132367),CL=a(167198);let CA=["recentFiles","folder","team","search","recentsAndSharing"];function CR(){let e=(0,s.d4)(e=>e.autosave),t=(0,ee._6)(),a=(0,CC.y)(),{unsyncedFiles:r,localUnsyncedFiles:n}=(0,yl.Gg)();return!a||null!=e.lastSnoozeTime&&Date.now()-e.lastSnoozeTime<864e5?null:(r.length>0||n.length>0)&&CA.includes(t.view)?l.createElement(CO,{unsyncedFiles:r,localUnsyncedFiles:n}):null}let CF=!1;function CO(e){let t=(0,s.wA)();l.useEffect(()=>{let e=()=>{t(CN.Jw())};return Ck.hp.register(Ck.a,e),function(){Ck.hp.unregister(Ck.a,e),t(e$.ES({type:Cx.EO.type}))}},[t]);let a=(0,ee._6)(),[r,n]=l.useState(!1);l.useEffect(()=>{CF||(CF=!0,(0,CI.Mw)()),r||(n(!0),(0,ei.sx)("Autosave Notification",{hasUnsyncedFiles:e.unsyncedFiles.length>0,hasLocalUnsyncedFiles:e.localUnsyncedFiles.length>0,firstUnsyncedFile:e.unsyncedFiles.length>0?e.unsyncedFiles[0].fileKey:null,firstLocalUnsyncedFile:e.localUnsyncedFiles.length>0?e.localUnsyncedFiles[0].fileKey:null,view:a.view},{forwardToDatadog:!0}))},[t,e.unsyncedFiles,e.localUnsyncedFiles,r,a]);let i=(0,eJ.iZ)(),o=[...e.unsyncedFiles,...e.localUnsyncedFiles];if(0===o.length||!i)return l.createElement(l.Fragment,null);let c=o.length>1,d=o[0],u=(0,CS.y8)(d)?d.file.name:d.name,_=u.length>40?u.substring(0,40)+"\u2026":u,p=c?(0,k.t)("autosave.notification.message.more_than_one_file"):(0,k.t)("autosave.notification.message.one_file",{fileName:_}),f=c?(0,k.tx)("autosave.notification.action_review"):(0,k.tx)("autosave.notification.action_open_to_sync");return l.createElement("div",{className:"autosave_notification--notification--u3sx0 text--_negText--j9g-L"},l.createElement(H.B,{className:"autosave_notification--icon--uvtXB",svg:CL.A,width:"24",height:"24"}),l.createElement("div",{className:"autosave_notification--message--yAhFz"},p),l.createElement("div",{className:"autosave_notification--actions--dk-yq"},l.createElement("div",{className:"autosave_notification--mainAction--sidqJ autosave_notification--action--Brz-5",onClick:()=>{c?t(e$.to({type:Cx.EO})):(0,CS.y8)(d)?m.Ay.redirect((0,rr.r1)(d.file,!0),"_blank"):t(h7.NA({file:d,openNewFileIn:ha.ai.NEW_TAB,source:vo.U.AUTOSAVE_NOTIFICATION}))}},f),l.createElement("div",{className:"autosave_notification--action--Brz-5",onClick:()=>{(0,ei.sx)("Autosave Notification Snooze",{files:o.length,firstFile:d.fileKey}),t(CN.zE(Date.now()))}},(0,k.tx)("autosave.notification.action_later"))))}var CP=a(27182),CD=a(75395),CM=a(310885),CB=a(761070);function CU(){return(0,CC.w)()?null:l.createElement(CV,null)}function CV(){let[e,t]=l.useState(!0);return l.createElement("div",{className:"offline_notification--notification--hEP5F notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l"},l.createElement(H.B,{className:CM.Kk,svg:CB.A,width:"24",height:"24"}),l.createElement("div",{className:CM.iU},(0,k.tx)(e?"file_browser.offline_notification.youre_offline_message_body":"file_browser.offline_notification.youre_offline_message_body_no_create",{youreOfflineMessagePrefix:l.createElement("span",{className:"offline_notification--messageBold--QAlE3"},(0,k.tx)("file_browser.offline_notification.youre_offline_message_prefix"))})),e&&l.createElement("div",{className:CM.o1},l.createElement(CH,{onClick:()=>t(!1)})))}function CH({onClick:e}){let t=(0,s.wA)(),a=(0,bg.B)();return l.createElement(CD.E,{className:"offline_notification--createFileButton--BWecZ notification--action--v-pvn text--_negText--j9g-L",onClick:()=>{e(),t(h7.zE({state:a,editorType:e0._Y.DESIGN,team:void 0,from:ha.f6.OFFLINE_NOTIFICATION,openNewFileIn:ha.ai.SAME_TAB}))}},(0,k.tx)("file_browser.offline_notification.create_file"))}let CW="team-org-access-dropdown";function Cj(e){let t=(0,s.wA)(),a=e.dropdownShown&&e.dropdownShown.type===CW;return l.createElement("div",{className:"team_org_access_dropdown--orgAccess--JAIwP"},l.createElement("button",{className:"team_org_access_dropdown--select--lqx54",onClick:e=>{e.stopPropagation(),e.preventDefault(),a?t(z.oB()):t(z.j7({type:CW}))}},(0,e1.ZP)()[e.orgAccess],l.createElement(H.B,{svg:rK.A,className:"team_org_access_dropdown--downCaret--INuva"})),a&&l.createElement("div",{className:"team_org_access_dropdown--orgAccessDropdownContainer--iVvqn"},l.createElement(ok.ms,{className:"team_org_access_dropdown--orgAccessDropdown--zJupm"},l.createElement(ok.MM,{checked:e.orgAccess===e0.bU.PUBLIC,onClick:()=>{e.onChangeOrgAccess(e0.bU.PUBLIC)}},(0,e1.ZP)()[e0.bU.PUBLIC]),l.createElement(ok.MM,{checked:e.orgAccess===e0.bU.PRIVATE,onClick:()=>{e.onChangeOrgAccess(e0.bU.PRIVATE)}},(0,e1.ZP)()[e0.bU.PRIVATE]),l.createElement(ok.MM,{checked:e.orgAccess===e0.bU.SECRET,onClick:()=>{e.onChangeOrgAccess(e0.bU.SECRET)}},(0,e1.ZP)()[e0.bU.SECRET]))))}let C$="team_creation--createTeamText--VjY8f";function CG({currentTeamId:e,currentUserOrgId:t,user:a,selectedView:r,dropdownShown:n,teamCreation:i,orgById:o}){var c;let d=(0,s.wA)(),[u,_]=(0,l.useState)(null),[f,g]=(0,l.useState)(e0.bU.PUBLIC),E=r.ignoreCurrentPlan,h=t&&!E?o[t]:null,v=!e&&!t,y=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(y.current)for(let e=0;e<y.current.elements.length;e++){let t=y.current.elements[e];if(!t.value){t.focus();break}}t&&!E&&(0,ei.sx)("team_creation_started",{user_id:a?.id??"",org_id:t})},[t,a,E]);let b=e=>{e.preventDefault(),e.stopPropagation(),u?(d((0,eK.KQ)({teamName:u,orgAccess:f,dontRedirect:!!r.onSubmitReturnToPrevView,ignoreCurrentPlan:E})),r.onSubmitReturnToPrevView&&d(z.$T((0,m.Gl)()||{view:"recentFiles"}))):d(W.s.error((0,k.t)("team_creation.your_team_name_cannot_be_empty")))},w=!(t&&!E)&&!r.onSubmitReturnToPrevView,T=(0,p.kc)().ps_benchmark&&v?null:l.createElement(Cf.X,{onClick:()=>{d(z.$T((0,m.Gl)()||{view:"recentFiles"}))}},l.createElement(H.B,{svg:i_.default,className:"team_creation--modalCloseX--TTg32"}));return l.createElement(eG.fu,{name:"Team Creation"},l.createElement("div",null,l.createElement(Cg.O,{menu:T},w&&l.createElement(Ch.J,{index:1}),l.createElement("form",{ref:y,onSubmit:b},l.createElement(CE.JR,null,(0,k.tx)("team_creation.create_a_team_title")),l.createElement("div",{className:"team_creation--newTeamContainer--43mWz team_creation--newTeamContainerBase--nwYzU"},l.createElement("div",{className:"team_creation--teamNameContainer--B6Pc3"},l.createElement("div",{className:"team_creation--teamNameLabel--ohZWy"},(0,k.tx)("team_creation.team_name_label")),l.createElement(tF.il,{value:u||"",onChange:e=>{_(e.target.value)},className:"team_creation--newTeamInput--PdjEW",maxLength:255,placeholder:(0,k.t)("team_creation.team_name_input_placeholder")})),h?l.createElement("div",{className:"team_creation--orgTeamSettings--bDW2R"},l.createElement("div",{className:S.cx.flex.$},l.createElement("div",{className:S.cx.fontSemiBold.$},(0,k.tx)("team_creation.access_within_the_organization")),l.createElement(Cj,{orgAccess:f,dropdownShown:n,onChangeOrgAccess:e=>{g(e)}})),l.createElement("div",{className:C$},(c=h.name,{[e0.bU.PUBLIC]:(0,k.tx)("org_access_strings.public.description_with_org_name",{orgName:c}),[e0.bU.PRIVATE]:(0,k.tx)("org_access_strings.closed.description_with_org_name",{orgName:c}),[e0.bU.SECRET]:(0,k.tx)("org_access_strings.secret.description_with_org_name",{disclaimerLabel:l.createElement("span",{className:S.cx.fontSemiBold.$},(0,k.tx)("org_access_strings.secret.description.disclaimer_label")),orgName:c})})[f])):l.createElement("div",{className:C$},(0,k.tx)("team_creation.after_creating_a_team_you_can_invite_others_to_join")),l.createElement(tF.nD,{className:t?"team_creation--createTeamButtonOrg--2rnOw":"team_creation--createTeamButton--C8IV7",type:"submit",disabled:i.loading,onClick:b},(0,k.tx)("team_creation.create_team_button")))))))}function CY({selectedView:e}){let t=(0,s.wA)(),a=(0,eq.dq)(),r=(0,s.d4)(e=>e.orgById),n=(0,eJ.iZ)(),i=(0,s.d4)(e=>e.currentTeamId),o=(0,J.Um)(),c=(0,s.d4)(e=>e.teamCreation),d=a?r[a]:null,u=t9.a9()?.workspace_users?.find(e=>e.is_main_workspace)?.workspace_id,{cannotCreateTeamReason:_}=(0,aa.l6)(d,u);return(0,e1.R$)(n,a)||_===aa.z4.TEAM_CREATION_CONTROL&&!(0,p.kc)().ps_benchmark?(m.Ay.redirect("/"),t(W.s.error((0,k.t)("team_creation.missing_team_creation_controls"))),null):l.createElement(CG,{currentTeamId:i,currentUserOrgId:a,user:n,dropdownShown:o,teamCreation:c,orgById:r,selectedView:e})}let Cz="team_restore--page--cMEe2",CQ="team_restore--section--AmfWe",CK="team_restore--button--C-gOz";function Cq({selectedView:e}){let t,a;let r=(0,s.wA)(),[n,i]=l.useState(!1),o=e.teamId,c=(0,s.d4)(e=>e.teams[o]);l.useEffect(()=>{i(!0),nk.$.getDeleted({teamId:o}).then(({data:e})=>{r(ws.bE({team:e.meta})),i(!1)}).catch(e=>{400!==e.status&&(r(z.$T({view:"recentFiles"})),r(W.s.error(`${e.data.message}`))),i(!1)})},[r,o]);let d=()=>{r(z.$T({view:"recentFiles"}))},m=l.createElement(tF.vd,{className:CK,onClick:d},(0,k.tx)("team_restore.back"));if(c){if(c.deleted_at){let e=(0,tU.A)(c.deleted_at).add(28,"days").toDate();t=(0,k.t)("team_restore.confirm_restore_header",{teamName:c.name}),a=l.createElement("div",null,(0,k.tx)("team_restore.confirm_restore"),l.createElement("br",null),l.createElement("br",null),(0,k.tx)("team_restore.confirm_restore_deadline",{deleteDeadline:e})),m=l.createElement(tF.vd,{className:CK,onClick:()=>{r(ws.I9({teamId:o}))}},(0,k.tx)("team_restore.restore"))}else t=(0,k.t)("team_restore.ineligible"),a=(0,k.t)("team_restore.questions_contact_support",{supportEmail:(0,p.W4)()})}else{if(n)return l.createElement("div",{className:Cz},l.createElement("div",{className:CQ},l.createElement(tP.kt,null)));t=(0,k.t)("team_restore.expired_header"),a=l.createElement("div",null,(0,k.tx)("team_restore.expired"),l.createElement("br",null),l.createElement("br",null),(0,k.tx)("team_restore.questions_contact_support",{supportEmail:(0,p.W4)()}))}return l.createElement(eG.fu,{name:"Team Restore",properties:{teamId:o}},l.createElement(Cg.O,{menu:l.createElement(H.B,{svg:i_.default,onClick:d,className:"team_restore--modalCloseX--XNErW"})},l.createElement("div",{className:Cz},l.createElement("div",{className:CQ},l.createElement("div",{className:"team_restore--header--NgU8v text--fontPos20--Bcz97 text--_fontBase--QdLsd"},t),l.createElement("div",{className:"team_restore--text--F18dW text--fontPos12--YsUAh text--_fontBase--QdLsd"},a),m))))}var CZ=a(710667),CX=a(304769),CJ=a(978779),C0=a(49891),C1=a(63212);let C2="legacy_upgrade--closeButton--zJ0JO";var C4=a(258933);function C8({selectedView:e}){let t=(0,s.wA)(),a=(0,s.d4)(t=>t.teams[e.teamId]),{taxes:r,numDesignEditors:n,numWhiteboardEditors:i,submitPending:o}=(0,s.d4)(e=>e.payment),c=(0,s.d4)(e=>e.teamUserByTeamId[a.id]||{}),d=(0,s.d4)(e=>e.teamBilling.summary.currency),m=(0,s.d4)(e=>e.loadingState),u=yV.Be.loadingKeyForPayload({teamId:a.id}),_=(0,fn.VP)(m,u)&&!(0,fn.D2)(m,u),p=(0,CZ.N1)(CZ.Fq.TEAM_ADMIN_CONSOLE),f=_||"loading"===p.status;if((0,l.useEffect)(()=>{(0,fn.VP)(m,u)||(0,fn.D2)(m,u)||t(yV.Be({teamId:a?.id}))},[m,t,u,a?.id]),f)return l.createElement(tP.kt,{className:C1.w8});let g=l.createElement(H.B,{svg:i_.default,onClick:()=>{(0,ei.sx)("Add Annual Plan Canceled",{teamId:e.teamId}),window.history.length<=1?t(z.$T({view:"team",teamId:e.teamId})):history.go(-1)},className:C2}),E=a.editors,h=Object.keys(c).filter(e=>c[e]?.whiteboard_paid_status===w8.Zf.FULL).length,v=new gf.vr(d),y=(0,CJ.He)(p.data,v.currency,CX.ud.DESIGN),b=(0,CJ.He)(p.data,v.currency,CX.ud.FIGJAM),w=(0,CJ.G7)(p.data,v.currency,CX.ud.DESIGN),T=(0,CJ.G7)(p.data,v.currency,CX.ud.FIGJAM);return l.createElement("div",{className:"legacy_upgrade--addAnnualPlan--ZH1cn"},l.createElement(Cg.O,{menu:g},l.createElement(eG.fu,{name:"Step Pay"},l.createElement("div",{className:C4.yU},l.createElement(CE.JR,null,(0,k.tx)("payments.add_annual_plan.title")),l.createElement(CE.Kh,null,l.createElement("p",{className:"legacy_upgrade--addAnnualPlanInstructions--MmsnZ"},(0,k.tx)("payments.add_annual_plan.intro.seat_rename",{monthlyDesignEditorCost:v.formatMoney(y,{showCents:!1}),monthlyFigjamEditorCost:v.formatMoney(b,{showCents:!1})}))),l.createElement("div",{className:C4.fI},l.createElement(C0.tG,{totalDesignEditors:E,totalWhiteboardEditors:h,numAnnualDesignEditors:n||0,numAnnualWhiteboardEditors:i||0,onNumAnnualDesignEditorsChange:e=>{t(yc.js({numDesignEditors:e}))},onNumAnnualWhiteboardEditorsChange:e=>{t(yc.Az({numWhiteboardEditors:e}))},showAdminPage:()=>{t(z.$T({view:"team",teamId:e.teamId,teamViewTab:ek.A.SETTINGS}))},isTeamPro:!0,dispatch:t,taxes:r,teamId:e.teamId,currency:d,submitPending:o,monthlyDesignAmount:y,monthlyFigjamAmount:b,annualMonthlyDesignAmount:w,annualMonthlyFigjamAmount:T}),l.createElement("form",{onSubmit:a=>{a.preventDefault(),t(t5.b({completed_pro_cart_flow:!0})),t(yc.I2({submitPending:!0})),t(yc.XF({teamId:e.teamId}))}},l.createElement("div",{className:C4.ay},(0,k.tx)("payments.add_annual_plan.auto_renew.seat_rename",{cancellingIsEasyLink:l.createElement("a",{target:"_blank",rel:"noopener",href:"/pricing-faq#how-do-i-cancel-my-paid-plan"},(0,k.tx)("payments.add_annual_plan.cancelling_is_easy_link_text"))}),l.createElement("br",null),l.createElement("br",null),(0,k.tx)("payments.add_annual_plan.tos",{tosLink:l.createElement("a",{target:"_blank",rel:"noopener",href:"/tos"},(0,k.tx)("payments.add_annual_plan.tos_link_text"))})),l.createElement("div",{className:`${C4.Ou} ${C4.nM}`},l.createElement(tF.vd,{type:"submit",disabled:o,className:`${C4.XX}`},(0,k.tx)("payments.add_annual_plan.cta_text")))))))))}var C3=a(625223);function C5(e){let t=(0,eJ.iZ)(),[a,r]=l.useState(()=>(0,gf.LN)()),n=e8.b.UPGRADE_NEW_TEAM,i=(0,s.wA)(),o=(t,r)=>{let n=e.selectedView;i(yc.WX({teamId:e.selectedView.teamId,selectedView:n,newTeam:!0,currency:a,billingPeriod:r}))},c=null===e.selectedView.teamId?void 0:()=>{let a=(0,p.kc)().ps_benchmark,r=t?.id;if(a&&r){let t={userId:r,orgId:null,teamId:e.selectedView.teamId};i(Q._l({workspace:t,view:{view:"allProjects"}}))}else i(z.$T({view:"team",teamId:e.selectedView.teamId}))},d=e.selectedView.teamId,m=l.useRef(null);return l.createElement(eG.fu,{name:"Upgrade Team",properties:{teamId:d,step:Cb.tn.UPGRADE_NEW_TEAM}},l.createElement("div",{className:"legacy_upgrade--teamUpgrade--auGJz"},l.createElement(Cg.O,{menu:l.createElement(Cf.X,{onClick:()=>{let a=(0,p.kc)().ps_benchmark,r=t?.id,n=e.selectedView.teamId;if(a){let t={view:"recentFiles"};r&&n?i(Q._l({workspace:{userId:r,teamId:n,orgId:null},view:e.selectedView.previousView||t})):i(z.$T(e.selectedView.previousView||t))}else i(z.$T(e.selectedView.previousView||(n?{view:"team",teamId:n}:{view:"recentFiles"})))}},l.createElement(H.B,{svg:i_.default,className:C2})),pageRef:m},l.createElement(Ch.J,{index:3}),l.createElement(eG.fu,{name:"Upgrade New Team",properties:{teamId:d,trackingDescriptor:ep.c.UPGRADE_YOUR_TEAM}},l.createElement("div",{className:D()(e.className,{"step_upgrade_new_team--container--BixhQ":!0})},l.createElement(CE.JR,{className:"step_upgrade_new_team--stepTitleComparisonChart--yyzB5 step_upgrade_new_team--stepTitle--yFYG8"},l.createElement("span",null,(0,k.tx)("plan_details.choose_your_team_plan"))),l.createElement(C3.O,{currency:a,chooseStarterPlan:c,chooseProPlan:e=>o(null,e),chooseOrgPlan:()=>{i(yc.Bq({currency:a,upsellSource:n}))},updateCurrency:e=>{r(e),i(z.oB())},upsellSource:n,parentRef:m}))))))}var C9=a(340159),C6=a(657193),C7=a(611886),xe=a(351226),xt=a(833629),xa=a(966537);function xr(){return l.createElement("svg",{width:"310",height:"167",viewBox:"0 0 310 167",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.createElement("rect",{x:"280.007",y:"103.275",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"280.007",y:"124.465",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"280.007",y:"113.871",width:"9.9157",height:"10.5949",fill:"#B98E01"}),l.createElement("rect",{x:"299.833",y:"103.275",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"299.833",y:"124.465",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"299.833",y:"113.871",width:"9.9157",height:"10.5949",fill:"#B98E01"}),l.createElement("rect",{x:"289.928",y:"103.275",width:"9.9157",height:"10.5949",fill:"#B98E01"}),l.createElement("rect",{x:"289.928",y:"124.465",width:"9.9157",height:"10.5949",fill:"#B98E01"}),l.createElement("rect",{x:"289.928",y:"113.871",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"280.007",y:"134.49",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"280.007",y:"155.679",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"280.007",y:"145.085",width:"9.9157",height:"10.5949",fill:"#B98E01"}),l.createElement("rect",{x:"299.833",y:"134.49",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"299.833",y:"155.679",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("rect",{x:"299.833",y:"145.085",width:"9.9157",height:"10.5949",fill:"#B98E01"}),l.createElement("rect",{x:"289.928",y:"134.49",width:"9.9157",height:"10.5949",fill:"#B98E01"}),l.createElement("rect",{x:"289.928",y:"155.679",width:"9.9157",height:"10.5949",fill:"#B98E01"}),l.createElement("rect",{x:"289.928",y:"145.085",width:"9.9157",height:"10.5949",fill:"#FFC9C1"}),l.createElement("circle",{cx:"10.751",cy:"63.5",r:"10.5",fill:"#FF01E6"}),l.createElement("circle",{cx:"31.751",cy:"63.5",r:"10.5",fill:"#FFC9C1"}),l.createElement("circle",{cx:"10.751",cy:"84.5",r:"10.5",fill:"#0A5C35"}),l.createElement("circle",{cx:"31.751",cy:"84.5",r:"10.5",fill:"#FF7237"}),l.createElement("rect",{width:"161",height:"106",transform:"translate(76.2148 28.0273)",fill:"#874FFF"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M101.186 28.0273C115.125 28.0273 126.424 39.3269 126.424 53.2657C126.424 67.2045 115.125 78.5041 101.186 78.5041H76.2158L76.2158 28.0273L101.186 28.0273ZM76.2191 83.5506H126.427V134.027H76.2191V83.5506ZM181.319 83.5501L131.111 83.5501L131.111 108.923C131.111 122.787 142.351 134.027 156.215 134.027C170.08 134.027 181.319 122.787 181.319 108.923L181.319 83.5501ZM186.006 134.027V83.5506V33.0739H236.215V83.5506C236.215 111.28 213.735 134.027 186.006 134.027Z",fill:"#95B9AC"}),l.createElement("rect",{x:"126.087",y:"83.5518",width:"5.02083",height:"25.5749",fill:"#95B9AC"}),l.createElement("rect",{x:"76.2148",y:"83.5518",width:"5.04767",height:"25.4389",transform:"rotate(-90 76.2148 83.5518)",fill:"#95B9AC"}),l.createElement("rect",{x:"180.983",y:"83.5518",width:"5.02083",height:"25.5749",fill:"#95B9AC"}),l.createElement("rect",{x:"60.251",y:"12",width:"16",height:"16",fill:"#33DFDF"}),l.createElement("rect",{x:"60.251",y:"134",width:"16",height:"16",fill:"#33DFDF"}),l.createElement("rect",{x:"237.251",y:"134",width:"16",height:"16",fill:"#33DFDF"}),l.createElement("rect",{x:"195.738",width:"85",height:"85",fill:"#0A5C35"}),l.createElement("path",{d:"M214.06 53.9162C219.483 51.1514 260.1 29.4353 256.283 27.5269",stroke:"#67FF7F",strokeWidth:"5.5",strokeLinecap:"round"}),l.createElement("path",{d:"M225.934 13.0127C231.093 24.7758 243.087 48.6871 243.087 61.8329",stroke:"#67FF7F",strokeWidth:"5.5",strokeLinecap:"round"}),l.createElement("path",{d:"M247.047 13.6724C242.127 26.6618 233.88 55.8409 227.915 67.7704",stroke:"#67FF7F",strokeWidth:"5.5",strokeLinecap:"round"}),l.createElement("path",{d:"M214.06 32.8047C230.842 33.737 255.224 44.4138 269.478 53.9161",stroke:"#67FF7F",strokeWidth:"5.5",strokeLinecap:"round"}))}function xn(e){return l.createElement(eG.fu,{name:"Continue Duplication after Verification Modal"},l.createElement(r6.XV,{headerSize:"hidden",maxWidth:348,containerClassName:"continue_after_verification--modalContainer--L-0LF",innerContainerClassName:"continue_after_verification--innerModal--JmgbP",title:" ",onClose:e.onClose,paddingLeft:40,paddingRight:40},l.createElement("div",{className:S.cx.mxAuto.$},l.createElement(xr,null)),l.createElement("h1",{className:"continue_after_verification--title---5Cuw"},(0,k.tx)("community.duplicate_modal.youre_all_set")),l.createElement("div",null,(0,k.tx)("community.duplicate_modal.youve_verified_your_email_at",{userEmail:l.createElement("b",null,e.userEmail)})),l.createElement(tF.LA,{fullWidth:!0,onClick:e.onDuplicateClick,type:"button",role:"button",trackingProperties:{trackingDescriptor:ep.c.CONTINUE_TO_FILE}},(0,k.tx)("community.duplicate_modal.continue_to_file"))))}let xi=(0,aL.Ju)(function(e){let t=(0,s.d4)(e=>e.user?.email),a=(0,s.wA)(),r=(0,s.d4)(t=>t.hubFiles[e.hubFileId]),n=fn.mC(Ej.ts.loadingKeyForPayload({hubFileId:e.hubFileId})),i=(0,ee._6)(),o=()=>{a(e$.Ce())};return(l.useEffect(()=>{r||a(Ej.ts({hubFileId:e.hubFileId}))},[a,r,e.hubFileId]),n)?t&&(r||!n)?l.createElement(xn,{onClose:o,userEmail:t,onDuplicateClick:()=>{a(t5.b({signed_up_from_community:!0}));let t=C7.gE(e=>{a((0,e$.to)({type:xe._,data:{payload:e}}))},{isFreemiumPreview:e.isFreemiumPreview});o(),a(t(r)),new URLSearchParams(m.Ay.location.search).has(dg._O)&&a(z.$T({...i,triggerFreemiumPreview:void 0}))}}):(o(),null):null},"ContinueAfterVerificationModal");var xo=a(186799),xl=a(472503);function xs(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.fileImport.step),r=(0,xo.B2)().unwrapOr(!1),[n,i]=l.useState(!1),o=l.useCallback(()=>i(!0),[]),c=l.useCallback(()=>i(!1),[]),d=l.useCallback(e=>{i(!1),r&&t((0,xo.b6)({dataTransfer:e}))},[t,r]);return l.createElement(U.Y,{className:S.cx.flex.flexColumn.$,isDragTarget:xo.al,onTargetDragEnter:o,onTargetDragLeave:c,onTargetDrop:d},e.children,r&&l.createElement(xc,{step:a,dragging:n}))}function xc({step:e,dragging:t}){switch(e){case xl.Y5.CONFIRM_PDF_IMPORT:return null;case xl.Y5.START:case xl.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case xl.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return l.createElement("div",{className:t?"file_browser_drop_zone--dragTargetDragging--giyPY file_browser_drop_zone--dragTargetNormal--TOR0f":"file_browser_drop_zone--dragTargetNormal--TOR0f"});default:(0,x.assertNever)(e)}}let xd="file_browser_view--filebrowserHtml--v2BLN",xm="file_browser_view--filebrowserBody--6MX2i",xu="file_browser_view--desktop--5VrC1";function x_(){let e=(0,s.wA)(),t=(0,eq.dq)(),a=(0,J.Um)(),r=(0,eJ.iZ)(),n=(0,s.d4)(e=>e.userFlags),i=(0,ee._6)(),o=Cp.q.useIsLoading(),x=(0,s.d4)(e=>e.payment),N=(0,s.d4)(e=>e.currentTeamId),S=(0,tN.d)();!function(){let e=(0,s.Pj)(),t=l.useMemo(()=>(0,cp.g)(),[]),a=(0,np.Rs)(ng.__y,{cacheNonce:t});l.useEffect(()=>{if("loaded"===a.status&&a.data.currentUser.assetTransferReload.status===tR.tT.Loaded){let t=(0,tR.oA)(a.data.currentUser.assetTransferReload);if(!t)return;let r=p.Ay().user_data?.id,n=e.getState(),i="folder"===n.selectedView.view&&n.selectedView.folderId===t.folderId,o="team"===n.selectedView.view&&n.selectedView.teamId===t.teamId,l="folder"===n.selectedView.view&&n.folders[n.selectedView.folderId],s=l&&l.team_id===t.teamId,c=t.folderId?i:o||s,d={view:"folder",folderId:t.folderId||""},m={view:"team",teamId:t.teamId||"",teamViewTab:ek.A.HOME};if(r&&t.userId===r){let a={userId:t.userId,orgId:t.destOrgId},r=t.folderId?d:m;if(c){let n=t.folderId?(0,k.t)("realtime.asset_reload.project_has_been_transferred_redirecting"):(0,k.t)("realtime.asset_reload.team_has_been_transferred_redirecting");e.dispatch(aJ.F.enqueue({message:n})),setTimeout(()=>{e.dispatch(Q._l({workspace:a,view:r}))},2e3)}else e.dispatch(z.Dl({now:!0}))}}},[e,a])}(),(0,u.h)(()=>{r&&e(CN.Jw())}),(0,f.IT)((0,C9.XZ)({currentOrgId:t??void 0,currentTeamId:N??void 0,fileTags:["figjam_template","figma_basics"]}),{enabled:(0,p.kc)().create_starter_files_from_file_browser&&iT.Gn.includes(i.view)});let[L,A]=l.useState(0),[R,F]=l.useState(0),[O,P]=l.useState(!1);(0,u.h)(()=>(document.body.classList.add(xm),document.documentElement.classList.add(xd),(0,mT.OS)(e),(0,tC.I0)(i,t,N,S),(0,h.hW)("exp_aa_test_file_browser_view").catch(g.lQ),"communityHub"===i.view&&function(e,t){let a=t.figjam_editor_onboarded||(0,xt._q)(t)||t.editor_community_duplicate_onboarded||t.orgs_onboarded||t.welcome_onboarded,r=(0,wc.QL)("after-auth-duplicate-file-id"),n=(0,wc.QL)("show_eula");r&&(n?e((0,e$.to)({type:xa.F,data:{hubFileId:r}})):a||e((0,e$.to)({type:xi,data:{hubFileId:r}})))}(e,n),()=>{document.body.classList.remove(xm),document.documentElement.classList.remove(xd),e(e$.AS())})),l.useEffect(()=>{if(d.eD||(0,c.ce)()){let e=document.createElement("div");return e.classList.add("file_browser_view--desktopBackground--kte3I"),document.body.appendChild(e),document.body.classList.add(xu),()=>{document.body.classList.remove(xu),document.body.removeChild(e)}}},[]);let D=(0,_.ZC)(i);l.useEffect(()=>{D&&D!==i&&((0,C6.SW)(D,i)&&window.scrollTo(0,0),O?P(!1):(A(R+1),F(R+1)))},[D,i,O,R]),l.useEffect(()=>{"teamCreation"===i.view&&i.fromNewTab&&e(Q.Dw({previousView:i.previousView,onSubmitReturnToPrevView:i.onSubmitReturnToPrevView,isEduTeam:i.isEduTeam}))},[i,e]);let M=(0,iv.d9)(i),B=E.g3&&!(0,p.kc)().file_browser_enable_mweb&&!M,U=(E.uG&&(0,p.kc)().file_browser_enable_mweb||E.mZ)&&!M;if("teamUpgrade"===i.view)return i.paymentStep===Cb.tn.UPGRADE_NEW_TEAM?l.createElement(C5,{selectedView:i}):(0,p.kc)().campfire_cart?l.createElement(y.q,{selectedView:i}):l.createElement(b.h,{selectedView:i});if("addAnnualPlan"===i.view)return l.createElement(C8,{selectedView:i});if("teamCreation"===i.view)return i.fromNewTab?null:l.createElement(CY,{selectedView:i});if("addCollaborators"===i.view)return l.createElement(CT,{selectedView:i});if("orgSelfServe"===i.view){let e=(0,p.kc)().campfire_cart?w.G:T.N;return l.createElement(e,{step:i.step||yd.X1.Initial,initialDesignSeats:i.initialDesignEditors||0,orgMigrated:!!i.orgMigrated,dropdownShown:a,newTeamProps:i.newTeamProps,upsellSource:i.upsellSource})}if("teamRestore"===i.view)return l.createElement(Cq,{selectedView:i});if("promoReview"===i.view)return l.createElement(I.z,{promo:x?.promo,selectedView:i});else if("eduReview"===i.view)return l.createElement(C.w,{selectedView:i});if(!r){let{content:e}=E6(i);return e?m.Ay.reload("Logged-out Community Hub"):(console.error(`Signed out page: unrecognized route ${m.Ay.location.pathname}, redirecting to /`),m.Ay.redirect("/")),null}if((0,p.kc)().ps_benchmark&&!t&&!N)return console.error("No current organization or team plan set for user. Redirecting to /files"),m.Ay.redirect("/files"),null;let V=B&&l.createElement(v.R,{userIdForTracking:r?.id,renderBlockingPrompt:!0});return l.createElement(CP.C.Provider,{value:{goBack:()=>{R>0&&(history.back(),F(R-1),P(!0))},goForward:()=>{R<L&&(history.forward(),F(R+1),P(!0))},canGoBack:R>0,canGoForward:R<L}},B?V:l.createElement(l.Fragment,null,U&&l.createElement(v.R,{userIdForTracking:r?.id}),l.createElement(xs,null,l.createElement(CR,null),l.createElement(CU,null),l.createElement(Cd,{showingFileBrowserLoader:o}))))}},595904:(e,t,a)=>{a.r(t),a.d(t,{FileImportModal:()=>q,FileRow:()=>ee,ImportModal:()=>X,fileImportStats:()=>J});var r=a(411855),n=a(188507),i=a(634832),o=a(504440),l=a(902008),s=a(880112);function c(e){return r.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M2.52 3.696A1 1 0 0 1 3.695 2.52l2.5.5a1 1 0 0 1 .511.274l6.147 6.146a1.5 1.5 0 0 1 0 2.122l-1.293 1.293a1.5 1.5 0 0 1-2.122 0L3.293 6.707a1 1 0 0 1-.274-.51zm8.334 8.45 1.293-1.292a.5.5 0 0 0 0-.707L7.353 5.353l-2 2 4.792 4.792a.5.5 0 0 0 .708 0m-6.208-5.5 2-2L6 4l-1.438-.288L3.5 3.5l.212 1.062L4 6z",clipRule:"evenodd"}))}function d(e){return r.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m11.062 8.957.058-.48c.13-1.071-.196-2.139-.827-2.77-.171-.171-.551-.393-1.174-.62-.595-.216-1.307-.4-2.04-.553a32 32 0 0 0-2.21-.372L7.74 7.034A1 1 0 0 1 9.001 8a1 1 0 1 1-1.967-.26L4.161 4.87c.086.64.208 1.422.373 2.21.152.733.336 1.445.553 2.04.227.623.449 1.003.62 1.174.625.625 1.679.952 2.741.83l.482-.054.342.344 1.195 1.206 2.122-2.122-1.186-1.196zm1.051-.36C12.273 7.284 11.889 5.89 11 5 9.675 3.675 4.838 3.13 3.728 3.021a.49.49 0 0 0-.392.143l-.172.172a.49.49 0 0 0-.143.392c.11 1.11.654 5.947 1.98 7.272.88.881 2.258 1.266 3.561 1.117l1.195 1.206a1 1 0 0 0 1.418.003l2.12-2.122a1 1 0 0 0 .004-1.41z",clipRule:"evenodd"}))}var m=a(139689);function u(e){return r.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},r.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5.5 5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 1 1 0v1a1.5 1.5 0 0 1-1.5 1.5h-5A1.5 1.5 0 0 1 4 10.5v-5A1.5 1.5 0 0 1 5.5 4h1a.5.5 0 0 1 0 1zm4.793 0H8.5a.5.5 0 0 1 0-1H12v3.5a.5.5 0 0 1-1 0V5.707L8.854 7.854a.5.5 0 1 1-.708-.708z",clipRule:"evenodd"}))}var _=a(776250),p=a(517333),f=a(794272),g=a(915440),E=a(799569),h=a(946689),v=a(62342),y=a(493323),b=a(355819),w=a(46481),T=a(901536),I=a(939863),C=a(501114),x=a(160838),N=a(21584),S=a(662275),k=a(101505),L=a(672517),A=a(396226),R=a(875847),F=a(724081),O=a(132135),P=a(99506),D=a(279453),M=a(707465),B=a(300874),U=a(472503),V=a(851363),H=a(585878),W=a(449731),j=a(168111),$=a(696849),G=a(600851),Y=a(244510),z=a(227998),Q=a(882167),K=a(737891);function q(){let e=(0,n.wA)(),{fileImport:t}=(0,f.R)(e=>({fileImport:e.fileImport})),a=()=>{e(S.Ce()),e(F.cY())},o=()=>{e(F.yD())},l=()=>{e(F.cY())},s=(()=>{switch(t.step){case U.Y5.CONFIRM_PDF_IMPORT:return r.createElement(j.PdfConfirmationModal,{fileImportDescription:(0,I.tx)("file_browser.file_import_view.select_pdf_source_description",{pdfCount:J(t).pdfCount}),onConfirm:t=>{e(F._9(t))},onCancel:()=>{e(F.AU()),o()}});case U.Y5.START:case U.Y5.FILE_IMPORT_WITH_CANCELED_PDF:case U.Y5.FILE_IMPORT_WITH_CONFIRMED_PDF:return r.createElement(X,{fileImport:t,onDone:a,onCancel:o,onMoveToProject:l});default:(0,i.assertNever)(t.step)}})();return r.createElement(L.fu,{name:"import_progress_modal"},s)}let Z=(0,L.tf)(o.$n);function X({fileImport:e,onDone:t,onCancel:a,onMoveToProject:i}){let o,c,d;let m=(0,n.wA)(),u=(0,n.d4)(e=>{if("folder"===e.selectedView.view){let t=e.selectedView.folderId&&e.folders[e.selectedView.folderId]?.team_id;if(null!=t)return e.teams[t]}return null}),f=J(e),v=(0,n.d4)(e=>e.selectedView),C=(0,N.I)(),L=0===f.remainingFiles,F=(0,n.d4)(e=>"folder"===e.selectedView.view?e.folders[e.selectedView.folderId]:null),O=(0,R.Gi)(F),P=(0,M.K)(v);!function(e){let t=(0,r.useCallback)(e=>{e.preventDefault()},[]);(0,r.useEffect)(()=>(e&&(window.addEventListener("beforeunload",t),p.eD?.setIsImporting(!0)),()=>{window.removeEventListener("beforeunload",t),p.eD?.setIsImporting(!1)}),[e,t])}(!L);let U=F?.name||(0,I.t)("file_browser.tool_bar.drafts"),j=L?(0,I.t)("file_browser.file_import_view.imported_to_folder",{folderName:U}):(0,I.t)("file_browser.file_import_view.import_to_folder",{folderName:U}),{statusIcon:$,statusMessage:z,statusMessageSecondary:Q}=(o=null,c=null,d=null,L?f.importedFiles===f.totalFiles?(c=r.createElement("div",{className:T.cx.fontSemiBold.inline.$},(0,I.tx)("file_browser.file_import_view.file_import_all_succeeded",{totalFiles:f.totalFiles,folder:U})),o=r.createElement(w.U,{svg:G.A,className:T.cx.colorIcon.$,dataTestId:"checkIcon"},r.createElement(l.l,null))):(c=r.createElement("div",{className:T.cx.fontSemiBold.inline.$},(0,I.tx)("file_browser.file_import_view.file_import_progress_to_folder",{importedFiles:f.importedFiles,totalFiles:f.totalFiles,folder:U})),o=r.createElement(w.U,{svg:Y.A,className:T.cx.colorIcon.$,dataTestId:"warningIcon"},r.createElement(s.R,null)),f.canceledFiles>0&&(d=(0,I.tx)("file_browser.file_import_view.file_import_cancel"))):(o=r.createElement(y.kt,{imageBacked:!0,testId:"loadingSpinner"}),c=(0,I.tx)("file_browser.file_import_view.file_import_progress",{processedFiles:f.processedFiles,totalFiles:f.totalFiles}),d=r.createElement("span",{className:T.cx.textBodyMedium.$},(0,I.tx)("file_browser.file_import_view.to_continue_working",{openANewTabLink:r.createElement(h.Us,{href:window.location.href,target:"_blank",trusted:!0,"data-testid":"openANewTabLink"},(0,I.tx)("file_browser.file_import_view.open_a_new_tab_link"))}))),{statusIcon:o,statusMessage:c,statusMessageSecondary:d}),K=C&&(O||P)&&f.importedFiles>=1,q=(0,r.useMemo)(()=>(function(e,t){let a=[];if(!e)return a;for(let e of Object.values(t))e.fileKey&&a.push({fileKey:e.fileKey});return a})(K,e.files),[K,e.files]),X=(0,g.p)(D.NSA,q),et=function({isImportComplete:e,fileImport:t,onDone:a,team:n,dispatch:i,stats:o,shouldShowMoveToProjectButton:l,onMoveToProject:s,filesToMove:c,onCancel:d}){var m;if(!e)return[r.createElement(Z,{variant:"destructive",onClick:d,htmlAttributes:{"data-testid":"cancelButton"},key:"cancelButton"},(0,I.tx)("file_browser.file_import_view.cancel"))];if(t.failedOnFileLimit)return[r.createElement(Z,{variant:"primary",onClick:()=>{a(),null!=n&&i((0,S.to)({type:W.DV,data:{team:n,resource:B.vL.FILE,action:V.ZN.IMPORT_FILES,editorType:o.editorType,multipleResources:o.failedFiles>1,currentPlan:A.F.Plan.STARTER,upsellPlan:A.F.Plan.PRO}}))},htmlAttributes:{"data-testid":"nextButton"},key:"nextButton"},(0,I.tx)("file_browser.file_import_view.next"))];let u=[(m=l?"secondary":"primary",r.createElement(Z,{variant:m,onClick:a,htmlAttributes:{"data-testid":"doneButton"},key:"doneButton"},(0,I.tx)("file_browser.file_import_view.done")))];return l&&u.push(function({onMoveToProject:e,filesToMove:t,stats:a,dispatch:n}){return r.createElement(Z,{variant:"primary",onClick:()=>{e(),(0,_.sx)("file_import.move_to_project.button_clicked",{numFiles:a.importedFiles}),1===t.length?(0,x.hd)(t[0],null,n,void 0,{},void 0,!1,void 0,!0):(0,x.OB)(t,[],n,!0)},htmlAttributes:{"data-testid":"moveToProjectButton"},key:"moveToProjectButton"},(0,I.tx)("file_browser.file_import_view.move_to_project"))}({onMoveToProject:s,filesToMove:c,stats:o,dispatch:i})),u}({isImportComplete:L,fileImport:e,onDone:t,team:u,dispatch:m,stats:f,shouldShowMoveToProjectButton:K,onMoveToProject:i,filesToMove:(0,r.useMemo)(()=>(function(e){let t=[];for(let a of e){let e=a.result.data?.file;e&&t.push({key:e.key,name:e.name,folder_id:e.folderId,team_id:e.teamId,editor_type:e.editorType,is_team_template:e.isTeamTemplate,parent_org_id:e.parentOrgId})}return t})(X),[X]),onCancel:a});return r.createElement(H.XV,{title:j,maxWidth:480,headerClassName:T.cx.pl16.$,disableClickOutsideToHide:!L,isCloseHidden:!0,customButton:r.createElement(E.Jn,{onClick:e.queue.length?a:t,trackingProperties:{trackingDescriptor:k.c.FILE_IMPORT_X_BUTTON,text:"dismiss"}})},e&&r.createElement(b.P,{innerClassName:T.cx.flex.flexColumn.py4.$,className:"file_import_modal--scrollContainer--rcZDu"},Object.values(e.files).map(e=>r.createElement(ee,{key:`file-import-${e.id}`,file:e}))),r.createElement("div",{className:T.cx.flex.flexRow.justifyBetween.p8.pr12.gap16.bt1.bSolid.colorBorder.$},r.createElement("div",{className:T.cx.flex.flexRow.itemsCenter.gap8.$},$&&r.createElement("div",{className:T.cx.flex.itemsCenter.justifyCenter.h32.w32.$},$),z&&r.createElement("span",{className:T.cx.fontSemiBold.$},z),Q&&r.createElement("span",{className:T.cx.ml8.$},Q)),r.createElement("div",{className:T.cx.flex.gap8.$},et)))}function J(e){let t=Object.keys(e.files).length,a=e.queue.length,r=0,n=0,o=0,l=0,s=0,c=new Set;for(let t in e.files){let a=e.files[t];switch(a.status){case U.mO.SUCCESS:case U.mO.WARNING:r++;break;case U.mO.CANCELED:n++;break;case U.mO.FAILURE:o++;break;case U.mO.WAITING:case U.mO.BUSY:case U.mO.PENDING_BLOB:l++;break;default:(0,i.assertNever)(a.status)}(0,U.rD)(a.name)?(c.add(P._Y.WHITEBOARD),(0,U.kI)(a.name)&&s++):(0,U.OL)(a.name)||c.add(P._Y.DESIGN)}return{totalFiles:t,remainingFiles:a,processedFiles:t-a,importedFiles:r,canceledFiles:n,failedFiles:o,pendingFiles:l,editorType:1!==c.size?null:c.values().next().value,pdfCount:s}}function ee(e){let{file:t}=e,a=null;switch(t.status){case U.mO.BUSY:case U.mO.WAITING:case U.mO.PENDING_BLOB:a=r.createElement(y.kt,{imageBacked:!0,testId:"fileRowLoadingSpinner"});break;case U.mO.SUCCESS:case U.mO.WARNING:a=(0,U.rD)(t.name)?r.createElement(w.U,{svg:K.A,useOriginalSrcFills_DEPRECATED:!0,dataTestId:"figJamFileIcon"},r.createElement(c,null)):(0,U.OL)(t.name)?r.createElement(v.oS,{type:v.y1.SLIDES,size:v.LE.SMALL}):r.createElement(w.U,{svg:Q.A,useOriginalSrcFills_DEPRECATED:!0,dataTestId:"figmaDesignFileIcon"},r.createElement(d,null));break;case U.mO.FAILURE:case U.mO.CANCELED:a=r.createElement(w.U,{svg:z.A,className:T.cx.colorIconDanger.$,dataTestId:"failIcon"},r.createElement(m.A,{className:T.cx.colorIconDanger.$}));break;default:(0,i.assertNever)(t.status)}let n=null;return t.status===U.mO.CANCELED?n=(0,I.tx)("file_browser.file_import_view.file_row_import_cancel"):t.message&&(n=Array.isArray(t.message)?t.message.map((e,t)=>r.createElement("div",{key:t,className:T.cx.if(t>0,T.cx.ml8).$},e)):t.message),r.createElement(et,{status:t.status,fileKey:t.fileKey},r.createElement("div",{className:T.cx.flex.itemsCenter.justifyBetween.flex1.pl8.pr16.textBodyMedium.$},r.createElement("div",{className:T.cx.flex.gap8.if(n,T.cx.itemsStart,T.cx.itemsCenter).$},r.createElement("div",{className:T.cx.flex.justifyCenter.h32.w32.itemsCenter.$},a),r.createElement("div",{className:T.cx.if(n,T.cx.py6).$},r.createElement("div",{className:T.cx.truncate.$,style:C.sx.add({maxWidth:"384px"}).$,"data-tooltip":t.name,"data-tooltip-type":"text"},t.name),n&&r.createElement("div",{className:T.cx.flex.itemsCenter.mt4.colorTextSecondary.$},n,t.cta&&r.createElement(h.Us,{className:T.cx.colorTextSecondary.underline.ml8.$,role:"button",onClick:t.cta.action,trusted:!0,"data-testid":"ctaLink"},t.cta.text))))))}function et(e){let{fileKey:t,status:a,children:n}=e;if(a!==U.mO.SUCCESS&&a!==U.mO.WARNING)return n;let i=t?(0,O.jN)({file:{key:t}}):void 0;return i?r.createElement(h.Ph,{href:i,target:"_blank",trusted:!0,className:"file_import_modal--fileRowWrapperLink--3JOhD","data-testid":"fileLink",trackingProperties:{action:"Import Modal - File Link Clicked"}},n,r.createElement(w.U,{svg:$.A,className:T.cx.flex.alignCenter.colorIconSecondary.mr16.$},r.createElement(u,null))):n}},591811:(e,t,a)=>{a.r(t),a.d(t,{FileRestoreFromVersionModal:()=>g});var r=a(411855),n=a(188507),i=a(776250),o=a(946689),l=a(355819),s=a(939863),c=a(944682),d=a(662275),m=a(928491),u=a(236192),_=a(585878);let p="file_restore_from_version_modal--fileRestoreText--my8Lq";function f(e){let t=e.version;return r.createElement("div",{className:"file_restore_from_version_modal--fileRestoreRow--ZAJ4y"},r.createElement("div",{className:"file_restore_from_version_modal--fileRestoreDecoration--ZXtyF"},t.user&&r.createElement(m.Ro,{className:"file_restore_from_version_modal--fileRestoreAvatar--Ub3UH",size:30,entity:{img_url:t.user.img_url}}),e.connector&&r.createElement("div",{className:"file_restore_from_version_modal--fileRestoreConnector--mhORY"})),r.createElement("div",{className:"file_restore_from_version_modal--fileRestoreData--AQgSJ"},t.label&&r.createElement("div",{className:"file_restore_from_version_modal--fileRestoreLabel--a6Shk ellipsis--ellipsis--Tjyfa"},t.label||""),t.description&&r.createElement("div",{className:p},t.description),r.createElement("div",{className:p},r.createElement(u.Cr,{time:t.touched_at})),r.createElement("div",{className:"file_restore_from_version_modal--fileRestoreUser--Bv60C"},t.user?t.user.handle:"")),r.createElement(o.N_,{onClick:e.callback,className:"file_restore_from_version_modal--fileRestoreAction--414BR",trusted:!0},(0,s.tx)("file_restore_from_version_modal.restore")))}function g(e){let t=(0,n.wA)(),a=a=>{(0,i.sx)("restore_version_from_modal",{fileKey:e.fig.key,versionId:a}),t(d.Ce()),t(c.PF({fileKey:e.fig.key,versionId:a}))},o=e.versions.filter(e=>!e.disabled);return r.createElement(_.XV,{title:(0,s.t)("file_restore_from_version_modal.restore_from_version_history"),maxWidth:396,onClose:()=>{t(d.Lo())}},r.createElement("div",{className:"file_restore_from_version_modal--fileRestorePanel--pMNT2"},r.createElement(l.P,{width:396},o.map((e,t)=>r.createElement(f,{key:e.id,version:e,callback:()=>a(e.id),connector:t+1!==o.length})))))}},168111:(e,t,a)=>{a.r(t),a.d(t,{PdfConfirmationModal:()=>h});var r=a(411855),n=a(634832),i=a(504440),o=a(887681),l=a(902237),s=a(256296),c=a(587670),d=a(824780),m=a(799569),u=a(901536),_=a(939863),p=a(101505),f=a(672517),g=a(585878);let E=(0,f.tf)(i.$n);function h({fileImportDescription:e,onConfirm:t,onCancel:a}){let[i,f]=(0,r.useState)(void 0),h=(0,r.useCallback)(e=>{f(e)},[]),v=(0,r.useCallback)(()=>{i&&t(c.h62[i])},[t,i]),y=(0,r.useMemo)(()=>{let e=(0,d.U)(c.h62).map(e=>({key:e,value:c.h62[e],label:function(e){switch(e){case c.h62.MIRO:return"Miro";case c.h62.MURAL:return"Mural";case c.h62.LUCID:return"Lucid";case c.h62.UNKNOWN:return(0,_.t)("file_browser.file_import_view.select_pdf_source_input_unknown_value");default:(0,n.assertNever)(e)}}(e)}));return e.sort((e,t)=>e.key===t.key?0:e.key===c.h62.UNKNOWN?1:t.key===c.h62.UNKNOWN?-1:e.label.localeCompare(t.label)),e},[]);return r.createElement(g.XV,{title:(0,_.t)("file_browser.file_import_view.select_pdf_source_header"),minWidth:480,maxWidth:480,disableClickOutsideToHide:!0,isCloseHidden:!0,customButton:r.createElement(m.Jn,{onClick:a,trackingProperties:{trackingDescriptor:p.c.FILE_IMPORT_X_BUTTON,text:"dismiss"}})},r.createElement("div",{className:u.cx.flex.flexColumn.p16.gap16.textBodyMedium.$},r.createElement("div",null,e),r.createElement("form",{className:u.cx.mb8.$},r.createElement(o.b,{legend:r.createElement(l.q,null,(0,_.tx)("file_browser.file_import_view.select_pdf_source_input_legend")),value:i,onChange:h},y.map(e=>r.createElement(o.c,{key:e.key,value:e.value,label:r.createElement(s.J,{className:u.cx.textBodyMedium.$},e.label)},e.key===c.h62.UNKNOWN&&(0,_.tx)("file_browser.file_import_view.select_pdf_source_input_unknown_disclaimer"))))),r.createElement("div",{className:u.cx.flex.flexColumn.itemsEnd.$},r.createElement(E,{variant:"primary",disabled:!i,onClick:v},(0,_.tx)("modal.confirm")))))}},742743:(e,t,a)=>{a.r(t),a.d(t,{RevokeProjectTransferModal:()=>c});var r=a(411855),n=a(188507),i=a(901536),o=a(939863),l=a(662275),s=a(585878);function c({pending:e,canTransferProject:t,onRevokeTransfer:a}){let c=(0,n.wA)(),d=(0,o.t)("revoke_transfer_modal.header_title");return r.createElement(s.Eo,{title:d,onConfirm:()=>{a(),c(l.Lo())},fixedTop:!0,destructive:!0,cancelText:(0,o.t)("revoke_transfer_modal.go_back"),confirmText:(0,o.t)("revoke_transfer_modal.revoke"),disabled:!t,onClose:()=>{c(l.Lo())},maxWidth:396,minWidth:344},r.createElement("div",{className:i.cx.p8.$},r.createElement("div",null,e.is_transfer_copy?(0,o.tx)("revoke_transfer_modal.transfer_copy_details",{sourceUserEmail:e.source_user_email,destinationUserEmail:e.destination_user_email}):(0,o.tx)("revoke_transfer_modal.transfer_details",{sourceUserEmail:e.source_user_email,destinationUserEmail:e.destination_user_email})),r.createElement("div",null,r.createElement("br",null),(0,o.tx)("revoke_transfer_modal.function_explanation"))))}},337424:(e,t,a)=>{a.r(t),a.d(t,{FolderUpdateDescriptionModal:()=>s});var r=a(411855),n=a(188507),i=a(939863),o=a(270056),l=a(353265);function s({folder:e}){let t=(0,n.wA)();return r.createElement(l.c,{initialName:e.description??"",title:(0,i.t)("resource_rename_modal.edit_description"),placeholder:"",submitText:(0,i.t)("resource_rename_modal.save"),onRename:a=>t(o.ub({folderId:e.id,description:a.trim()})),allowEmptyString:!0,maxLength:200})}},388654:(e,t,a)=>{a.r(t),a.d(t,{FOLDER_TEAM_ACCESS_CHANGE_DROPDOWN:()=>er,FolderCreationModal:()=>ea,FolderTeamAccessRow:()=>en});var r=a(411855),n=a(188507),i=a(133537),o=a(966712),l=a(915440),s=a(268537),c=a(946689),d=a(493323),m=a(163023),u=a(939863),_=a(694443),p=a(738269),f=a(270056),g=a(662275),E=a(672517),h=a(385111),v=a(860178),y=a(99506),b=a(279453),w=a(623746),T=a(643067),I=a(243987),C=a(147206),x=a(297536),N=a(389643),S=a(206193),k=a(668860),L=a(501256),A=a(143678),R=a(764299),F=a(320063),O=a(374626),P=a(901536),D=a(456104),M=a(582947),B=a(397065),U=a(340514),V=a(864114),H=a(493364),W=a(463546);let j=(0,M.r1)("seen_sharing_clarity_project_modal_overlay"),$="sc_project_creation_permission_onboarding_key";function G(){let e=(0,O.md)(j),{show:t,isShowing:a,complete:n}=(0,D.e)({overlay:W.QpH,priority:B.N.DEFAULT_MODAL},[e]);(0,F.h)(()=>{t({canShow:e=>!e})});let i=r.createElement("a",{href:"https://help.figma.com/hc/en-us/articles/360038006494-Create-a-new-project",className:P.cx.colorTextOnbrand.underline.$},(0,u.tx)("rcs.sharing_clarity.learn_more"));return r.createElement(U.rq,{isShowing:a,title:(0,u.tx)("rcs.sharing_clarity.project_creation_permissions_title"),description:r.createElement("p",null,(0,u.tx)("rcs.sharing_clarity.project_creation_permissions_description",{learnMoreLink:i})),trackingContextName:"Sharing Clarity Project Creation Permission Onboarding",onClose:n,targetKey:$,arrowPosition:H.F_.LEFT_TITLE,zIndex:V.R.MODAL,emphasized:!0,disableHighlight:!0})}var Y=a(988722),z=a(585878),Q=a(24791),K=a(561916),q=a(268787),Z=a(479842),X=a(816985);let J="folder_creation_modal--sectionHeader--EcWYc text--fontPos11--2LvXf text--_fontBase--QdLsd";var ee=a(289298),et=a(562128);function ea(e){let t=(0,n.wA)(),[a,s]=r.useState(""),[m,_]=r.useState(!1),[I,F]=r.useState(0),[O,P]=r.useState(y.eD.TEAM_ACCESS_EDIT),D=h.h.useTrackingContext({trigger:S.b.FOLDER_CREATION_MODAL}),M=(0,n.d4)(e=>e.contacts),B=(0,n.d4)(e=>e.dropdownShown),U=(0,n.d4)(e=>e.autocomplete),V=(0,v.iZ)(),H=(0,l.Rs)(b.mCn,{teamId:e.teamId}),W=(0,o.kc)().sc_workspace_audience,j=r.useMemo(()=>{if("loading"===H.status||!H.data)return null;let t=H.data.team;if(!t)return null;let a="loaded"===t.workspace.status?t.workspace.data:void 0;return{team:{id:e.teamId,name:t.name,imgUrl:t.imgUrl,subscription:t.subscription,student_team:!!t.studentTeamAt,grace_period_end:t.gracePeriodEnd,restrictions_list:t.restrictionsList,canAdmin:t.canAdmin,canEdit:t.canEdit,sharing_audience_control:t.sharingAudienceControl},org:t.org&&{id:t.org.id,name:t.org.name,img_url:t.org.imgUrl,org_domains:(0,w.vy)(t.org.orgDomains),domain_capture:t.org.domainCapture,invite_whitelist_guest_invite_setting:t.org.inviteWhitelist?.guestInviteSetting}||null,orgUser:t.org&&t.org.currentBaseOrgUser,workspace:a}},[H,e.teamId]),Y=j&&j.team,Q=j&&j.org,X=Q&&Q.org_domains?Q.org_domains:{domains:[],isFetching:!1,fetchedAt:null},ee=r.useCallback(()=>Y&&Y.sharing_audience_control!==y.PQ.ORG_EDIT&&Y.sharing_audience_control!==y.PQ.ORG_VIEW?Y.sharing_audience_control===y.PQ.WORKSPACE_EDIT||Y.sharing_audience_control===y.PQ.WORKSPACE_VIEW?K._9.WORKSPACE:K._9.INVITE_ONLY:K._9.ORG,[Y]),et=r.useCallback(()=>Y&&(Y.sharing_audience_control===y.PQ.ORG_EDIT||Y.sharing_audience_control===y.PQ.WORKSPACE_EDIT)?K.J4.EDIT:K.J4.VIEW,[Y]),[ea,er]=r.useState(ee()),[ei,eo]=r.useState(et()),[el,es]=r.useState(k.e6.EDITOR);r.useEffect(()=>{er(ee()),eo(et())},[ee,et]);let ec=()=>{1===I?F(0):(t(g.Lo()),t(p.bx()))},ed=e=>(0,x.t9)(e,Q,X),em=e=>(0,x.yI)(e,M.usersByEmail[e]||e,Q,X,V.email),eu=()=>Q&&Q.domain_capture&&X.domains.length>0?(0,L.Z)(U).filter(e=>(0,i.xf)(e)&&!(0,T.H_)(X.domains,e)):[],e_=e=>{if(Q&&Q?.invite_whitelist_guest_invite_setting==null&&e.length>0){t((0,g.to)({type:Z.F,data:{emails:e,onConfirm:()=>{ep()},popStack:!0,orgName:Q.name}}));return}},ep=()=>{let r;ea===K._9.ORG?r=ei===K.J4.EDIT?y.PQ.ORG_EDIT:y.PQ.ORG_VIEW:ea===K._9.WORKSPACE?r=ei===K.J4.EDIT?y.PQ.WORKSPACE_EDIT:y.PQ.WORKSPACE_VIEW:ea===K._9.INVITE_ONLY&&(r=y.PQ.INVITE_ONLY),t(f.vt({shouldRedirect:!e.modalShown,name:a.trim(),teamId:e.teamId,isInviteOnly:void 0,isViewOnly:void 0,sharingAudienceControl:Q?r:void 0,teamAccess:O,inviteEmails:(0,L.Z)(U),inviteLevel:el,orgId:Q?.id,onFolderCreated:e.onFolderCreated}))};return r.createElement(E.fu,{name:A.e0.CREATE_NEW_PROJECT_MODAL,properties:{teamId:Y?.id,...D}},r.createElement(z.XV,{title:0===I?(0,u.t)("project_creation.create_project"):(0,u.t)("project_creation.add_people_to_project_name",{projectName:a}),onClose:ec,maxWidth:468},j?r.createElement("div",{className:"folder_creation_modal--modalContainer--DmgME"},0===I?r.createElement(r.Fragment,null,r.createElement("div",{className:J},(0,u.t)("project_creation.name")),r.createElement(c.ks,{className:"folder_creation_modal--folderNameInput--Lcn4c",onChange:e=>s(e.target.value),onFocus:()=>_(!0),onBlur:()=>_(!1),value:a,autoFocus:!0,required:!0,maxLength:c.wG,minLength:1,placeholder:(0,u.t)("project_creation.ex_growth_experiments"),"aria-label":(0,u.t)("project_creation.project_name")}),0===a.trim().length&&!m&&r.createElement("div",{className:"folder_creation_modal--inputErrorMessage--AGzQC"},(0,u.t)("project_creation.project_name_empty")),Q&&Y&&r.createElement(r.Fragment,null,r.createElement("div",{className:J,"data-onboarding-key":$},(0,u.t)("project_creation.who_has_access")),r.createElement(G,null),r.createElement(K.YU,{resourceType:y.vt.FOLDER,value:ea,onChange:er,org:Q,team:Y,audienceAccessLevel:ei,workspace:W?j.workspace:void 0}),ea!==K._9.INVITE_ONLY&&r.createElement(r.Fragment,null,r.createElement("div",{className:J},(0,u.t)("folder_permissions_modal.what_they_can_do")),r.createElement(K.Iz,{selectedPermissionsLevel:ei,setSelectedPermissionsLevel:eo}),r.createElement("div",{className:"folder_creation_modal--subtitle--H3qLc text--fontPos11--2LvXf text--_fontBase--QdLsd text--fontPos11--2LvXf text--_fontBase--QdLsd"},ei===K.J4.VIEW?(0,u.t)("project_creation.can_view_and_comment"):(0,u.t)("project_creation.can_create_and_edit_files"))))):(()=>{let e=Q?Q.id:null,a=j&&j.orgUser,n=[k.e6.EDITOR,k.e6.VIEWER];return r.createElement("div",{className:"folder_creation_modal--stepTwoContainer--7Oi4o"},r.createElement(R.e,{autocomplete:U,dispatch:t,dropdownShown:B,dropdownKey:"permissions-invite-dropdown",inviteLevel:el,onInviteLevelChange:es,getSelectText:C.C1,options:n,searchResultToken:ed,fetchAsyncSearchResults:t=>(0,N.Wj)(t,M.usersByEmail,V,[],e,null,null,a?.permission===y._D.GUEST),searchResults:e=>(0,N.Uj)(e,M.usersByEmail,V,[]),validateToken:em,TokenComponent:q.g,SearchResultComponent:q.o,joinLinkShown:!1,shouldAutoFocus:!0,placeholderText:(0,u.t)("team_creation.add_a_name_or_email")}),!(0,o.kc)().remove_access_row_in_folder_creation&&Y&&r.createElement(en,{team:Y,teamAccess:O,setTeamAccess:P,orgId:e}))})(),r.createElement("div",{className:"folder_creation_modal--bottomRow--CWsIx"},r.createElement("div",{className:"folder_creation_modal--footer--9Hie8 folder_creation_modal--subtitle--H3qLc text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,u.tx)("project_creation.step_number_of_max_steps",{currentStep:I+1,maxSteps:2})),r.createElement("div",{className:"folder_creation_modal--buttons--6cjVs"},r.createElement(c.tM,{onClick:ec},0===I?(0,u.tx)("project_creation.cancel"):(0,u.tx)("project_creation.back")),r.createElement(c.vd,{onClick:()=>{if(0===I)F(1);else if(Q){let e=eu();e.length>0?e_(e):ep()}else ep()},disabled:0===I&&0===a.trim().length},0===I?(0,u.tx)("general.continue"):(0,u.tx)("project_creation.create_project"))))):r.createElement("div",{className:"folder_creation_modal--loading--9KmQd"},r.createElement(d.qc,null))))}let er="FOLDER_TEAM_ACCESS_CHANGE_DROPDOWN";function en(e){let t=t=>{(0,I.w5)(e.team)?e.setTeamAccess(t):(e.setTeamAccess(y.eD.TEAM_ACCESS_EDIT),t===y.eD.TEAM_ACCESS_VIEW?i((0,g.to)({type:Q.Ni,data:{team:e.team,editorType:null,upsellSource:S.b.FOLDER_CREATION_MODAL}})):i((0,g.to)({type:Q.Dp,data:{team:e.team,editorType:null,upsellSource:S.b.FOLDER_CREATION_MODAL}})))},a=r.createElement(_.n,{team:e.team,size:24,avatarSvg:et.A,opacity:e.teamAccess===y.eD.TEAM_ACCESS_DISABLED?"0.7":void 0}),i=(0,n.wA)(),o=(0,n.d4)(e=>e.dropdownShown),l=e.team.id&&e.team.canEdit,c=()=>o&&o.type===er,d=null,f={};return c()&&o.data&&o.data.position&&(f={...o.data.position}),r.createElement(r.Fragment,null,r.createElement("div",{className:X.xf},r.createElement("div",{className:"folder_creation_modal--teamAvatarContainer--KL-B-"},a),r.createElement("div",{className:X.$S},r.createElement("div",{className:X.yb},r.createElement("div",{className:e.teamAccess===y.eD.TEAM_ACCESS_DISABLED?"folder_creation_modal--teamNameFaded--ugwhq folder_creation_modal--teamName--P9n7q ellipsis--ellipsis--Tjyfa folder_creation_modal--fadedText--KyLSq":"folder_creation_modal--teamName--P9n7q ellipsis--ellipsis--Tjyfa"},e.team.name),r.createElement(r.Fragment,null,e.teamAccess===y.eD.TEAM_ACCESS_DISABLED&&l&&r.createElement("button",{className:X.KU,onClick:()=>t(y.eD.TEAM_ACCESS_EDIT)},(0,u.tx)("folder_access_row.give_access")),e.teamAccess!==y.eD.TEAM_ACCESS_DISABLED&&l&&r.createElement(r.Fragment,null,r.createElement("button",{ref:e=>{e&&(d=e)},onClick:()=>{if(c())i(p.oB());else if(d){let t=d.getBoundingClientRect(),a=e.teamAccess===y.eD.TEAM_ACCESS_VIEW;i(p.j7({type:er,data:{position:{top:t.top+-((a?1:0)*24),bottom:"auto",left:t.left,right:"auto"}}}))}},className:X.Lt,"data-onboarding-key":Y.I},r.createElement("span",null,e.teamAccess===y.eD.TEAM_ACCESS_VIEW?(0,u.t)("permissions.level_name.can_view"):(0,u.t)("permissions.level_name.can_access")),r.createElement("div",{className:X.Lo},r.createElement(m.B,{svg:ee.A}))),r.createElement(Y.S,null)),c()&&r.createElement(s.ms,{className:X.N1,style:{position:"fixed",...f}},r.createElement("div",{"data-testid":"folder-level-edit"},r.createElement(s.MM,{checked:e.teamAccess===y.eD.TEAM_ACCESS_EDIT,onClick:()=>t(y.eD.TEAM_ACCESS_EDIT)},(0,u.tx)("permissions.level_name.can_access"))),r.createElement("div",{"data-testid":"folder-level-view"},r.createElement(s.MM,{checked:e.teamAccess===y.eD.TEAM_ACCESS_VIEW,onClick:()=>t(y.eD.TEAM_ACCESS_VIEW)},(0,u.tx)("permissions.level_name.can_view"))),r.createElement(s.wv,null),r.createElement(s.c$,{onClick:()=>t(y.eD.TEAM_ACCESS_DISABLED)},(0,u.tx)("folder_access_row.remove"))))))))}},365879:(e,t,a)=>{a.d(t,{I:()=>m});var r=a(411855),n=a(188507),i=a(776250),o=a(939863),l=a(688083),s=a(451e3),c=a(945020),d=a(131750);function m(e){let t=(0,n.wA)(),a=r.useCallback(a=>{a.stopPropagation(),e.team.canEdit&&((0,i.sx)("New Folder",{trackingContext:e.trackingContextName}),t((0,l.SX)({where:s.Ah.FolderListView,team:{...(0,c.Ws)(e.team),canEdit:e.team.canEdit,canEditTeamContents:e.team.canEdit,canAdmin:e.team.canAdmin}})))},[t,e.team,e.trackingContextName]);return e.team.canEdit?r.createElement(d.f,{data_tooltip:(0,o.t)("sidebar.new_project"),data_onboarding_key:"new-project-icon",innerText:"Creates new project",onClick:a,isBackgroundTransparent:e.isBackgroundTransparent}):null}},49891:(e,t,a)=>{a.d(t,{Mv:()=>I,tG:()=>b});var r=a(411855),n=a(966712),i=a(498750),o=a(946689),l=a(901536),s=a(881388),c=a(939863),d=a(662275),m=a(720647),u=a(99506),_=a(820113),p=a(243987),f=a(265361),g=a(237870),E=a(488578),h=a(258933);function v(e){let t=r.useRef(null),[a,u]=r.useState(!1),[g,E]=r.useState(null),v=new _.vr(e.currency),y=!e.allowZeroSeats,b=e.numAnnualEditors,T=b>0,C=t=>{e.onNumAnnualEditorsChange(t)},x=r.createElement("button",{type:"button",className:h.J,"data-testid":`add-${e.editorType}-seats`,onClick:()=>u(!0)},(0,c.tx)("payments.step_pay.add_more_seats"));return r.createElement("div",{className:h.wD,key:`${e.editorType}-step-pay-row`,"data-testid":`${e.editorType}-step-pay-row`},r.createElement("div",null,r.createElement("div",{className:h.Uu},r.createElement("span",null,(0,c.tx)("payments.step_pay.editors_on_annual_plan.seat_rename",{numAnnualEditors:e.numAnnualEditors,numAnnualEditorsNumberOrInput:a?r.createElement(o.ks,{ref:t,className:h.jD,value:null==g?e.numAnnualEditors:g,onChange:e=>{E(e.target.value)},onBlur:()=>{let t=parseInt(g);if(!isNaN(t)){if(t<0)e.dispatch(s.s.error((0,c.t)("flash.no_negative_seats")));else if(0===t)y?e.dispatch(s.s.error((0,c.t)("flash.at_least_one_editor.seat_rename"))):C(0);else if(t>p.m){let t=r.createElement("a",{href:`mailto:${(0,n.W4)()}`},(0,c.tx)("flash.annual_plan.contact_support_link"));e.dispatch(s.s.error((0,c.tx)("flash.annual_plan.contact_support",{contactSupport:t,maxAnnualSubscriptions:p.m})))}else t>100?e.dispatch(d.to({type:I,data:{numAnnualEditors:t,onConfirm:()=>C(t)}})):C(t)}E(null),u(!1)},onKeyDown:e=>{let t=e.target;e.keyCode===i.Uz.ENTER?(e.preventDefault(),t.blur()):e.keyCode===i.Uz.ESCAPE&&u(!1)}}):e.numAnnualEditors,productType:(0,f.E)((0,m.vc)(e.editorType))}))),!a&&r.createElement("div",{className:l.cx.flex.flexColumn.gap4.$},e.editorBreakdown,r.createElement("p",{className:h.eK},(0,c.tx)("payments.step_pay.add_more_editors",{addMoreSeats:x})))),r.createElement(w,{amount:e.totalCost,lineItem:T?b>0?(0,c.t)("payments.step_pay.price_per_editor_12_months",{price:v.formatMoney(e.annualMonthlyCost,{showCents:!1}),editorString:(0,c.t)("payments.step_pay.num_editors.seat_rename",{numEditors:b})}):(0,c.t)("payments.step_pay.none_selected"):void 0,shouldShowAmount:e.numAnnualEditors>0,currency:e.currency}))}function y(){return r.createElement("div",{className:h.me})}function b(e){let{numAnnualDesignEditors:t,numAnnualWhiteboardEditors:a,isTeamPro:n,totalDesignEditors:i,totalWhiteboardEditors:o,monthlyDesignAmount:l,monthlyFigjamAmount:s,annualMonthlyDesignAmount:d,annualMonthlyFigjamAmount:m}=e,_=i-t,p=t*d*12+(!n&&_>0?_*l:0),f=o-a,g=a*m*12+(!n&&f>0?f*s:0);return r.createElement("div",null,r.createElement(v,{dispatch:e.dispatch,editorType:u._Y.DESIGN,onNumAnnualEditorsChange:e.onNumAnnualDesignEditorsChange,numAnnualEditors:t,allowZeroSeats:0!==a,currency:e.currency,totalCost:p,annualMonthlyCost:d}),r.createElement(v,{dispatch:e.dispatch,editorType:u._Y.WHITEBOARD,onNumAnnualEditorsChange:e.onNumAnnualWhiteboardEditorsChange,numAnnualEditors:a,allowZeroSeats:0!==t,currency:e.currency,totalCost:g,annualMonthlyCost:m}),r.createElement(y,null),r.createElement("div",{className:h.wD},r.createElement("div",{className:h.YK},(0,c.tx)("payments.step_pay.subscription")),r.createElement(T,{amount:p+g,plusTax:!0,dataTestId:"subscription-total-cost",currency:e.currency})))}function w(e){let t=new _.vr(e.currency);return r.createElement("div",{className:h.R6},e.shouldShowAmount?t.formatMoney(e.amount,{showCents:!1}):"--",r.createElement("div",{className:l.cx.flex.flexColumn.gap4.$},e.lineItem&&r.createElement("div",{className:h.eK},e.lineItem)))}function T(e){let t=new _.vr(e.currency);return r.createElement("div",{className:h.X5},r.createElement("p",{className:h.IW,"data-testid":e.dataTestId},t.formatMoney(e.amount,{showCents:!1})),e.plusTax&&r.createElement("p",{className:h.B8},(0,c.tx)("payments.step_pay.plus_sales_tax")))}let I="confirm-seats-modal";function C(e){let t=e.modalShown.data.numAnnualEditors;return r.createElement(E.Rw,{confirmationTitle:(0,c.t)("payments.step_pay.thats_a_lot_of_seats",{numAnnualEditors:t}),onConfirm:e.modalShown.data.onConfirm,confirmText:(0,c.t)("payments.step_pay.confirm_seats"),...e},(0,c.tx)("payments.step_pay.happy_you_want_to_buy_seats",{numAnnualEditors:t}))}(0,g.qK)(I,e=>r.createElement(C,{...e}))},439466:(e,t,a)=>{a.d(t,{l:()=>r});let r="trashed-projects"},487973:(e,t,a)=>{a.r(t),a.d(t,{AddPinModal:()=>v});var r=a(411855),n=a(188507),i=a(634832),o=a(675678),l=a(609494),s=a(915440),c=a(776621),d=a(881388),m=a(939863),u=a(809840),_=a(662275),p=a(988022),f=a(279453),g=a(936682),E=a(366559),h=a(119735);function v({fileKey:e,source:t,open:a,onClose:i}){let u=(0,n.wA)(),v=(0,E.p)((0,m.t)("file_browser.pinning.pin_modal.confirmation_bell"),"file-browser-workspace-add-pin"),b=(0,s.Rs)(f.wtK,{fileKey:e}),w=function(e){let[t,a]=r.useState(!1),n="loaded"===e.status&&e.data.file&&!e.data.file.canPinToWorkspace&&e.data.file.canEdit;return n&&!t&&a(!0),n||t}(b);if("loaded"!==b.status)return null;let{file:T}=b.data;if(!T)return(0,c.$D)(o.FigmaTeam.WAYFINDING,Error("AddPinModal unable to lookup file by ID")),u(_.Lo()),null;let I=T.team?.workspace;if(!I)return(0,c.$D)(o.FigmaTeam.WAYFINDING,Error("AddPinModal opened for file with no workspace")),u(_.Lo()),null;let C=(0,h.KR)(T),x=async e=>{try{await g.p.pinFile({resourceType:h.AH,resourceId:I.id,fileKey:T.key,description:e,shouldUpdatePermissions:w}),(0,p.E9)("file_browser_file_pinned_to_resource",T,{resourceType:h.AH,resourceId:I.id,source:t,pinDescription:(0,l._Z)(e)}),v(I.id)}catch(e){throw u(d.s.error((0,m.t)("file_browser.pinning.pin_modal.error"))),e}},N=w?r.createElement(y,{file:T,workspace:I}):null;return r.createElement(E.N,{title:(0,m.t)("file_browser.pinning.pin_modal.pin_file_to_workspace"),confirmText:(0,m.t)("file_browser.pinning.pin_file"),onSubmit:x,file:C,initialDescription:null,warningContent:N,open:a,onClose:i})}function y({file:e,workspace:t}){let a=e.parentOrgId;(0,i.assertNotNullish)(a);let o=(0,n.d4)(({orgById:e})=>e[a].name);return r.createElement(u.E,null,(0,m.tx)("file_browser.pinning.update_permissions.content",{workspaceName:t.name,permission:r.createElement(u.E,{fontWeight:"bold"},(0,m.tx)("file_browser.pinning.update_permissions.content.permission",{orgName:o}))}))}},923967:(e,t,a)=>{a.r(t),a.d(t,{DeletePinModal:()=>h});var r=a(411855),n=a(188507),i=a(675678),o=a(609494),l=a(915440),s=a(776621),c=a(36657),d=a(881388),m=a(939863),u=a(988022),_=a(860178),p=a(99506),f=a(279453),g=a(936682),E=a(366559);function h({pinnedFileId:e,open:t,onClose:a}){let h=(0,_.TA)(),v=(0,n.wA)(),y=(0,E.p)((0,m.t)("file_browser.pinning.delete_pin_modal.confirmation_bell"),"file-browser-workspace-delete-pin"),[b,w]=r.useState(!1),T=(0,l.Rs)(f.qBf,{pinnedFileId:e});if("loaded"!==T.status)return null;let{pinnedFile:I}=T.data;if(!I)return(0,s.$D)(i.FigmaTeam.WAYFINDING,Error("DeletePinModal unable to lookup pinned file by ID")),a(),null;if(I.resourceType!==p.rP.WORKSPACE)return(0,s.$D)(i.FigmaTeam.WAYFINDING,Error("DeletePinModal opened for pinned file with non-workspace resource type"),{extra:{resourceType:I.resourceType}}),a(),null;let C=async t=>{t.preventDefault();try{w(!0),await g.p.deletePin({pinnedFileId:e}),(0,u.E9)("file_browser_file_unpinned_from_resource",I.file,{resourceId:I.resourceId,resourceType:I.resourceType,isPinCreator:I.creator?.id===h,pinDescription:(0,o._Z)(I.description)}),y(I.resourceId),a()}catch(e){v(d.s.error((0,m.t)("file_browser.pinning.delete_pin_modal.error")))}finally{w(!1)}};return r.createElement(c.R,{title:(0,m.t)("file_browser.pinning.delete_pin_modal.header"),confirmText:(0,m.t)("file_browser.pinning.delete_pin_modal.confirm"),onConfirm:C,destructive:!0,isLoading:b,open:t,onClose:a},(0,m.t)("file_browser.pinning.delete_pin_modal.content"))}},542406:(e,t,a)=>{a.r(t),a.d(t,{EditPinModal:()=>g});var r=a(411855),n=a(188507),i=a(675678),o=a(915440),l=a(776621),s=a(881388),c=a(939863),d=a(662275),m=a(99506),u=a(279453),_=a(936682),p=a(366559),f=a(119735);function g({pinnedFileId:e,open:t,onClose:a}){let g=(0,n.wA)(),E=(0,p.p)((0,c.t)("file_browser.pinning.pin_modal.edit.confirmation_bell"),"file-browser-workspace-edit-pin"),h=(0,o.Rs)(u.vgO,{pinnedFileId:e});if("loaded"!==h.status)return null;let{pinnedFile:v}=h.data;if(!v)return(0,l.$D)(i.FigmaTeam.WAYFINDING,Error("EditPinModal unable to lookup pinned file by ID")),g(d.Lo()),null;if(v.resourceType!==m.rP.WORKSPACE)return(0,l.$D)(i.FigmaTeam.WAYFINDING,Error("EditPinModal opened for pinned file with non-workspace resource type"),{extra:{resourceType:v.resourceType}}),g(d.Lo()),null;let y=v.resourceId,b=async t=>{try{await _.p.updatePin({pinnedFileId:e,description:t}),E(y)}catch(e){throw g(s.s.error((0,c.t)("file_browser.pinning.pin_modal.edit.error"))),e}},w=(0,f.KR)(v.file);return r.createElement(p.N,{title:(0,c.t)("file_browser.pinning.pin_modal.edit_pin_description"),confirmText:(0,c.t)("file_browser.pinning.pin_modal.save"),onSubmit:b,file:w,initialDescription:v.description,open:t,onClose:a})}},366559:(e,t,a)=>{a.d(t,{N:()=>D,p:()=>M});var r=a(411855),n=a(188507),i=a(862350),o=a(951792),l=a(678738),s=a(504440),c=a(880112),d=a(609494),m=a(493323),u=a(174952),_=a(901536),p=a(939863),f=a(392592),g=a(172522),E=a(167893),h=a(738269),v=a(477782),y=a(611978),b=a(352898),w=a(629019),T=a.n(w),I=a(377750),C=a(374626),x=a(860601),N=a(355819),S=a(428322),k=a(883211),L=a(282026),A=a(896474),R=a(336174);function F({buttonClassName:e,onInsert:t,closeOnInsert:a}){let[n,i]=r.useState(null),o=r.useRef(null),l=r.useCallback(()=>{o.current&&i(o.current.getBoundingClientRect())},[i]),s=r.useCallback(e=>{t(e),a&&i(null)},[t,a,i]);return r.createElement("button",{className:e,ref:o,onClick:l},r.createElement(A.In,{icon:"smiley-32"}),n&&r.createElement(R._,{onInsert:s,onCancel:()=>i(null),targetRect:n}))}let O={library:{list:()=>Promise.resolve([]),search:()=>Promise.resolve([]),maxResultsLength:()=>0}};function P({placeholder:e,text:t,onChange:a,maxLength:i,onSubmit:o,textAreaClassName:l}){let s=(0,n.wA)(),c=C.zl.get(k.ph),[m,u]=r.useState(!1),p=r.useRef(null),f=r.useCallback(e=>{e.preventDefault(),e.stopPropagation(),p.current&&p.current.focus()},[]),g=(0,d.Kq)(t,{includeTrailingWhitespace:!0});return r.createElement("div",{className:"emoji_text_area--textAreaContainer--4FHeL",onClick:f},r.createElement(N.P,{className:T()(_.cx.flexGrow1.overflowAuto.maxWFull.borderBox.if(m,_.cx.bb1.bSolid.colorBorder).$,l),innerClassName:_.cx.hFull.$},r.createElement(L.iX,{dispatch:s,ref:p,typeahead:c,updateMessage:([e,t])=>{a(e)},placeholderText:e,mountInputFocused:!0,submitOnEnter:!1,onSubmit:o??x.lQ,messageMeta:t,mentionables:O,className:_.cx.pt16.px16.borderBox.if(m,_.cx.pb4).$,onUpdateTextArea:x.lQ,editorOnInsert:x.lQ,onFocus:x.lQ,onCancel:x.lQ,editorOnClear:x.lQ,setIsEditorFocused:x.lQ,currentOrgUsers:{orgUsers:{}}}),r.createElement(S.a,{onInitialLoad:e=>u(!e),onIntersectionChange:e=>u(!e.isIntersecting)})),r.createElement("div",{className:_.cx.flex.justifyBetween.itemsCenter.pl12.pr16.py12.$},r.createElement(F,{buttonClassName:"emoji_text_area--emojiPickerButton--CGYqF",onInsert:e=>{if(p.current){let t=I.dN.get(e.id);t&&(p.current.insertEmoji(t),p.current.focus())}},closeOnInsert:!0}),i&&r.createElement("div",{className:_.cx.if(g>i,_.cx.colorTextDanger,_.cx.colorTextSecondary).cursorDefault.$},g,"/",i)))}function D({title:e,confirmText:t,onSubmit:a,file:n,initialDescription:f,warningContent:h,open:y,onClose:b}){let[w,T]=r.useState(f??[]),[I,C]=r.useState(!1),x=(0,v.fA)(n),N=(0,g.l)(n.folder_id),S=(0,d.Kq)(w,{includeTrailingWhitespace:!0}),k=S<=100&&S>0,L=r.useCallback(async()=>{if(k)try{C(!0),await a(w),b()}finally{C(!1)}},[a,k,b,w]),A=i.hS({open:y,onClose:b}),R=r.createElement(r.Fragment,null,r.createElement("div",{className:_.cx.p16.gap16.flex.flexColumn.$},r.createElement("div",{className:_.cx.flex.flexColumn.gap16.$},r.createElement("div",null,r.createElement(u.e,{tile:x,borderRadius:6})),r.createElement("div",{className:_.cx.flex.flexRow.gap8.itemsCenter.$},r.createElement(E.x,{tile:x,usePageIcon:!0}),r.createElement("div",{className:_.cx.flex.flexColumn.gap2.flexGrow1.justifyCenter.overflowHidden.cursorDefault.$},r.createElement("div",{className:_.cx.textBodyLargeStrong.truncate.$},n.name),"loaded"===N.status&&N.data?r.createElement("div",{className:_.cx.colorTextSecondary.truncate.$},N.data):null))),r.createElement(P,{placeholder:(0,p.t)("file_browser.pinning.pin_modal.description_textarea_placeholder"),text:w,onChange:T,onSubmit:L,maxLength:100,textAreaClassName:_.cx.maxH100.$})),h?r.createElement("div",{className:_.cx.colorBgWarningTertiary.px16.py12.flex.columnGap8.$},r.createElement(c.R,{className:_.cx.flexShrink0.$}),r.createElement("span",null,h)):null);return r.createElement(o.bL,{manager:A,width:"lg"},r.createElement(l.vo,null,r.createElement(l.Y9,null,r.createElement(l.hE,null,e)),r.createElement(l.nB,{noPadding:!0},R),r.createElement(l.wi,null,r.createElement(l.jk,null,r.createElement(s.$n,{variant:"secondary",onClick:b},(0,p.tx)("modal.cancel")),I?r.createElement(s.$n,{disabled:!0},r.createElement(m.kt,{className:_.cx.colorIconOnbrand.$})):r.createElement(s.$n,{disabled:!k,variant:"primary",onClick:L},t)))))}function M(e,t){let a=(0,n.wA)(),i=(0,y._6)();return r.useCallback(r=>{let n;("workspace"!==i.view||i.subView!==b.V0.DIRECTORY)&&(n={text:(0,p.t)("file_browser.pinning.pin_modal.confirmation_bell.view_workspace"),action:()=>{a(h.$T({view:"workspace",subView:b.V0.DIRECTORY,workspaceId:r,selectedTab:b.dN.TEAMS}))}}),a(f.F.enqueue({type:t,message:e,button:n}))},[a,e,t,i])}},56430:(e,t,a)=>{a.d(t,{J:()=>h});var r=a(411855),n=a(188507),i=a(946689),o=a(939863),l=a(799569);function s({header:e,onClose:t,rightTextCta:a,tilesContent:n}){return r.createElement("div",{className:"recommendation_banner--container--BEaKR"},r.createElement("div",{className:"recommendation_banner--headerContainer--4UjAz"},r.createElement("div",{className:"recommendation_banner--header--desVL text--fontPos13--xW8hS text--_fontBase--QdLsd"},e),r.createElement("div",{className:"recommendation_banner--headerRight--0PUxN"},r.createElement("div",{className:"recommendation_banner--rightTextCta--q0Iat text--fontPos11--2LvXf text--_fontBase--QdLsd"},a),r.createElement(l.Jn,{className:"recommendation_banner--closeButton--PIXj1",onClick:t}))),r.createElement("div",{className:"recommendation_banner--tilesContainer--WZvDf tiles_view--tilesGrid--gtDcv tiles_view--tiles--PQRwh"},n.map((e,t)=>r.createElement("div",{key:t,className:"recommendation_banner--tile--c1rU7"},e))))}var c=a(760824),d=a(672517),m=a(7e3),u=a(106472),_=a(746869),p=a(611047),f=a(882945),g=a(927625);let E=[{featureType:"unlimited_files_and_projects",getTileTitle:()=>(0,o.t)("team_view.pro_trials.feature_awareness_banner.consumption_limit"),imgSrc:"https://static.figma.com/uploads/7b0a8059eef8715404092dd314a2259303f727ed",gifSrc:"https://static.figma.com/uploads/519c3e21c17f32b5f0180b52d1e0f9ba6b1e6a93",href:"https://help.figma.com/hc/articles/360038006494"},{featureType:p.qv.COMPONENT_PUBLISHING,getTileTitle:()=>(0,o.t)("team_view.pro_trials.feature_awareness_banner.component_libraries"),imgSrc:"https://static.figma.com/uploads/597204c016801ba12cab10e9c048b1c6d5807a46",gifSrc:"https://static.figma.com/uploads/948d9b9b25fe5c298216981f3b67871986136b72",href:"https://help.figma.com/hc/articles/360041051154-Guide-to-libraries-in-Figma"},{featureType:p.qv.PASSWORD_PROTECTION,getTileTitle:()=>(0,o.t)("team_view.pro_trials.feature_awareness_banner.password_protection"),imgSrc:"https://static.figma.com/uploads/bd1e60801b4b2b5e3d8f85d570d909f8e6aecd46",gifSrc:"https://static.figma.com/uploads/c736fefeffa56ad1fef0e503f3a806a34376a24e",href:"https://help.figma.com/hc/articles/5726720100247-Add-password-protection-to-files"},{featureType:p.qv.OPEN_SESSIONS,getTileTitle:()=>(0,o.t)("team_view.pro_trials.feature_awareness_banner.collaboration"),imgSrc:"https://static.figma.com/uploads/d718a8c9af11f5689629e016beb629c0a1aded39",gifSrc:"https://static.figma.com/uploads/389ab0b9dcb7f7c2ce3b597b4b7aa8d12a762d79",href:"https://help.figma.com/hc/articles/4410786053911-Invite-visitors-to-an-open-session"},{featureType:"voting",getTileTitle:()=>(0,o.t)("team_view.pro_trials.feature_awareness_banner.voting"),imgSrc:"https://static.figma.com/uploads/07061babefc345310003bf470a357f7c1a4f039d",gifSrc:"https://static.figma.com/uploads/15206fd8262e4243eb5b6a466c4227a6f8e700e6",href:"https://help.figma.com/hc/articles/9359912208663-Run-voting-sessions-in-FigJam"},{featureType:p.qv.AUDIO,getTileTitle:()=>(0,o.t)("team_view.pro_trials.feature_awareness_banner.audio"),imgSrc:"https://static.figma.com/uploads/d44e0e27103010a5a793e2481a49b37baf284fe9",gifSrc:"https://static.figma.com/uploads/9320e75867473c558394562fe255795e975bac3e",href:"https://help.figma.com/hc/articles/1500004414622-Use-audio-to-chat-with-your-team"}];function h({teamId:e}){let t=(0,m.TN)(e),a=(0,n.wA)(),l=!!(0,u.q)({flag:"pro_trials_feature_awareness_banner_dismissed",teamId:e});return!_.ng.canSeeProTrialUx(t)||l?null:r.createElement(d.fu,{name:"Pro trials feature awareness banner",properties:_.ng.getTrackingProperties()},r.createElement("div",{className:"pro_feature_awareness_banner--container--Lxd1X"},r.createElement(s,{header:(0,o.tx)("team_view.pro_trials.feature_awareness_banner.title"),rightTextCta:r.createElement(i.Ph,{className:"pro_feature_awareness_banner--learnMoreLink--7R3te text--fontPos11--2LvXf text--_fontBase--QdLsd",trusted:!0,href:"https://www.figma.com/professional/",target:"_blank"},(0,o.tx)("team_view.pro_trials.feature_awareness_banner.learn_more")),onClose:()=>{a(c.bE({all_team_flags:[{team_id:e,flags:{pro_trials_feature_awareness_banner_dismissed:!0}}]}))},tilesContent:E.map(({getTileTitle:e,imgSrc:t,gifSrc:a,href:n,featureType:i},o)=>r.createElement(v,{key:o,getTileTitle:e,imgSrc:t,gifSrc:a,href:n,featureType:i}))})))}function v({getTileTitle:e,imgSrc:t,gifSrc:a,href:n,featureType:o}){let[l,s]=(0,r.useState)(!1);return r.createElement("div",{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},r.createElement(f.zq,{image:r.createElement("div",{className:"pro_feature_awareness_banner--imageContainer--IezW9 pro_feature_awareness_banner--base_cardImageContainer--zhCs- pro_feature_awareness_banner--_hasBorder--lcXN7"},r.createElement("div",{className:"pro_feature_awareness_banner--imageAspectRatio--00Fbt"}),r.createElement("div",{className:"pro_feature_awareness_banner--imageWrapper--isZpL"},r.createElement(i.Ph,{trusted:!0,target:"_blank",href:n,trackingProperties:{featureType:o}},r.createElement(g.Ho,{image:l?a:t,isSet:!0,isWhiteboard:!1,hubFileId:void 0,alt:e(),includeChromiumDownscalingFix:!0})))),bottomRow:r.createElement("div",{className:"pro_feature_awareness_banner--tileTitle--bO70s text--fontPos13--xW8hS text--_fontBase--QdLsd"},e())}))}},502972:(e,t,a)=>{a.d(t,{C:()=>c});var r=a(411855),n=a(946689),i=a(163023),o=a(939863),l=a(516724);if(443==a.j)var s=a(444173);function c(e){return r.createElement("div",{className:l.p$},r.createElement("div",{className:l._U},(0,o.tx)("team_tile.no_teams.title")),e.onCreateTeam&&r.createElement(r.Fragment,null,r.createElement("p",null,(0,o.tx)("team_tile.no_teams.info")),r.createElement(n.cw,{className:l.yd,onClick:e.onCreateTeam},r.createElement(i.B,{svg:s.A,className:l.RS}),(0,o.tx)("team_tile.no_teams.create_team_button"))))}},676485:(e,t,a)=>{a.d(t,{X:()=>s,o:()=>l});var r=a(411855),n=a(629019),i=a.n(n),o=a(493323),l=(e=>(e.Medium="Medium",e.Large="Large",e))(l||{});function s(e){let t;return e.isLoading?r.createElement("div",{className:"tile_grid--loadingContainer--1gQIv"},r.createElement(o.kt,null)):!e.children||Array.isArray(e.children)&&!e.children.length?r.createElement("div",{className:"tile_grid--emptyContainer--y8P1H text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.emptyView):(t="Large"===e.tileSize?"tile_grid--gridLarge--EZC2-":"tile_grid--gridMedium--fzult",r.createElement("div",{className:i()("tile_grid--gridContainer--cn4vx",e.containerClassName)},r.createElement("div",{className:t},e.children)))}},392922:(e,t,a)=>{a.d(t,{H:()=>y});var r=a(411855),n=a(188507),i=a(966712),o=a(939863),l=a(611886),s=a(351226),c=a(158996),d=a(162895),m=a(662275),u=a(694687),_=a(860178),p=a(215822),f=a(239671),g=a(407844),E=a(164795),h=a(146555);if(443==a.j)var v=a(967063);function y(e){let t=(0,_.iZ)(),a=(0,u.sZ)(),y=(0,n.wA)(),[b,w]=r.useState(!0),T=e.resource,I=(0,p.uF)(T),C=(0,h.o)(I,a,f.nT.Whiteboard);if(!b||!t||!(0,i.kc)().community_hub_admin_reviewer)return r.createElement(r.Fragment,null);function x(t){return"hub_file"===(0,c.Vm)(e.resource)}let N=x(e.resource)?(0,o.tx)("community.duplicate.duplicate"):(0,o.tx)("community.detail_view.try_it_out"),S={id:E.om.communityResourceInReviewBanner,bannerType:E.x1.INFO,icon:v.A,mainText:(0,o.t)("community.resource.admin_bypass_payment_banner.viewing_as_community_reviewer_admin"),description:(0,o.tx)("community.resource.admin_bypass_payment_banner.you_are_viewing_this_page_as_an_admin_reviewer"),button:{buttonText:N,onClick:()=>{if(x(e.resource)){let t=l.gE(e=>{y((0,m.to)({type:s._,data:{payload:e}}))},{adminReviewerOverride:!0});y(t(e.resource))}else y(d.aI({resource:T,fullscreenEditorType:C,isPlaygroundFile:!!(I.playground_fig_file||C===f.nT.DevHandoff)}))}},dismissible:!0,positionStatic:!0};return r.createElement(g.C,{content:S,editorType:f.nT.Design,onDismiss:()=>w(!1)})}},385422:(e,t,a)=>{a.d(t,{S:()=>k});var r=a(411855),n=a(188507),i=a(776250),o=a(966712),l=a(881388),s=a(939863),c=a(206144),d=a(952540),m=a(662275),u=a(931828),_=a(611978),p=a(860178),f=a(239671),g=a(583894),E=a(59530),h=a(407844),v=a(946689),y=a(493323),b=a(164795),w=a(896572),T=a(834417),I=a(894513),C=a(10388),x=a(247866);function N({isLoading:e,text:t}){return r.createElement("span",{style:{position:"relative"}},e?r.createElement("div",{className:T.sl},r.createElement(y.kt,{shouldMatchTextColor:!0})):void 0,r.createElement("span",{style:{opacity:e?0:1}},t))}var S=a(82388);function k(e){let[t,a]=r.useState(!1),[y,T]=r.useState(!1),k=(0,n.wA)(),L=(0,n.d4)(e=>e.userFlags),A=(0,p.iZ)(),R=(0,_._6)(),[F,O]=r.useState(!1),P=y||e.isFirstTimeLoading,D="isFirstTimeLoading"in e;if(F&&!D||!A)return r.createElement(r.Fragment,null);let{stripe_account_status:M}=A;if(!D&&(!M||M===g.P5.NONE))return r.createElement(r.Fragment,null);let B=M===g.P5.NONE&&(0,o.kc)().cmty_expand_extension_m10n||M===g.P5.ACCEPTED||P?{userFlag:E.WE,bannerContent:function({isLoading:e,onClick:t,showCTA:a}){let n=r.createElement(v.CY,{className:w.$J,target:"_blank",href:"https://help.figma.com/hc/articles/12067637274519-About-selling-Community-resources",trusted:!0},(0,s.t)("general.learn_more"));return{id:b.om.communityM10nApprovalBanner,bannerType:b.x1.INFO,mainText:(0,o.kc)().cmty_expand_extension_m10n?(0,s.t)("community.seller.sell_on_community_v2"):(0,s.t)("community.seller.good_news"),icon:C.A,button:a?{buttonText:r.createElement(N,{isLoading:e,text:(0,s.t)("community.seller.set_up_stripe")}),onClick:t,className:w.mj}:void 0,description:(0,s.tx)("community.seller.you_may_be_eligible_with_link",{learnMoreLink:n}),dismissible:!!a,positionStatic:!0}}({isLoading:t,onClick:()=>{T(!0),k((0,m.to)({type:S.s,data:{setupStripeCallback:e=>{T(!1),e||k(l.s.error((0,s.t)("community.seller.unable_to_launch_stripe_onboarding_please_check_your_details")))}}}))},showCTA:!D})}:M===g.P5.STARTED_ONBOARDING?{userFlag:E.BY,bannerContent:function({onClick:e,isLoading:t,showCTA:a}){return{id:b.om.communityM10nFinishSetupBanner,bannerType:b.x1.INFO,icon:I.A,button:a?{buttonText:r.createElement(N,{isLoading:t,text:(0,s.t)("community.seller.finish_set_up")}),onClick:e,className:w.mj}:void 0,mainText:(0,s.t)("community.seller.finish_stripe_setup"),description:(0,s.t)("community.seller.few_steps_left_stripe"),dismissible:!!a,positionStatic:!0}}({isLoading:t,onClick:()=>{a(!0),k(d.j({callback:()=>a(!1),user:A,selectedView:R}))},showCTA:!D})}:M===g.P5.DISABLED?{userFlag:E.Q7,bannerContent:function({onClick:e,isLoading:t,showCTA:a}){return{id:b.om.communityM10nAdtlInfoNeededBanner,bannerType:b.x1.WARN,icon:x.A,button:a?{buttonText:r.createElement(N,{isLoading:t,text:(0,s.t)("community.seller.visit_stripe")}),onClick:e,className:w.mj}:void 0,mainText:(0,s.t)("community.seller.stripe_needs_your_attention"),description:(0,s.t)("community.seller.you_can_resolve"),dismissible:!!a,positionStatic:!0}}({isLoading:t,onClick:()=>{},showCTA:!D})}:void 0;if(!B)return r.createElement(r.Fragment,null);let{userFlag:U,bannerContent:V}=B,H=()=>{c.ik()?.(u.b({[U]:!0}))};return L[U]&&!D?r.createElement(r.Fragment,null):r.createElement(h.C,{containerClassName:D?w.hL:void 0,content:V,editorType:f.nT.Design,onDismiss:()=>{H(),O(!0),(0,i.sx)("cmty_m10n_banner_dismissed",{userFlag:U})}})}},210448:(e,t,a)=>{a.d(t,{u:()=>q});var r=a(411855),n=a(188507),i=a(966712),o=a(385422),l=a(860601),s=a(939863),c=a(99506),d=a(401730),m=a(239671),u=a(407844),_=a(164795),p=a(967063);function f(e){let{hasPublisherAdminAccess:t,resource:a}=e,n=(()=>{if(t)return a.publishing_status===c.KB.DELISTED_CREATOR_STRIPE_DISABLED?(0,s.tx)("community.resource.delisted_stripe_issues"):a?.monetized_resource_metadata?.is_subscription?(0,s.tx)("community.resource.delisted_prev_purchasers_can_still_access__subscription"):(0,s.tx)("community.resource.delisted_prev_purchasers_can_still_access");if(a?.community_resource_payment?.subscription_expires_at){let e=new Date(a.community_resource_payment.subscription_expires_at).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"});return(0,s.tx)("community.resource.delisted_you_ll_continue_to_have_access_until",{dateString:e})}return a?.community_resource_payment?.status===d.G3.SUCCEEDED?(0,s.tx)("community.resource.delisted_you_ll_continue_to_have_access_to_it"):(0,s.tx)("community.resource.if_you_have_questions_reach_out_to_creator")})(),i={id:_.om.communityResourceInReviewBanner,bannerType:_.x1.WARN,icon:p.A,mainText:(0,s.t)("community.resource.delisted_title"),description:n,dismissible:!1,positionStatic:!0};return r.createElement(u.C,{content:i,editorType:m.nT.Design,onDismiss:l.lQ})}var g=a(158996),E=a(860178);function h(e){if(!(0,E.iZ)())return r.createElement(r.Fragment,null);let t="hub_file"===(0,g.Vm)(e.resource)?(0,s.t)("community.seller.only_you_can_see_your_file"):"plugin"===(0,g.Vm)(e.resource)?(0,s.t)("community.seller.only_you_can_see_your_plugin"):"widget"===(0,g.Vm)(e.resource)?(0,s.t)("community.seller.only_you_can_see_your_widget"):r.createElement(r.Fragment,null),a={id:_.om.communityResourceInReviewBanner,bannerType:_.x1.WARN,icon:p.A,mainText:(0,s.t)("community.seller.this_page_is_private"),description:t,dismissible:!1,positionStatic:!0};return r.createElement(u.C,{content:a,editorType:m.nT.Design,onDismiss:l.lQ})}function v(e){if(!(0,E.iZ)())return r.createElement(r.Fragment,null);let t="hub_file"===(0,g.Vm)(e.resource)?(0,s.t)("community.resource.unpublished_banner.only_you_can_see_this_page.hub_file"):"plugin"===(0,g.Vm)(e.resource)?(0,s.t)("community.resource.unpublished_banner.only_you_can_see_this_page.plugin"):"widget"===(0,g.Vm)(e.resource)?(0,s.t)("community.resource.unpublished_banner.only_you_can_see_this_page.widget"):r.createElement(r.Fragment,null),a={id:_.om.communityResourceInReviewBanner,bannerType:_.x1.WARN,icon:p.A,mainText:(0,s.t)("community.resource.unpublished_banner.your_resource_is_unpublished"),description:t,dismissible:!1,positionStatic:!0};return r.createElement(u.C,{content:a,editorType:m.nT.Design,onDismiss:l.lQ})}var y=a(545941),b=a(782501),w=a(555328);let T=a(392922).H;function I(e){let t={id:_.om.communityResourceInReviewBanner,bannerType:_.x1.WARN,icon:p.A,mainText:(0,s.t)("community.resource.admin_blocked_resource_banner.this_resource_is_blocked"),description:(0,s.t)("community.resource.admin_blocked_resource_banner.you_can_only_view_this_page_as_an_admin"),dismissible:!1,positionStatic:!0};return r.createElement(u.C,{content:t,onDismiss:l.lQ})}var C=a(737947),x=a(71881),N=a(749949),S=a(837324),k=(e=>(e.EDIT_THIS_PAGE="edit_this_page",e.OPEN_ORIGINAL_FILE="open_original_file",e.UNPUBLISH="unpublish",e.DELIST="delist",e.MANAGE_RESOURCE="manage_resource",e))(k||{}),L=a(417659),A=a(410424),R=a(941381),F=a(446686),O=a(57879),P=a(738269),D=a(662275),M=a(672517),B=a(988022),U=a(946413),V=a(741477),H=a(813408),W=a(143678),j=a(237870),$=a(728587),G=a(488578),Y=a(109361);let z="MANAGE_RESOURCE_DROPDOWN_TYPE",Q=(0,j.Ju)(G.Rw);function K(e){let{resource:t,fileKey:a}=e,i=(0,n.wA)(),o=r.useRef(null),c=(0,n.d4)((0,V.E)(z)),d=(0,n.d4)(e=>e.currentUserOrgId),p=(0,N.J)(),f=(0,S.U0)(t),h=(0,w.U)(e.resource)?W.e0.COMMUNITY_HUB_FILE:(0,w.xQ)(t)?W.e0.COMMUNITY_HUB_WIDGET:W.e0.COMMUNITY_HUB_PLUGIN,v=(0,E.iZ)(),b=(0,w.U)(e.resource),T=(0,w.I0)(e.resource);if(r.useEffect(()=>{b?i((0,A.ts)({hubFileId:e.resource.id})):i((0,R.af)({id:e.resource.id,resourceType:T?w.bD.PLUGIN:w.bD.WIDGET}))},[i,e.resource.id,d,b,T]),!v)return null;let I=(0,w.m3)(t),j=[],G=(0,s.t)("community.resource.edit_this_page");if(j.push({displayText:G,callback:()=>{(0,w.U)(t)?((0,B.Cu)({name:k.EDIT_THIS_PAGE,hubFileId:t.id,isMonetized:I,text:G,trackingContext:W.e0.COMMUNITY_HUB_FILE,searchSessionId:p,has_carousel_media_nudge:f}),a&&i((0,F.t)({fileKey:a,isFullscreenOpen:!1,isEditHubFilePageMode:!0,entryPoint:H.k2.RESOURCE_PAGE,canvasThumbnailPromise:(0,U.$)(a,v)}))):((0,B.Cu)({pluginId:t.id,name:k.EDIT_THIS_PAGE,isMonetized:I,text:G,trackingContext:h,searchSessionId:p,has_carousel_media_nudge:f}),i((0,O.r)({publishedPluginId:t.id,entryPoint:H.k2.RESOURCE_PAGE})))}}),(0,w.U)(t)){let e=(0,s.t)("community.hub_files.open_original_file");if(j.push({displayText:e,callback:()=>{(0,B.Cu)({name:k.OPEN_ORIGINAL_FILE,hubFileId:t.id,isMonetized:I,text:e,trackingContext:W.e0.COMMUNITY_HUB_FILE,searchSessionId:p,has_carousel_media_nudge:f}),C.Ay.redirect(`/file/${a}`,"_blank")}}),!(0,y.Pg)(t)){j.push({displayText:"",disabled:!0,separator:!0});let e=(0,s.t)(I?"community.resource.delist":"community.resource.unpublish");j.push({displayText:e,callback:()=>{(0,B.Cu)({name:I?k.DELIST:k.UNPUBLISH,hubFileId:t.id,isMonetized:I,text:e,trackingContext:W.e0.COMMUNITY_HUB_FILE}),i((0,D.to)({type:Q,data:{confirmationTitle:I?(0,s.t)("community.hub_files.delist_file_from_community_hub"):(0,s.t)("community.hub_files.remove_file_from_community_hub"),content:I?(0,s.t)("community.hub_files.delisting_this_resource_will_prevent_people_from_discovering_or_purchasing_this_resource"):(0,s.t)("community.hub_files.unpublishing_this_file_will_remove_it_from_the_community_hub_and_prevent_people_from_finding_and_using_this_file"),confirmText:I?(0,s.t)("community.resource.delist"):(0,s.t)("community.resource.unpublish"),cancelText:(0,s.t)("general.cancel"),onConfirm:()=>{i((0,A.ax)({hubFileId:t.id,redirectLink:(0,L.bL)(t.publisher.profile_handle)}))},destructive:!0}}))}})}}let K=r.createElement(x.g,{ref:o,buttonClassName:"show_resource_creator_banner--manageResourceCTA--lYOcA text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:()=>{c||((0,B.Cu)({name:k.MANAGE_RESOURCE,resourceId:t.id,has_carousel_media_nudge:f,trackingContext:h,searchSessionId:p}),i((0,P.j7)({type:z})))},isShowingDropdown:!1},(0,s.t)("community.resource.manage_resource")),q={id:_.om.CommunityResourceCreatorBanner,bannerType:_.x1.INFO,icon:Y.A,iconSize:"large",mainText:(0,s.t)("community.resource.your_resource_is_live"),description:f?(0,w.U)(t)?(0,s.t)("community.resource.next_we_recommend_adding_more_images"):(0,w.xQ)(t)?(0,s.t)("community.resource.next_we_recommend_adding_more_images_and_videos",{resourceType:(0,s.t)("community.plugins.widget")}):(0,s.t)("community.resource.next_we_recommend_adding_more_images_and_videos",{resourceType:(0,s.t)("community.plugins.plugin")}):void 0,dismissible:!1,positionStatic:!0,button:{type:_.MA.CUSTOM,element:K}};return r.createElement(M.fu,{name:"RDP Creator Banner",properties:{name:"rdp_creator_banner",resourceId:t.id,resourceType:(0,g.Vm)(t),hasCarouselMediaNudge:f}},r.createElement(u.C,{content:q,editorType:m.nT.Design,onDismiss:l.lQ}),o.current&&c&&r.createElement($.j,{dispatch:i,items:j,showPoint:!0,parentRect:o.current?.getBoundingClientRect(),onSelectItem:e=>{e.callback&&e.callback("",null,i)},minWidth:120}))}function q(e){let{resource:t}=e,a=(0,n.d4)(e=>(0,b.MK)(e,t)),l=(0,n.d4)(e=>(0,w.U)(t)?(0,b.cN)(e,t,a):(0,b.Wd)(e,t)),s=(0,b.RB)(t),c=(0,w.Uz)(t)?t.fig_file_metadata?.key:void 0;return(0,i.kc)().community_hub_admin&&(0,y.lT)(t)?r.createElement(I,{resource:t}):(0,i.kc)().community_hub_admin_reviewer&&(0,w.m3)(t)?r.createElement(T,{resource:t}):t.publishing_status?l&&(0,y.AC)(t)?r.createElement(h,{resource:t}):(0,y.Pg)(t)?r.createElement(f,{hasPublisherAdminAccess:l,resource:t}):(0,w.U)(t)&&s?r.createElement(K,{resource:t,fileKey:c}):((0,w.I0)(t)||(0,w.xQ)(t))&&s?r.createElement(K,{resource:t}):r.createElement(o.S,null):r.createElement(v,{resource:t})}},643233:(e,t,a)=>{a.d(t,{i:()=>L});var r=a(411855),n=a(188507),i=a(675678),o=a(563706),l=a(776621),s=a(877723),c=a(799569),d=a(939863),m=a(359170),u=a(662275),_=a(237870),p=a(488578);let f=(0,_.Ju)(function(e){return r.createElement(p.aF,{title:r.createElement("div",{className:"feature_not_available_modal--title--kPAVe text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,d.tx)("community.collections.this_feature_isnt_available")),className:"feature_not_available_modal--modalContainer--Etu7A"},r.createElement(c.s_,{dispatch:e.dispatch}),r.createElement("div",{className:"feature_not_available_modal--modalBody--Dhwo0 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,d.tx)("community.collections.this_feature_isnt_available_body")," ",r.createElement("a",{className:"feature_not_available_modal--learnMore--L4kDU modal--blueLink--9GcJu blue_link--blueLink--9rlnd",target:"_blank",href:"https://help.figma.com/hc/en-us/articles/17725942479127-Access-or-opt-out-of-AI-features"},(0,d.tx)("community.collections.learn_more"))),r.createElement("div",{className:"feature_not_available_modal--buttonContainer--9-Zwv"},r.createElement(m.$$,{onClick:()=>{e.dispatch(u.Ce())}},(0,d.tx)("general.got_it"))))}," FeatureNotAvailableModal");var g=a(890555),E=a(119198),h=a(988022),v=a(102310),y=a(99506),b=a(945020),w=a(435898),T=a(629019),I=a.n(T),C=a(999021),x=a(375360),N=a(920506),S=a(650168);function k({title:e,description:t,imageUrl:a,onClick:n}){let i=(0,o.o4)();return r.createElement("div",{className:I()(N.Ui,"figjam_ai_card--cardContainer--kCDdk"),"data-testid":"collection-figjam-ai-card"},r.createElement("div",{className:I()(N.Nr,"figjam_ai_card--card--KTu46")},i?r.createElement("div",{className:"figjam_ai_card--mobileOverlay--EhOsZ"},r.createElement("button",{className:I()("figjam_ai_card--invisibleButton--LuV4E"),onClick:n})):r.createElement("div",{className:"figjam_ai_card--overlayContainer--dDIiY"},r.createElement("div",{className:"figjam_ai_card--overlay--g6q4O"}),r.createElement("button",{className:I()("figjam_ai_card--ctaButton--wveh5",S.jx,S.tt,S.hh),onClick:n},(0,d.tx)("community.collections.generate"))),r.createElement(x.tL,{title:e,description:t}),r.createElement(C.c,{srcSet:"",src:a,image_type:"COMMUNITY_HUB_FILE_THUMBNAIL",alt:e,className:I()(N.Sl,"figjam_ai_card--image--L-R2C"),imageProps:{onLoad:e=>e.currentTarget.style.opacity="1"}})))}function L({title:e,description:t,imageUrl:a,prompt:c,promptCategory:d}){let m=(0,n.wA)(),_=(0,v.B)(),p=(0,o.o4)(),T=(0,s.q8)(),I=(e,t)=>{m(E.zE({state:_,from:b.f6.COMMUNITY_COLLECTIONS_PAGE,editorType:y._Y.WHITEBOARD,team:void 0,openNewFileIn:b.ai.NEW_TAB,figjamAiNewFileData:{prompt:e,subtitle:e,useCaseCategory:t,entrypoint:w.fV.COMMUNITY}}))};return r.createElement(k,{onClick:()=>{(0,h.Cu)({name:"community_collections_figjam_ai",prompt:c,title:e,description:t,promptCategory:d,isMobile:`${p}`}),p?m((0,u.to)({type:g.s,data:{dispatch:m}})):T?m((0,u.to)({type:f,data:{dispatch:m}})):Object.values(w.es).includes(d)?I(c,d):(0,l.$D)(i.FigmaTeam.COMMUNITY,Error(`Invalid use case category (${d}) for figjam ai card: ${e}`))},title:e,description:t,imageUrl:a})}},890555:(e,t,a)=>{a.d(t,{s:()=>d});var r=a(411855),n=a(799569),i=a(939863),o=a(662275),l=a(137459),s=a(237870),c=a(488578);let d=(0,s.Ju)(function(e){let t=(0,i.t)("rcs.redirect_from_mobile_to_desktop.head_to_figjam_on_desktop"),a=(0,i.t)("community.collections.head_to_desktop"),s="https://static.figma.com/uploads/f95cfc857cdc5c164958966add0665b69673667c";return e.editorType===l.LE.SLIDES&&(t=(0,i.t)("rcs.redirect_from_mobile_to_desktop.head_to_slides_on_desktop"),a=(0,i.t)("community.collections.head_to_desktop_slides"),s="https://static.figma.com/uploads/d5fbdadc97f3d94063357e9819c314ade9055df3"),r.createElement(c.aF,{className:"head_to_desktop_modal--modalContainer--BRiSA"},r.createElement(n.s_,{dispatch:e.dispatch}),r.createElement("img",{width:"100%",alt:a,src:s}),r.createElement("div",{className:"head_to_desktop_modal--modalBody--n9Et8 text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement("h1",{className:"head_to_desktop_modal--title--kJAKG text--fontPos18--rYXJb text--_fontBase--QdLsd"},t),r.createElement("p",null,a),r.createElement("button",{className:"head_to_desktop_modal--gotIt--StOau",onClick:()=>{e.dispatch(o.Ce())}},(0,i.tx)("general.got_it"))))}," HeadToDesktopModal")},375360:(e,t,a)=>{a.d(t,{rS:()=>E,tL:()=>b});var r=a(411855);if(443==a.j)var n=a(860601);var i=a(999021),o=a(939863),l=a(674694),s=a(240411),c=a(240837),d=a(731801),m=a(837324),u=a(545941),_=a(158996),p=a(672517),f=a(555328),g=a(920506);function E({resource:e,title:t,description:a}){switch((0,_.Vm)(e)){case f.vt.HUB_FILE:return r.createElement(h,{hubFile:e,title:t,description:a,key:e.id});case f.vt.WIDGET:return r.createElement(v,{widget:e,title:t,description:a,key:e.id});case f.vt.PLUGIN:return r.createElement(y,{plugin:e,title:t,description:a,key:e.id});default:return null}}function h({hubFile:e,title:t,description:a}){let i=(0,m.qD)(e),o=(0,m._t)({resource:e});return r.createElement("div",{className:g.Ui,"data-testid":"collection-resource-card"},r.createElement(p.o3,{className:g.Nr,to:o,trackingEventName:"community_collections",trackingProperties:{name:"hub_file_card_clicked",href:o},target:"_blank"},r.createElement(b,{title:t??i.name,description:a??i.description}),r.createElement(l.Xy,{className:g.Sl,image:e.thumbnail_url,hubFileId:e.id,onLoad:n.lQ,alt:i.name,resizedThumbnailUrls:e.resized_thumbnail_urls})),r.createElement(w,{resource:e}))}function v({widget:e,title:t,description:a}){let n=(0,m.qD)(e),o=(0,m._t)({resource:e});return r.createElement("div",{className:g.Ui,"data-testid":"collection-resource-card"},r.createElement(p.o3,{className:g.Nr,to:o,trackingEventName:"community_collections",trackingProperties:{name:"widget_card_clicked",href:o},target:"_blank"},r.createElement(b,{title:t??n.name,description:a??n.description}),r.createElement(i.c,{srcSet:"",src:n.redirect_snapshot_url||n.redirect_icon_url,image_type:"COMMUNITY_HUB_FILE_THUMBNAIL",alt:n.name,className:g.Sl,imageProps:{onLoad:e=>e.target.style.opacity="1"}})),r.createElement(w,{resource:e}))}function y({plugin:e,title:t,description:a}){let n=(0,m.qD)(e),o=(0,m._t)({resource:e});return r.createElement("div",{className:g.Ui,"data-testid":"collection-resource-card"},r.createElement(p.o3,{className:g.Nr,to:o,trackingEventName:"community_collections",trackingProperties:{name:"plugin_card_clicked",href:o},target:"_blank"},r.createElement(i.c,{srcSet:"",src:n.redirect_icon_url,image_type:"COMMUNITY_HUB_FILE_THUMBNAIL",alt:n.name,className:g.t3,imageProps:{onLoad:e=>e.target.style.opacity="1"}}),r.createElement(b,{title:t??n.name,description:a??n.description})),r.createElement(w,{resource:e}))}function b({title:e,description:t}){return r.createElement("div",{className:g.pq},r.createElement("div",{className:g.DD},e),r.createElement("div",{className:g.h_},r.createElement(d._,{description:t})))}function w({resource:e}){return r.createElement("div",{className:g.qr},r.createElement("div",{className:g.ME},r.createElement(c.L,{publishers:e.community_publishers?.accepted||[]}),r.createElement("div",{className:g.vR},(0,o.tx)("community.cards.by"),r.createElement(c.I,{publishers:e.community_publishers?.accepted||[],removeByLabel:!0,openInNewTab:!0}))),r.createElement("div",{className:g.uK},r.createElement(s.cz,{likeCount:e.like_count,currentUserLiked:!1}),r.createElement(s.i8,{usageCount:(0,u.mk)(e)})))}},784087:(e,t,a)=>{a.d(t,{X:()=>eF});var r=a(411855),n=a(188507),i=a(697551),o=a(782501),l=a(560718),s=a(860178),c=a(776250),d=a(183297),m=a(493323);function u(e){let t=r.useRef(null);return r.useEffect(()=>{let a=()=>{window.innerHeight<(t.current?.getBoundingClientRect().bottom||1/0)||e.onScrollToBottom()};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[e]),r.createElement("div",{ref:t},e.children,e.showLoader&&r.createElement("div",{className:"infinite_scroll_container--loadingSpinner--UMKR8"},r.createElement(m.kt,null)))}function _(e){let{onScrollToBottom:t,children:a,showLoader:n}=e;return r.createElement(u,{onScrollToBottom:t,children:a,showLoader:n})}_.displayName="WithInfiniteScroll";var p=a(135876),f=a(428322),g=a(939863),E=a(749949),h=a(158996),v=a(609271),y=a(63397),b=a(107877),w=a(820642),T=a(555328),I=a(323667),C=a(738269),x=a(994988),N=a(318812),S=a(855466),k=a(728587);let L="comments_view--loader--tz-FD",A="comments-sort-dropdown",R="SHOW_RESOLVED",F=function({labelClassName:e,includeShowResolved:t,isLoggedIn:a}){let i=(0,n.wA)(),o=(0,N.Um)(),l=(0,n.d4)(e=>e.communityHub.comments.activeFeedType),s=(0,n.d4)(e=>e.communityHub.comments.showResolved),d=r.useRef(null),[m,u]=r.useState(null),_=o?.type===A,p={ALL:"All",ME:"Your comments",COMMENTS:"Comments only",RATINGS_REVIEWS:"Reviews only"},f=e=>{switch(e){case p.ALL:return(0,g.t)("community.comments.all");case p.ME:return(0,g.t)("community.comments.your_comments");case p.COMMENTS:return(0,g.t)("community.comments.comments_only");case p.RATINGS_REVIEWS:return(0,g.t)("community.comments.reviews_only");default:return""}},E=o?.data?.targetRect;r.useEffect(()=>{E&&u(E)},[E]);let h=Object.keys(p).filter(e=>a||e!==T.Qv.ME).filter(e=>e!==T.Qv.RATINGS_REVIEWS&&e!==T.Qv.COMMENTS).map(e=>({displayText:f(p[e]),name:e,isChecked:e===l}));return t&&(h.push({displayText:"",separator:!0,name:void 0}),h.push({displayText:(0,g.t)("community.comments.show_resolved"),isChecked:s,name:R})),r.createElement("div",null,r.createElement("div",{onClick:e=>{e.stopPropagation();let t=d.current;_?i(C.oB()):t&&(u(t.getBoundingClientRect()),i(C.j7({type:A})))},className:e||"comments_view--commentsSortLabel--mpkGD"},f(p[l]),r.createElement(S.c,{className:"comments_view--commentsSortChevron--989-q",dispatch:i,dropdownKey:A,showingDropdown:_,divRef:d,toggleOnClick:!0})),_&&m&&r.createElement(k.j,{dispatch:i,items:h,parentRect:m,onSelectItem:e=>{(0,c.sx)("Comments Filter Changed",{thread_type:"community_preview",view:e.name}),e.name&&(e.name===R?i(x.mH(!s)):i(y.Zj(e.name)))},minWidth:164,showPoint:!0}))};var O=a(460845),P=a(629019),D=a.n(P),M=a(564577),B=a(163023),U=a(281381);function V(){return r.createElement(U.Ex,{text:(0,g.t)("community.comments.creator"),color:U.zE.TOOLBAR,className:"creator_badge--creatorBadge--P5vsL"})}var H=a(417659),W=a(498606),j=a(928491);let $="comment_tile--commentContainerFadeOut--AMWrR",G="comment_tile--nextSiblingCommentReset--4shUj",Y="comment_tile--iconButton--MZmz1";function z(e){return document.querySelector(`[data-comment-id="${e}"]`)}let Q={fadeOut:async(e,t)=>{t||(t={resetNextComment:!1});let a=z(e);if(!a)return;let r=a.getBoundingClientRect();a.classList.add($);let n=a.nextSibling;return n&&(n.style.marginTop=`-${r.height-1}px`),await new Promise(e=>setTimeout(e,Q.ANIMATION_LENGTH)),t.resetNextComment&&Q.resetNextComment(n?.dataset.commentId),n?.dataset.commentId},resetNextComment:e=>{let t=e&&z(e);t&&(t.classList.add(G),t.style.marginTop="0px",setTimeout(()=>t.classList.remove(G),50))},fadeIn:e=>{let t=document.querySelector(`[data-comment-id="${e}"]`);if(!t)return;t.classList.remove($);let a=t.nextSibling;a&&(a.style.marginTop="0px")},ANIMATION_LENGTH:400};var K=a(400333),q=a(227795),Z=a(800576),X=a(392592),J=a(62589),ee=a(97128),et=a(970516),ea=a(662275),er=a(965837),en=a(688734),ei=a(946689),eo=a(67294),el=a(237870),es=a(488578),ec=a(157199);let ed=(0,el.Ju)(function(e){let t=e.reportType===l.nI.REPORT_AND_HIDE,a=t?(0,g.t)("community.comments.report_and_hide_author_name_s_comment",{authorName:e.comment.author.name}):(0,g.t)("community.comments.report_author_name_s_comment",{authorName:e.comment.author.name}),n=r.createElement("p",{className:ec.zC},t?(0,g.t)("community.comments.this_will_flag_the_comment_for_review_and_hide_it_for_everyone"):(0,g.t)("community.comments.this_will_flag_the_comment_for_review")," ",(0,g.t)("community.comments.comment_author_will_not_be_notified",{authorName:e.comment.author.name})," ",(0,g.tx)("community.comments.please_read_our_link_before_reporting",{link:r.createElement(ei.CY,{href:"https://help.figma.com/hc/articles/360038510573-Figma-Community-Guidelines",target:"_blank",trusted:!0},(0,g.tx)("community.community_guidelines"))}));return r.createElement(es.Rw,{confirmationTitle:a,confirmText:(0,g.t)("community.comments.report"),onConfirm:()=>e.onReport(e.comment.id),destructive:!0},r.createElement("div",{className:ec.RZ,"data-testid":"comment-confirm-report-modal-content"},r.createElement(eo.H8,{user:e.comment.author,size:eo.Pf.LARGE}),n))},"CommentConfirmReportModal");var em=(e=>(e.COPY_LINK="Copy link",e.EDIT="Edit",e.DELETE="Delete",e.DELETE_THREAD="Delete thread",e.FOLLOW_PROFILE="Follow",e.UNFOLLOW_PROFILE="Unfollow",e.BLOCK_PROFILE_COMMENTING="Restrict user's comments",e.UNBLOCK_PROFILE_COMMENTING="Unrestrict user's comments",e.REPORT_COMMENT="Report",e.REPLY="Reply",e))(em||{});function eu(e){return{name:e,displayText:function(e){switch(e){case"Copy link":return(0,g.t)("community.comments.copy_link");case"Edit":return(0,g.t)("community.comments.edit");case"Delete":return(0,g.t)("community.comments.delete");case"Delete thread":return(0,g.t)("community.comments.delete_thread");case"Follow":return(0,g.t)("community.follow.follow");case"Unfollow":return(0,g.t)("community.follow.unfollow");case"Restrict user's comments":return(0,g.t)("community.comments.restrict_user_s_comments");case"Unrestrict user's comments":return(0,g.t)("community.comments.unrestrict_user_s_comments");case"Report":return(0,g.t)("community.comments.report_comment");case"Reply":return(0,g.t)("community.comments.reply")}}(e)}}function e_(e){let t=(0,n.wA)(),a=(0,s.iZ)(),{apiResourceType:i,resourceId:o}=(0,J.Rd)(ee.ax),d=()=>{e.onEdit?.()},m=()=>{e.onDelete&&t((0,ea.to)({type:er.h,data:{onConfirm:()=>e.onDelete()}}))},u=()=>{t(et.lW({stringToCopy:(0,Z.ky)(new ee.ax({apiResourceType:i,resourceId:o},{comment:e.comment.id}).href)}))},_=(r,n)=>{t(y._8({blockedProfileId:n,profileId:r,onSuccess:()=>{t(x.BV({authorId:n,removeCommentsCallback:async e=>{e.map(e=>Q.fadeOut(e.id,{resetNextComment:!0})),await new Promise(e=>setTimeout(e,Q.ANIMATION_LENGTH))}})),t(X.F.enqueue({message:(0,g.t)("community.comments.restricted_this_user_s_comments"),type:"profile-restricted-change"})),(0,c.sx)("comment_profile_restricted",{restricted_by_profile_id:a?.community_profile_id,restricted_profile_id:n,entry_point:"comment",comment_id:e.comment.id})}}))},p=(a,r)=>{t(y.dL({blockedProfileId:r,profileId:a,onSuccess:()=>{t(X.F.enqueue({message:(0,g.t)("community.comments.unrestricted_this_user_s_comments"),type:"profile-restricted-change",button:{text:(0,g.t)("community.comments.undo"),action:()=>{_(a,r)}}})),(0,c.sx)("comment_profile_unrestricted",{unrestricted_by_profile_id:a,unrestricted_profile_id:r,comment_id:e.comment.id,entry_point:"comment"})}}))},f=()=>{let{profileIdToAdminResourceAs:a}=e,r=e.comment?.author.id;a&&r&&t((0,ea.to)({type:en.H,data:{onBlock:()=>_(a,r),confirmationTitle:(0,g.t)("community.comments.remove_comment_and_restrict_user"),confirmButtonText:(0,g.t)("community.comments.remove_and_restrict")}}))},E=e=>{t(y.e6(e))},h=e=>{t(y.X2(e))},v=async a=>{let r=await Q.fadeOut(a);t(x.eG({commentId:a,userIsAdmin:!!e.userIsAdmin,onFinish:e=>{e?Q.fadeIn(a):r&&Q.resetNextComment(r)}}))},b=e=>{t((0,ea.to)({type:ed,data:{comment:e,reportType:l.nI.REPORT_AND_HIDE,onReport:v}}))},w=e=>{t((0,ea.to)({type:ed,data:{comment:e,reportType:l.nI.REPORT,onReport:v}}))};return r.createElement(k.j,{dispatch:t,items:e.items,showPoint:!0,parentRect:e.parentRect,onSelectItem:(t,a)=>{"Edit"===t.name?d():"Delete"===t.name||"Delete thread"===t.name?m():"Copy link"===t.name?u():"Follow"===t.name&&e.comment.author.id?E(e.comment.author.id):"Unfollow"===t.name&&e.comment.author.id?h(e.comment.author.id):"Restrict user's comments"===t.name&&e.comment.author.id&&e.profileIdToAdminResourceAs?f():"Unrestrict user's comments"===t.name&&e.comment.author.id&&e.profileIdToAdminResourceAs?p(e.profileIdToAdminResourceAs,e.comment.author.id):"Report"===t.name?e.userIsAdmin?b(e.comment):w(e.comment):"Reply"===t.name&&e.onReply?.()},minWidth:96,dataTestId:"comment-menu"})}function ep(e){let t=[eu(em.EDIT),eu(e.isThreadParent?em.DELETE_THREAD:em.DELETE)];return e.hideCopyLink||t.push(eu(em.COPY_LINK)),r.createElement(e_,{comment:e.comment,parentRect:e.parentRect,items:t,onEdit:e.onEdit,onDelete:e.onDelete})}function ef(e){let t=[];return e.canReplyToComment&&t.push(eu(em.REPLY)),e.hideCopyLink||t.push(eu(em.COPY_LINK)),t.push(eu(e.author.is_restricted_by_current_user?em.UNBLOCK_PROFILE_COMMENTING:em.BLOCK_PROFILE_COMMENTING)),t.push(eu(em.REPORT_COMMENT)),r.createElement(e_,{profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,comment:e.comment,parentRect:e.parentRect,items:t,onDelete:e.onDelete,onReply:e.onReply,userIsAdmin:!0})}function eg(e){let t=[];return e.userExists&&t.push(eu(em.REPORT_COMMENT)),e.hideCopyLink||t.unshift(eu(em.COPY_LINK)),r.createElement(e_,{comment:e.comment,parentRect:e.parentRect,items:t})}function eE(e){var t;let a=(0,s.iZ)(),o=(0,n.d4)(e=>e.authedActiveCommunityProfile),c=(0,n.d4)(t=>t.communityHub.comments.commentsById[e.comment.id]),d=(0,n.d4)(e=>e.communityHub.comments.authorsById[c.author.id]),m=(t=l.ej.COMMUNITY,!!a&&t===l.ej.COMMUNITY&&!(0,i.cs)(o)&&c.author.profile_handle===a.community_profile_handle),u=o?.id===e.profileIdToAdminResourceAs;return m?r.createElement(ep,{comment:c,parentRect:e.parentRect,onEdit:()=>e.onEdit(c),onDelete:()=>e.onDelete(c),hideCopyLink:e.hideCopyLink,isThreadParent:e.isThreadParent}):e.profileIdToAdminResourceAs&&u?r.createElement(ef,{profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,author:d,comment:c,parentRect:e.parentRect,onDelete:e.onDelete,hideCopyLink:e.hideCopyLink,canReplyToComment:!!e.onReply,onReply:()=>e.onReply?.(c)}):r.createElement(eg,{comment:c,parentRect:e.parentRect,userExists:!!a,hideCopyLink:e.hideCopyLink})}var eh=a(503457);let ev=(0,eh.kf)("lazy_create_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(7481),a.e(3630),a.e(8410)]).then(a.bind(a,195634))).CreateCommentComposer})}),ey=(0,eh.kf)("lazy_edit_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(7481),a.e(3630),a.e(8410)]).then(a.bind(a,439827))).EditCommentComposer})}),eb=(0,eh.kf)("lazy_reply_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(7481),a.e(3630),a.e(8410)]).then(a.bind(a,711379))).ReplyCommentComposer})});(0,eh.kf)("lazy_comment_editable_typeahead",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([a.e(2399),a.e(1398),a.e(1876),a.e(3036),a.e(4195),a.e(441),a.e(8547),a.e(4586),a.e(7054),a.e(214),a.e(4920),a.e(3779),a.e(6739),a.e(7481),a.e(3630),a.e(8410)]).then(a.bind(a,195634))).CommentEditableTypeahead})});var ew=a(95779),eT=a(210105);function eI(e){let{comment:t,author:a,userIsAuthor:i,isAuthorAcceptedPublisher:o}=e,[s,d]=r.useState(!1),m=r.useRef(null),u=(0,n.d4)(e=>e.dropdownShown),_=(0,n.wA)(),[p,f]=r.useState(!1),[h,v]=r.useState(null),y=r.useCallback(()=>{u?.type===l.Ng&&_(C.oB())},[u,_]);r.useEffect(()=>(window.addEventListener("scroll",y,!1),()=>{window.removeEventListener("scroll",y,!1)}),[y]);let b=(0,E.J)();if(!t||!a)return r.createElement(r.Fragment,null);let w=async()=>{let a=await Q.fadeOut(t.id);_(x.Tu({commentId:t.id,commentType:e.commentType,onFinish:e=>{e?Q.fadeIn(t.id):Q.resetNextComment(a)}}))};if(p)return r.createElement(ey,{fallback:null,errorFallback:null,commentType:e.commentType,commentId:t.id,message:t.message,messageMeta:t.message_meta??[],onComplete:()=>{(0,c.sx)(I.E,{commentId:t?.id,message:t?.message,userId:a.primary_user_id,profileId:a.id,resourceType:e.resourceType,resourceId:e.resourceId,searchSessionId:b},{forwardToDatadog:!0}),f(!1)}});let T=e.selected&&!e.isCreatorReply,N=t.reply_count,S=!!(u&&u.type===l.Ng&&u.data.commentId===t.id),k=!!t.hidden_at&&!i,L=new H.xn({profileHandle:a.profile_handle}).to;return r.createElement("div",{className:D()(T?"comment_tile--tempSelectedCommentTile--eo1zi comment_tile--selectedCommentTile--9xoJJ comment_tile--commentTile--Y-2jW comment_tile--commentContainer--alB5v":"comment_tile--commentTile--Y-2jW comment_tile--commentContainer--alB5v",{"comment_tile--creatorReplySelectedParent--aVNCs comment_tile--creatorReply--OO0It":!!e.selected&&e.isCreatorReply,"comment_tile--creatorReply--OO0It":!e.selected&&e.isCreatorReply,"comment_tile--noSeparator--RL2vm":e.hideSeparator}),"data-comment-id":t.id,role:"button",tabIndex:0},r.createElement(O.N_,{className:"comment_tile--commentAvatarContainer--e8z35",to:L},r.createElement(j.Ro,{entity:a,size:32,className:"comment_tile--commentAvatar--5xfu2 community_hub_view--creatorInsetBorder--z2InY community_hub_view--creatorInsetBorderNoHover--27smC"})),r.createElement("div",{className:e.hideSeparator||T?"comment_tile--commentContentWrapperNoBorder--Poey3 comment_tile--commentContentWrapper--L2vv2":"comment_tile--commentContentWrapper--L2vv2"},r.createElement("div",{className:"comment_tile--commentContent--QUN--"},r.createElement("div",{className:"comment_tile--commentMetaAndOptions--Avk6k"},r.createElement("div",null,r.createElement(O.N_,{className:"comment_tile--commentAuthorLink--3Q-Ty ellipsis--ellipsis--Tjyfa",to:L},r.createElement("span",{className:"comment_tile--commentAuthor--X2tiN text--fontPos13--xW8hS text--_fontBase--QdLsd"},a.name),r.createElement("span",{className:"comment_tile--commentAuthorHandle--qrjUX comment_tile--commentTime--Zz1IX text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},`@${a.profile_handle}`)),o&&r.createElement(V,null),r.createElement("span",{className:"comment_tile--commentMetaDivider--pzekb text--fontPos13--xW8hS text--_fontBase--QdLsd"},"\xb7"),r.createElement(M.h1,{className:"comment_tile--commentTime--Zz1IX text--fontPos11--2LvXf text--_fontBase--QdLsd",date:t.created_at})),r.createElement("div",{className:"comment_tile--commentOptions--hNQQM"},k&&r.createElement(B.B,{className:"comment_tile--isHiddenIcon--isUzt",svg:eT.A}),r.createElement("div",{className:Y},r.createElement(q.K0,{svg:ew.A,ref:m,onClick:e=>{let a=m.current;u?y():a&&(v(a.getBoundingClientRect()),_(C.j7({type:l.Ng,data:{commentId:t.id}}))),e.stopPropagation()},className:S?"comment_tile--iconButtonSelected--CaL6y raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6":Y,"data-tooltip-type":W.Ib.TEXT,"data-tooltip":(0,g.t)("community.comments.comment_actions")})))),r.createElement("div",{className:k?"comment_tile--messageIsHidden--e-XiE comment_tile--commentMessage--W-vWb comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd":"comment_tile--commentMessage--W-vWb comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd"},r.createElement(K.HH,{messageMeta:t.message_meta??[],className:"comment_tile--commentMessageText---N-OK text--fontPos13--xW8hS text--_fontBase--QdLsd",showEditedIndicator:!!t.edited_at,commentId:t.id})),s&&r.createElement("div",{className:"comment_tile--replyComposerContainer--Cfzby"},r.createElement(eb,{fallback:null,errorFallback:null,commentType:e.commentType,parentId:t.id,resourceId:e.resourceId,resourceType:e.resourceType,onSuccessCallback:()=>d(!1),onComplete:()=>d(!1)})))),S&&h&&r.createElement(eE,{parentRect:h,comment:t,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,onEdit:()=>{f(!0)},onDelete:w,hideCopyLink:!!t.parent_id,isThreadParent:N>0,onReply:0===t.reply_count?()=>{d(!0)}:void 0}))}let eC=(0,n.Ng)((e,t)=>{let{comments:a}=e.communityHub,r=a.commentsById[t.id],n=t.replyId?a.commentsById[t.replyId]:void 0;if(!r)return{user:e.user||null};let i=a.authorsById[r.author.id],o=a&&a.selectedCommentId===r.id,l=n?a.authorsById[n.author.id]:void 0;return{user:e.user||null,comment:r,creatorReply:n,replyAuthor:l,author:i,userIsResponder:l?.id===e.user?.community_profile_id,userIsAuthor:i.id===e.user?.community_profile_id,selected:o}})(function(e){return r.createElement(r.Fragment,null,r.createElement(eI,{id:e.id,user:e.user,comment:e.comment,author:e.author,selected:e.selected,userIsAuthor:e.userIsAuthor,commentType:e.commentType,isAuthorAcceptedPublisher:e.isAuthorAcceptedPublisher,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hideSeparator:e.hideSeparator||!!e.creatorReply,resourceType:e.resourceType,resourceId:e.resourceId}),!!e.replyId&&r.createElement(eI,{id:e.replyId,user:e.user,comment:e.creatorReply,author:e.replyAuthor,selected:e.selected,userIsAuthor:e.userIsResponder,commentType:e.commentType,isAuthorAcceptedPublisher:!0,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hideSeparator:e.hideSeparator,isCreatorReply:!!e.replyId,resourceType:e.resourceType,resourceId:e.resourceId}))});function ex(){return r.createElement("svg",{width:"288",height:"200",viewBox:"0 0 288 200",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("rect",{width:"288",height:"200",fill:"var(--color-bg, white)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M121.5 60.5C147.457 60.5 168.5 81.5426 168.5 107.5C168.5 133.457 147.457 154.5 121.5 154.5C113.522 154.5 106.013 152.514 99.4356 149.01L98.9861 148.77L77.5743 152.339L85.893 138.197L85.2249 137.387C78.5239 129.264 74.5 118.854 74.5 107.5C74.5 81.5426 95.5426 60.5 121.5 60.5ZM171.5 107.5C171.5 79.8858 149.114 57.5 121.5 57.5C93.8858 57.5 71.5 79.8858 71.5 107.5C71.5 119.197 75.5183 129.959 82.2484 138.476L71.7319 156.354L98.4789 151.896C105.371 155.477 113.201 157.5 121.5 157.5C149.114 157.5 171.5 135.114 171.5 107.5Z",fill:"var(--color-icon-secondary, #BBBBBB)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M196.932 119.342C203.847 110.959 208 100.215 208 88.5C208 61.7142 186.286 40 159.5 40C132.714 40 111 61.7142 111 88.5C111 115.286 132.714 137 159.5 137C167.729 137 175.48 134.95 182.27 131.334L206.347 135.347L196.932 119.342Z",fill:"var(--color-bg, white)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M153.901 38.8101C155.739 38.6052 157.608 38.5 159.5 38.5C161.392 38.5 163.261 38.6052 165.099 38.8101L164.767 41.7917C163.038 41.599 161.281 41.5 159.5 41.5C157.719 41.5 155.962 41.599 154.233 41.7917L153.901 38.8101ZM169.531 39.5067C173.248 40.2639 176.816 41.4337 180.184 42.9659L178.942 45.6966C175.777 44.2568 172.425 43.1578 168.932 42.4464L169.531 39.5067ZM138.816 42.9659C142.184 41.4337 145.752 40.2639 149.469 39.5067L150.068 42.4464C146.575 43.1578 143.223 44.2568 140.058 45.6966L138.816 42.9659ZM184.181 45.0062C187.446 46.863 190.481 49.0766 193.234 51.5939L191.209 53.8077C188.621 51.4405 185.767 49.3593 182.698 47.6141L184.181 45.0062ZM125.766 51.5939C128.519 49.0766 131.554 46.863 134.819 45.0062L136.302 47.6141C133.233 49.3593 130.379 51.4405 127.791 53.8077L125.766 51.5939ZM196.406 54.7662C198.923 57.5187 201.137 60.5541 202.994 63.8194L200.386 65.3023C198.641 62.2331 196.559 59.3792 194.192 56.7908L196.406 54.7662ZM116.006 63.8194C117.863 60.5541 120.077 57.5187 122.594 54.7662L124.808 56.7908C122.441 59.3792 120.359 62.2331 118.614 65.3023L116.006 63.8194ZM205.034 67.8159C206.566 71.1837 207.736 74.7516 208.493 78.4694L205.554 79.0681C204.842 75.5749 203.743 72.2228 202.303 69.0582L205.034 67.8159ZM110.507 78.4694C111.264 74.7516 112.434 71.1837 113.966 67.8159L116.697 69.0582C115.257 72.2228 114.158 75.5749 113.446 79.0681L110.507 78.4694ZM209.19 82.9007C209.395 84.7394 209.5 86.6077 209.5 88.5C209.5 90.5773 209.373 92.6257 209.127 94.6378L206.149 94.2732C206.381 92.3818 206.5 90.4552 206.5 88.5C206.5 86.719 206.401 84.9616 206.208 83.2331L209.19 82.9007ZM109.5 88.5C109.5 86.6077 109.605 84.7394 109.81 82.9007L112.792 83.2331C112.599 84.9616 112.5 86.719 112.5 88.5C112.5 90.281 112.599 92.0384 112.792 93.7669L109.81 94.0993C109.605 92.2606 109.5 90.3923 109.5 88.5ZM113.966 109.184C112.434 105.816 111.264 102.248 110.507 98.5306L113.446 97.9319C114.158 101.425 115.257 104.777 116.697 107.942L113.966 109.184ZM208.289 99.4872C207.378 103.549 205.973 107.424 204.14 111.045L201.464 109.69C203.186 106.287 204.506 102.647 205.361 98.8307L208.289 99.4872ZM122.594 122.234C120.077 119.481 117.863 116.446 116.006 113.181L118.614 111.698C120.359 114.767 122.441 117.621 124.808 120.209L122.594 122.234ZM198.752 119.476C199.804 118.144 200.79 116.758 201.705 115.321L199.174 113.71C198.136 115.34 197 116.902 195.775 118.387L195.107 119.197L199.002 125.818L201.588 124.297L198.752 119.476ZM134.819 131.994C131.554 130.137 128.519 127.923 125.766 125.406L127.791 123.192C130.379 125.559 133.233 127.641 136.302 129.386L134.819 131.994ZM204.277 128.87L209.268 137.354L201.801 136.11L202.294 133.15L203.426 133.339L201.692 130.391L204.277 128.87ZM182.014 129.77L186.816 130.571L186.323 133.53L182.521 132.896C181.385 133.487 180.224 134.034 179.039 134.538L177.865 131.777C179.128 131.241 180.361 130.651 181.564 130.01L182.014 129.77ZM198.361 135.536L189.762 134.103L190.255 131.144L198.854 132.577L198.361 135.536ZM149.469 137.493C145.752 136.736 142.184 135.566 138.816 134.034L140.058 131.303C143.223 132.743 146.575 133.842 150.068 134.554L149.469 137.493ZM175.78 135.789C173.059 136.726 170.231 137.434 167.32 137.892L166.855 134.928C169.59 134.498 172.247 133.833 174.804 132.953L175.78 135.789ZM159.5 138.5C157.608 138.5 155.739 138.395 153.901 138.19L154.233 135.208C155.962 135.401 157.719 135.5 159.5 135.5C160.881 135.5 162.248 135.44 163.598 135.324L163.856 138.313C162.42 138.437 160.967 138.5 159.5 138.5Z",fill:"var(--color-icon-secondary, #BBBBBB)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M158 98H161L161 90H169V87L161 87L161 79H158L158 87L150 87V90H158L158 98Z",fill:"var(--color-icon-secondary, #BBBBBB)"}))}eC.displayName="CommentTile";let eN="comments_list--emptyStateWrapper--utBdd",eS="comments_list--emptyStateHeader--72NAJ text--fontPos13--xW8hS text--_fontBase--QdLsd";function ek(e){let t=(0,n.d4)(e=>e.communityHub.comments.commentsById),a=(0,n.d4)(e=>e.communityHub.comments.showResolved),s=(0,n.d4)(e=>(0,i.cs)(e.authedActiveCommunityProfile)),{parentCommentIds:c,replies:d}=function(e,t){let a=[],r={};return e.forEach(e=>{if(t[e]){let{parent_id:n}=t[e];n&&t[n]?r[n]=e:n||a.push(e)}}),{parentCommentIds:a,replies:r}}(e.comments,t),m=a?c:c.reduce((e,a)=>(t[a]?.resolved_at||e.push(a),e),[]),u=(0,h.Vm)(e.resource);if(0===m.length&&!e.hasSelectedComment&&e.resource.comments_setting!==l.Ni.ALL_DISABLED)return r.createElement(eL,{isTeamOrOrgProfileActive:s});let _=[];if((u===T.vt.PLUGIN||u===T.vt.WIDGET)&&e.resource?.versions&&e.resource.current_plugin_version_id){let a=e.resource,n=a.versions[a.current_plugin_version_id].id;m.forEach(i=>{let l=t[i],s=l?.resource_version_id,c=a.versions[s];if(s&&c){if(s!==n){let e=new Date(c.created_at).toLocaleDateString(navigator.language,{year:"numeric",month:"long",day:"numeric"}),t=s===n&&c?void 0:`Version ${c.version} \xb7 ${e}`,a=_.pop();a&&_.push(r.cloneElement(a,{hideSeparator:!0})),_.push(r.createElement("div",{key:`divider-${s}`,className:"comments_list--versionDivider--NHliU text--fontPos11--2LvXf text--_fontBase--QdLsd"},t)),n=s}_.push(r.createElement(eC,{key:i,id:i,replyId:d[i],isAuthorAcceptedPublisher:(0,o.PR)(l,e.resource),commentType:e.commentType,resourceType:u,resourceId:e.resource.id,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs}))}})}else _=m.map(a=>{let n=t[a];return r.createElement(eC,{key:a,id:a,replyId:d[a],isAuthorAcceptedPublisher:(0,o.PR)(n,e.resource),commentType:e.commentType,resourceType:u,resourceId:e.resource.id,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs})});return r.createElement(r.Fragment,null,_)}function eL({isTeamOrOrgProfileActive:e}){return e?r.createElement("div",{className:eN},r.createElement(ex,null),r.createElement("div",{className:eS},(0,g.tx)("community.comments.to_comment_switch_to_your_personal_profile"))):r.createElement("div",{className:eN},r.createElement(ex,null),r.createElement("div",{className:eS},(0,g.tx)("community.comments.your_kudos_and_feedback_are_welcome")),r.createElement("div",{className:"comments_list--emptyStateSubheader--L5hsL text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,g.tx)("community.comments.share_your_thoughts_using_the_comment_box_above"),r.createElement("br",null)))}let eA=!1;function eR(e){let t;let a=(0,n.wA)(),o=(0,s.iZ)(),[l,m]=(0,r.useState)(!1),[u,C]=(0,r.useState)(!1),[x,N]=(0,r.useState)(!0),S=r.useRef(null),k=(0,n.d4)(e=>"communityHub"===e.selectedView.view&&"hubFile"===e.selectedView.subView&&e.selectedView.fullscreenState&&(0,w.t0)(e.selectedView.fullscreenState)),A=(0,n.d4)(e=>e.communityHub.comments.activeFeedType),R=(0,n.d4)(e=>e.communityHub.comments.feeds),{feed:O,pagination:P}=r.useMemo(()=>R[A]||{feed:[]},[R,A]),D=(0,n.d4)(e=>e.communityHub.comments.selectedCommentId),M=(0,n.d4)(e=>e.selectedView.commentThreadId),B=(0,n.d4)(e=>!!e.user?.community_profile_id),U=D||M,V=A===T.Qv.ALL?e.numCommentsForResource:R[A]?.totalNumberOfComments,{resource:H}=e,W=(0,h.Vm)(H),j=()=>{if(eA)return;eA=!0,m(!0);let e={resourceId:H.id,resourceType:W,selectedCommentId:U,pagination:P,activeFeedType:A,numCommentsForResource:V,pageSizeOverride:b.zn};a(y.p4({...e,onSuccess:e=>{a(y.vr(e)),eA=!1,m(!1)},onError:()=>{eA=!1,m(!1)}}))},$=void 0===P&&(0,i.e5)(H);r.useEffect(()=>{$&&j()},[A,$]);let G=!!P,Y=P?.selected_comment;r.useEffect(()=>{x&&Y&&(S.current&&window.scroll({left:0,top:S.current.offsetTop-36,behavior:"smooth"}),N(!1))},[x,Y]),r.useEffect(()=>{a(y.cO())},[H.id]);let z=()=>G&&(0,d.u9)({pagination:P})&&j(),Q=O.filter(e=>e!==P?.selected_comment?.id);P?.selected_comment&&Q.unshift(P?.selected_comment.id);let K=(0,E.J)();return(0,i.e5)(H)?r.createElement(r.Fragment,null,r.createElement("div",{className:"comments_view--commentsViewWrapper--SURB9",ref:S},!e.commentingIsRestricted&&r.createElement(ev,{fallback:null,errorFallback:null,commentType:e.commentType,resourceType:W,resourceId:H.id,onSuccessCallback:e=>{(0,c.sx)(I.d,{commentId:e?.id,message:e?.message,userId:o?.id,profileId:o?.community_profile_id,resourceType:W,resourceId:H.id,searchSessionId:K})}}),r.createElement("div",{className:"comments_view--commentsListHeader--3uRw8 text--fontPos11--2LvXf text--_fontBase--QdLsd"},r.createElement("div",{className:"comments_view--numCommentsForResource--J0QKb"},(t=V||0,(0,g.t)("community.comments.pluralize_comments",{numComments:t}))),!k&&!e.commentingIsRestricted&&r.createElement(F,{includeShowResolved:!1,isLoggedIn:B})),r.createElement(f.a,{onIntersectionChange:e=>{u||(C(!0),(0,c.sx)("Community Comments Section Impressed",{resourceType:W,resourceId:H.id}))}}),r.createElement(v.hJ,null,r.createElement(p.x,{isLoading:void 0===P,className:L},()=>r.createElement(_,{onScrollToBottom:z,showLoader:l&&(0,d.u9)({pagination:P})},r.createElement(ek,{comments:Q,commentType:e.commentType,resource:H,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs,hasSelectedComment:!!P?.selected_comment})))),r.createElement(v.XY,null,r.createElement(p.x,{isLoading:void 0===P,className:L},()=>r.createElement(r.Fragment,null,r.createElement(ek,{comments:Q,commentType:e.commentType,resource:H,profileIdToAdminResourceAs:e.profileIdToAdminResourceAs}),(0,d.u9)({pagination:P})&&r.createElement("div",{className:"comments_view--mobileLoadMore--tqxIs text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:z},(0,g.tx)("community.comments.load_more_comments"))))))):null}function eF({resource:e}){let t=(0,s.iZ)(),a=(0,n.d4)(t=>(0,o.MK)(t,e))>=o.Cw.ADMIN&&(i.cV(e)?.id||t?.community_profile_id)||null,c=(0,n.d4)(e=>e.authedActiveCommunityProfile);return r.createElement(eR,{commentType:l.ej.COMMUNITY,resource:e,numCommentsForResource:e.comment_count,profileIdToAdminResourceAs:a,commentingIsRestricted:!(0,i.LI)(t,e)||(0,i.cs)(c)})}},17284:(e,t,a)=>{a.d(t,{I:()=>o});var r=a(411855),n=a(535e3),i=a(13326);function o(e){let t=(0,n.n)(e);if(t){let a=e.hideTooltip?t:r.createElement(n.v,null,t);return r.createElement("div",{className:i.sx},a)}return null}},708071:(e,t,a)=>{a.d(t,{H:()=>r});let r=a(411855).createContext({externalCommentScrollRef:null,onScrollToRatings:null})},218795:(e,t,a)=>{a.d(t,{s:()=>f});var r=a(411855),n=a(188507),i=a(939863),o=a(227020),l=a(351226),s=a(158996),c=a(662275),d=a(988022),m=a(697551),u=a(860178),_=a(555328),p=a(498606);function f({resource:e,viewContext:t}){let a=(0,n.wA)(),f=(0,u.iZ)(),g=Object.values((0,n.d4)(e=>(0,m.Tm)(e))).filter(t=>(0,_.I0)(e)&&t.plugins_whitelist_enforced||(0,_.xQ)(e)&&t.widgets_whitelist_enforced),E=(e,t)=>{a((0,c.to)({type:(0,o.W)(),data:{extensionId:e.id,orgId:t,extensionType:(0,_.I0)(e)?"plugin":"widget",isAllowed:!1,source:"community"}}))};return r.createElement("button",{className:"approve_button--buttonContainer--lDvpx cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",onClick:()=>{if((0,d.Cu)({viewContext:t,resourceId:e.id,resourceType:(0,s.Vm)(e),allowlistOrgs:g.length},"approve-button-clicked"),1===g.length){E(e,g[0].id);return}if(!f)return;let r=g.map(e=>({orgId:e.id,workspaceName:e.name,user:f,userId:f?.id||""}));a((0,c.to)({type:l._,data:{payload:{extension:e,workspaces:r,onSelectWorkspace:t=>{E(e,t.orgId)},mode:"manage_allowlist"}}}))},"data-testid":"approve-button","data-onboarding-key":"approve-button","data-tooltip-type":p.Ib.TEXT},(0,i.tx)("community.plugins.approve_ellipsis"))}},940872:(e,t,a)=>{a.d(t,{b:()=>s});var r=a(411855),n=a(939863);let i=r.createElement("span",null,r.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),r.createElement("path",{d:"M1.8843 3.04791L2.23141 3.40779L1.8843 3.04791ZM7.12543 3.04791L7.47254 2.68802L7.12543 3.04791ZM1.8843 8.10293L2.23141 7.74304L2.23141 7.74304L1.8843 8.10293ZM2.75826 8.94585L3.10528 9.30582L3.47859 8.94594L3.10536 8.58597L2.75826 8.94585ZM2.75823 8.94588L2.41121 8.58591L2.0379 8.9458L2.41112 9.30577L2.75823 8.94588ZM7.99935 14.0009L7.65225 14.3608L7.99935 14.6956L8.34646 14.3608L7.99935 14.0009ZM14.114 8.10338L13.7669 7.74349L13.7669 7.74349L14.114 8.10338ZM14.114 3.04836L14.4611 2.68847L14.4611 2.68847L14.114 3.04836ZM8.87288 3.04836L8.52577 2.68847L8.52577 2.68847L8.87288 3.04836ZM7.99939 3.89083L7.65228 4.25072L7.99939 4.5855L8.34649 4.25072L7.99939 3.89083ZM2.23141 3.40779C3.48501 2.19871 5.52472 2.19871 6.77832 3.40779L7.47254 2.68802C5.83154 1.1053 3.17819 1.1053 1.53719 2.68802L2.23141 3.40779ZM2.23141 7.74304C0.987968 6.54376 0.987968 4.60708 2.23141 3.40779L1.5372 2.68802C-0.113961 4.28055 -0.113961 6.87029 1.5372 8.46281L2.23141 7.74304ZM3.10536 8.58597L2.23141 7.74304L1.5372 8.46281L2.41115 9.30574L3.10536 8.58597ZM3.10525 9.30585L3.10528 9.30582L2.41124 8.58588L2.41121 8.58591L3.10525 9.30585ZM8.34646 13.641L3.10533 8.586L2.41112 9.30577L7.65225 14.3608L8.34646 13.641ZM13.7669 7.74349L7.65225 13.641L8.34646 14.3608L14.4611 8.46326L13.7669 7.74349ZM13.7669 3.40824C15.0103 4.60753 15.0103 6.54421 13.7669 7.74349L14.4611 8.46326C16.1123 6.87074 16.1123 4.281 14.4611 2.68847L13.7669 3.40824ZM9.21998 3.40824C10.4736 2.19916 12.5133 2.19916 13.7669 3.40824L14.4611 2.68847C12.8201 1.10575 10.1668 1.10575 8.52577 2.68847L9.21998 3.40824ZM8.34649 4.25072L9.21998 3.40824L8.52577 2.68847L7.65228 3.53094L8.34649 4.25072ZM6.77832 3.40779L7.65228 4.25072L8.34649 3.53094L7.47254 2.68802L6.77832 3.40779Z",fill:"var(--color-icon)"}))),o=r.createElement("span",null,r.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.12543 3.04791C5.67813 1.652 3.3316 1.652 1.8843 3.04791C0.437004 4.44381 0.437004 6.70702 1.8843 8.10293L2.75826 8.94585L2.75823 8.94588L7.99935 14.0009L14.114 8.10338C15.5613 6.70747 15.5613 4.44426 14.114 3.04836C12.6667 1.65245 10.3202 1.65245 8.87288 3.04836L7.99939 3.89083L7.12543 3.04791Z",fill:"#F24822"}),r.createElement("path",{d:"M1.8843 3.04791L2.23141 3.40779L1.8843 3.04791ZM7.12543 3.04791L7.47254 2.68802L7.12543 3.04791ZM1.8843 8.10293L2.23141 7.74304L2.23141 7.74304L1.8843 8.10293ZM2.75826 8.94585L3.10528 9.30582L3.47859 8.94594L3.10536 8.58597L2.75826 8.94585ZM2.75823 8.94588L2.41121 8.58591L2.0379 8.9458L2.41112 9.30577L2.75823 8.94588ZM7.99935 14.0009L7.65225 14.3608L7.99935 14.6956L8.34646 14.3608L7.99935 14.0009ZM14.114 8.10338L13.7669 7.74349L13.7669 7.74349L14.114 8.10338ZM14.114 3.04836L14.4611 2.68847L14.4611 2.68847L14.114 3.04836ZM8.87288 3.04836L8.52577 2.68847L8.52577 2.68847L8.87288 3.04836ZM7.99939 3.89083L7.65228 4.25072L7.99939 4.5855L8.34649 4.25072L7.99939 3.89083ZM2.23141 3.40779C3.48501 2.19871 5.52472 2.19871 6.77832 3.40779L7.47254 2.68802C5.83154 1.1053 3.17819 1.1053 1.53719 2.68802L2.23141 3.40779ZM2.23141 7.74304C0.987968 6.54376 0.987968 4.60708 2.23141 3.40779L1.5372 2.68802C-0.113961 4.28055 -0.113961 6.87029 1.5372 8.46281L2.23141 7.74304ZM3.10536 8.58597L2.23141 7.74304L1.5372 8.46281L2.41115 9.30574L3.10536 8.58597ZM3.10525 9.30585L3.10528 9.30582L2.41124 8.58588L2.41121 8.58591L3.10525 9.30585ZM8.34646 13.641L3.10533 8.586L2.41112 9.30577L7.65225 14.3608L8.34646 13.641ZM13.7669 7.74349L7.65225 13.641L8.34646 14.3608L14.4611 8.46326L13.7669 7.74349ZM13.7669 3.40824C15.0103 4.60753 15.0103 6.54421 13.7669 7.74349L14.4611 8.46326C16.1123 6.87074 16.1123 4.281 14.4611 2.68847L13.7669 3.40824ZM9.21998 3.40824C10.4736 2.19916 12.5133 2.19916 13.7669 3.40824L14.4611 2.68847C12.8201 1.10575 10.1668 1.10575 8.52577 2.68847L9.21998 3.40824ZM8.34649 4.25072L9.21998 3.40824L8.52577 2.68847L7.65228 3.53094L8.34649 4.25072ZM6.77832 3.40779L7.65228 4.25072L8.34649 3.53094L7.47254 2.68802L6.77832 3.40779Z",fill:"#F24822"})));var l=a(498606);function s(e){let t=r.useRef(null);return e.disabled?r.createElement("button",{className:"base_like_button--buttonContainerDisabled--sOWAD base_like_button--buttonContainer--vfBIa cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",disabled:e.disabled},r.createElement("div",{className:"base_like_button--likeIconDisabled--dfrWS base_like_button--likeIcon--70nFu text--fontPos18--rYXJb text--_fontBase--QdLsd"},i)):r.createElement("button",{className:"base_like_button--buttonContainer--vfBIa cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",onClick:e.onClick,"data-tooltip":(0,n.t)("community.like"),"data-tooltip-type":l.Ib.TEXT,"data-testid":"like-button"},r.createElement("div",{className:"base_like_button--likeIcon--70nFu text--fontPos18--rYXJb text--_fontBase--QdLsd",ref:t},e.isResourceLiked?o:i))}},219497:(e,t,a)=>{a.d(t,{G:()=>p});var r=a(411855),n=a(188507),i=a(654923),o=a(466636),l=a(225266),s=a(782501),c=a(860178),d=a(820642),m=a(215822),u=a(555328),_=a(624618);function p({resource:e}){let t=(0,n.wA)(),a=(0,n.d4)(e=>e.authedActiveCommunityProfile),p=(0,n.d4)(t=>(0,s.MK)(t,e)),f=s.Gl.includes(p)&&(e.community_publishers?.accepted||[]).length>1&&a?.primary_user_id,g=r.useCallback(()=>{(0,u.U)(e)?t((0,l.bb)({hub_file_id:e.id})):(0,u.xQ)(e)?t((0,l.bb)({widget_id:e.id})):t((0,l.bb)({plugin_id:e.id}))},[t,e]),E=(0,u.m3)(e),h=(0,i.I)(e),v=(0,c.iZ)(),y=(0,u.U)(e)?(0,d.a6)(e):(0,m.uF)(e);return r.createElement(r.Fragment,null,f&&r.createElement(_.d,{onClick:g,className:"metadata_additional_actions_logged_in--link--Hgvm- text--fontPos13--xW8hS text--_fontBase--QdLsd"}),E&&(0,o.QQ)(h)&&r.createElement(_.NY,{resource:e,payment:h}),E&&v&&(0,o.QQ)(h)&&(0,o.C)(h)&&r.createElement(_.EV,{user:v,name:y.name,monetizedResource:e.monetized_resource_metadata}))}},128425:(e,t,a)=>{a.d(t,{U:()=>$});var r=a(411855),n=a(188507),i=a(776250),o=a(22332),l=a(966712),s=a(939863),c=a(611886),d=a(320063),m=a(860601),u=a(62342),_=a(163023),p=a(901536),f=a(809840),g=a(351226),E=a(662275),h=a(151283),v=a(860178),y=a(237870),b=a(488578),w=a(415862);let T="use_preset_options_modal--presetOptionsModal__optionText--BPEmi",I="use_preset_options_modal--presetOptionsModal__chevron--dF5v3";var C=a(816679),x=a(250167);let N=(0,y.Ju)(function({hubFile:e}){let t=(0,n.wA)(),a=(0,v.iZ)();(0,d.h)(()=>{i.az.trackDefinedEvent("preset_libraries.preset_options_modal_displayed",{userId:a?.id,hubFileId:e.id,partnerType:(0,h.X)(e.id)})});let o=r.useCallback(()=>{t(E.Ce())},[t]),y=r.useCallback(()=>{o(),i.az.trackDefinedEvent("preset_libraries.preset_options_modal_option_clicked",{userId:a?.id,hubFileId:e.id,partnerType:(0,h.X)(e.id),option:"cancel"})},[o,e,a]),N=r.useCallback(()=>{let r=c.Q4(e=>{t((0,E.to)({type:g._,data:{payload:e}}))});o(),t(r(e)),i.az.trackDefinedEvent("preset_libraries.preset_options_modal_option_clicked",{userId:a?.id,hubFileId:e.id,partnerType:(0,h.X)(e.id),option:"show_in_figma"})},[t,o,e,a]),S=r.useCallback(()=>{let r=c.gE(e=>{t((0,E.to)({type:g._,data:{payload:e}}))});o(),t(r(e)),i.az.trackDefinedEvent("preset_libraries.preset_options_modal_option_clicked",{userId:a?.id,hubFileId:e.id,partnerType:(0,h.X)(e.id),option:"make_a_copy"})},[t,o,e,a]);return r.createElement(b.Nb,{hide:m.lQ,disableClickOutsideToHide:!0,className:"use_preset_options_modal--presetOptionsModal--MPCAv"},r.createElement("div",{className:"use_preset_options_modal--presetOptionsModal__header--7Ul9l"},r.createElement(f.E,{fontWeight:"medium",fontSize:20},(0,s.tx)("community.preset_modal.header"))),r.createElement("div",{className:"use_preset_options_modal--presetOptionsModal__description--GD8wZ"},r.createElement(f.E,{fontSize:13},(0,s.tx)("community.preset_modal.description"))),r.createElement("div",{className:w.sw},r.createElement("button",{className:w.tW,onClick:N},r.createElement(u.oS,{type:u.y1.DESIGN,size:u.LE.MEDIUM,className:p.cx.pl12.pr12.$}),r.createElement("div",{className:T},r.createElement(f.E,{fontSize:13},(0,l.kc)().cmty_preset_modal_revised_copy?(0,s.tx)("community.preset_modal.use_ui_kit_in_a_new_file"):(0,s.tx)("community.preset_modal.show_in_figma"))),r.createElement(_.B,{className:I,svg:C.A})),r.createElement("button",{className:w.tW,onClick:S},r.createElement(_.B,{svg:x.A,className:"use_preset_options_modal--presetOptionsModal__copyIcon--OFXiM"}),r.createElement("div",{className:T},r.createElement(f.E,{fontSize:13},(0,l.kc)().cmty_preset_modal_revised_copy?(0,s.tx)("community.preset_modal.make_a_copy_of_this_file"):(0,s.tx)("community.preset_modal.make_a_copy"))),r.createElement(_.B,{className:I,svg:C.A}))),r.createElement("button",{className:"use_preset_options_modal--presetOptionsModal__cancel--vne9o text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:y},(0,s.t)("community.try.pick_workspace.cancel")))},"USE_PRESET_OPTIONS_MODAL_TYPE",y.ZU.YES);var S=a(342),k=a(654923),L=a(466636),A=a(545941),R=a(107877),F=a(101505),O=a(672517),P=a(697551),D=a(941448),M=a(830445),B=a(99506),U=a(137459),V=a(498606),H=a(966537),W=a(964675),j=a(650168);function $({hubFile:e,enableWideButtonForStickyFooter:t}){let a=r.createRef(),d=(0,n.wA)(),m=(0,n.d4)(e=>(0,P.cs)(e.authedActiveCommunityProfile)),u=(0,n.d4)(e=>e.userFlags).apple_eula_accepted,_=(0,k.I)(e),p=(0,D.IE)(e),f=e.viewer_mode===B.y4.WHITEBOARD,h=(0,S.R)(d),v=(0,o.N)(`(max-width: ${R.YW}px)`),y=f?(0,s.tx)("community.duplicate.open_in_figjam"):(0,s.tx)("community.duplicate.open_in_figma"),b=r.useCallback(()=>{let t=()=>{if((0,l.kc)().dse_preset_libraries&&(0,l.kc)().presets_on_cmty&&(0,M.TX)(e.id)&&h&&!v)d((0,E.to)({type:N,data:{hubFile:e}}));else{let t=c.gE(e=>{(0,i.sx)("try_it_out_drafts_picker_menu_opened",p),d((0,E.to)({type:g._,data:{payload:e}}))});d(t(e))}};(0,A.mA)(e)&&!u?d(E.to({type:H.F,data:{hubFileId:e.id,onUseHubFile:t}})):t()},[d,e,p,u,h,v]);if(m||(0,A.lT)(e)){let t;return(0,A.lT)(e)?t=(0,s.t)("community.resource.admin_blocked_resource_banner.this_resource_is_blocked"):m&&(t=(0,s.t)("community.duplicate.to_duplicate_switch_to_your_personal_profile")),r.createElement("div",{"data-tooltip-type":V.Ib.TEXT,"data-tooltip":t,"data-tooltip-show-immediately":!0},r.createElement("div",{className:j.nu},r.createElement("div",{className:j.uD},y)))}return(({buttonText:e,onClick:n})=>r.createElement(O.fu,{name:"Duplicate button",properties:{trackingDescriptor:F.c.HUB_FILE_DUPLICATE_BUTTON,...p}},r.createElement("div",{ref:a},r.createElement(W.H,{buttonText:e,onClick:n,useNoIconStyle:!0,editorType:f?U.LE.FIGJAM:U.LE.FIGMA,enableWideButtonForStickyFooter:t}))))((0,L.QQ)(_)?{buttonText:(0,s.tx)("community.duplicate.open"),onClick:b}:{buttonText:y,onClick:b})}},964675:(e,t,a)=>{a.d(t,{H:()=>c});var r=a(411855),n=a(629019),i=a.n(n),o=a(672517),l=a(137459),s=a(650168);function c({buttonText:e,onClick:t,useNoIconStyle:a,editorType:n,enableWideButtonForStickyFooter:c,dataTestId:d}){let m=function(e){switch(e){case l.LE.FIGJAM:return"whiteboard";case l.LE.SLIDES:return"piper";default:return"design"}}(n);return r.createElement(o.$z,{className:i()({[s.tt]:a,[s.Vi]:!a,[s.uw]:c}),onClick:t,dataTestId:d||"community-duplicate-button","data-editor-theme":m},r.createElement("div",{className:s.uD},e))}},230798:(e,t,a)=>{a.d(t,{z:()=>n});var r=a(411855);function n(e){return r.createElement("div",{className:"metadata_section--metadataSection--3wssk ellipsis--ellipsis--Tjyfa"},e.title&&r.createElement("div",{className:"metadata_section--subheader--Zk7ID"},e.title),r.createElement("div",{className:"metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.children))}},10588:(e,t,a)=>{a.d(t,{l:()=>b});var r=a(411855),n=a(188507),i=a(776250),o=a(22332),l=a(939863),s=a(611886),c=a(890555),d=a(964675),m=a(351226),u=a(342),_=a(662275),p=a(107877),f=a(101505),g=a(672517),E=a(941448),h=a(137459),v=a(498606),y=a(650168);function b({resource:e,enableWideButtonForStickyFooter:t}){let a=(0,E.IE)(e),b=(0,n.wA)(),w=(0,o.N)(`(max-width: ${p.YW}px)`),T=(0,r.useCallback)(()=>{if(w){b((0,_.to)({type:c.s,data:{dispatch:b,editorType:h.LE.SLIDES}}));return}let t=s.u5(e=>{(0,i.sx)("try_it_out_drafts_picker_menu_opened",a),b((0,_.to)({type:m._,data:{payload:e}}))});b(t(e))},[b,e,a,w]),I=(0,u.v)(b),C=(0,l.tx)("community.use_slide_template"),x=r.createElement("div",{"data-testid":"slide-template-use-button",className:y.nu},r.createElement("div",{className:y.uD},C));if(!I){let e=(0,l.t)("community.use_slide_template.disabled_tooltip");return r.createElement(g.fu,{name:"slide_template_use_button",properties:{trackingDescriptor:f.c.SLIDE_TEMPLATE_USE_BUTTON,...a,isEnabled:!1}},r.createElement("div",{"data-tooltip-type":v.Ib.TEXT,"data-tooltip":e,"data-tooltip-show-immediately":!0},x))}return r.createElement(g.fu,{name:"slide_template_use_button",properties:{trackingDescriptor:f.c.SLIDE_TEMPLATE_USE_BUTTON,...a,isEnabled:!0}},r.createElement(d.H,{buttonText:C,onClick:T,useNoIconStyle:!0,editorType:h.LE.SLIDES,enableWideButtonForStickyFooter:t,dataTestId:"slide-template-use-button"}))}},421660:(e,t,a)=>{a.d(t,{J:()=>w,z:()=>T});var r=a(411855),n=a(188507);if(443==a.j)var i=a(504440);if(443==a.j)var o=a(137035);var l=a(966712);if(443==a.j)var s=a(374626);var c=a(939863),d=a(446686),m=a(57879),u=a(931828),_=a(782501),p=a(582947),f=a(946413),g=a(860178),E=a(555328),h=a(813408),v=a(195907),y=a(724819);let b=(0,p.Fu)(v.e2);function w(e){let t=(0,l.kc)().cmty_curated_tags_mapping,a=(0,_.RB)(e),r=(0,s.md)(b),n=r?.status!=="loaded"||r?.status==="loaded"&&!!r?.data;return!!(0,l.kc)().cmty_tags_v2_comms_banner&&!n&&!!t&&a}function T({resourceId:e,resourceType:t,fileKey:a}){let l=(0,g.iZ)(),s=(0,n.wA)(),_=r.useCallback(()=>{if(l){if(t===E.vt.PLUGIN||t===E.vt.WIDGET)s((0,m.r)({publishedPluginId:e,entryPoint:h.k2.RESOURCE_PAGE}));else{if(!a)return;s((0,d.t)({fileKey:a,isFullscreenOpen:!1,isEditHubFilePageMode:!0,entryPoint:h.k2.RESOURCE_PAGE,canvasThumbnailPromise:(0,f.$)(a,l)}))}s(u.b({[v.e2]:!0}))}},[e,t,a,l,s]);return l?r.createElement("div",{className:y.Mg},r.createElement("div",{className:y.tD},r.createElement(o.b,null)),r.createElement("div",{className:y.GK},(0,c.t)("community.resource_tags_comms_banner.title")),r.createElement("div",{className:y.mg},(0,c.t)("community.resource_tags_comms_banner.description")),r.createElement("div",{className:y.sj},r.createElement(i.$n,{variant:"secondary",onClick:_},(0,c.t)("community.resource_tags_comms_banner.update_button")))):null}},731801:(e,t,a)=>{a.d(t,{_:()=>d,u:()=>m});var r=a(411855),n=a(296210),i=a.n(n),o=a(981952),l=a(939863),s=a(107877);let c="truncated_description_view--blueLink--v3wsX blue_link--blueLink--9rlnd";function d({description:e}){let t=r.useRef(null);return r.useEffect(()=>{if(!t.current)return;let a=document.createElement("div");a.innerHTML=i().sanitize(e);let r=s.Ep.map(e=>`:not(${e})`).join("");for(let e of a.querySelectorAll(r))e.parentNode?.removeChild(e);t.current.innerHTML=a.innerHTML},[t,e]),r.createElement("div",{ref:t})}function m({description:e,hideDivider:t=!1}){let a=r.useRef(null),[n,i]=r.useState(!1),[m,u]=r.useState(!1),_=(0,o.R)(s.YW)?s.dz:s.Un;return r.useEffect(()=>{a.current&&a.current.getBoundingClientRect().height>_&&(i(!0),u(!0))},[_]),r.createElement(r.Fragment,null,r.createElement("div",{style:n?{maxHeight:`${_}px`}:{},className:n?"truncated_description_view--truncatedDescription--H3ST8 truncated_description_view--description--7qZxm text--fontPos14--OL9Hp text--_fontBase--QdLsd":"truncated_description_view--description--7qZxm text--fontPos14--OL9Hp text--_fontBase--QdLsd",ref:a},r.createElement(d,{description:e}),!n&&m&&r.createElement("div",{className:c,onClick:()=>{i(!0)},role:"button",tabIndex:0},(0,l.tx)("community.detail_view.show_less"))),n&&r.createElement("div",{className:"truncated_description_view--readMoreWrapper--4ruCR text--fontPos14--OL9Hp text--_fontBase--QdLsd"},r.createElement("div",{className:c,onClick:()=>{i(!1)},role:"button",tabIndex:0},(0,l.tx)("community.detail_view.read_more"))),!t&&r.createElement("div",{className:"truncated_description_view--divider--RK37w"}))}},897088:(e,t,a)=>{a.d(t,{N:()=>n,b:()=>r});let r=12,n=10},342:(e,t,a)=>{a.d(t,{R:()=>f,v:()=>g});var r=a(411855),n=a(966712);if(443==a.j)var i=a(374626);var o=a(586459),l=a(776621),s=a(989329),c=a(298527),d=a(6974),m=a(935308),u=a(860178),_=a(984968);function p(e){let t=(0,n.kc)().ps_benchmark,a=(0,i.md)(d.g),s=(0,u.iZ)();return r.useEffect(()=>{a===o.r.INIT&&t&&(0,m.nm)()(e).catch(e=>{(0,l.x1)("Error loading plans for authed users",e,{reportErrorToSentry:!0})})},[e,t,a]),r.useMemo(()=>{let e=[],r=[];if(!s||!t||a===o.r.LOADING||a===o.r.INIT)return{teams:e,orgs:r};let n=a.plansByUserId[s.id];return n?.map(t=>{if("team"===t.plan_type){let r=a.teams.find(e=>e.id===t.plan_id);r&&e.push(r)}if("org"===t.plan_type){let e=a.orgs.find(e=>e.id===t.plan_id);e&&r.push(e)}}),{teams:e,orgs:r}},[a,s,t])}function f(e){let t=(0,u.iZ)(),a=(0,s.P9)()||null,n=(0,_.ol)(),{teams:i,orgs:o}=p(e);return r.useMemo(()=>!!t&&(i.length||o.length?Object.values(i).some(e=>(0,c.MJ)(null,e))||Object.values(o).some(e=>(0,c.MJ)(e,null)):(0,c.MJ)(a,n)),[t,i,o,a,n])}function g(e){let t=(0,u.iZ)(),a=(0,s.P9)(),{teams:n,orgs:i}=p(e);return r.useMemo(()=>!!t&&(n.length||i.length?n.length>0||i.some(e=>!e.is_slides_disabled):!a?.is_slides_disabled),[t,n,i,a])}},370855:(e,t,a)=>{a.d(t,{d:()=>c,t:()=>d});var r=a(411855),n=a(188507),i=a(915440),o=a(384162),l=a(279453),s=a(336599);function c(e){let t=(0,n.wA)(),a=(0,n.d4)(t=>t.communityHub.shelves[e]||[]),i=o.sz.loadingKeyForPayload({shelfType:e}),l=(0,s.oh)(i),c=(0,s.mC)(i);return r.useEffect(()=>{l||c||t(o.sz({shelfType:e}))}),{shelves:a,isLoading:l,hasResolved:c}}function d(e){let t=(0,i.Rs)(l.U2Y,{profileId:e});if("loaded"===t.status){let e=t.data.communityProfile;if(e){let t=e.associatedUsers,a=[];t.forEach(t=>{a.push({user_id:t.id,email:t.email,is_primary_user:t.id===e.primaryUserId})});let r=[];return e.badges.forEach(e=>{r.push(e.badgeType)}),{id:e.id,name:e.name,profile_handle:e.profileHandle,description:e.description,location:e.location,website:e.website,twitter:e.twitter,instagram:e.instagram,public_at:e.publicAt,follower_count:e.followerCount,following_count:e.followingCount,cover_image_path:e.coverImagePath,primary_user_id:e.primaryUserId,team_id:e.teamId,org_id:e.orgId,pronouns:e.pronouns,entity_type:e.entityType,created_at:e.createdAt.toDateString(),updated_at:e.updatedAt.toDateString(),redirect_cover_image_url:e.coverImagePath?`/profile/${e.id}/cover_image`:"",associated_users:a,current_user_is_following:e.currentUserIsFollowing,current_user_is_followed:e.currentUserIsFollowed,badges:r,is_restricted_by_current_user:!1,img_urls:{},img_url:"",has_shared_orgs:!1,has_shared_teams:!1}}}}},367935:(e,t,a)=>{function r(e){return e.is_widget}function n(e){return void 0!==e.current_plugin_version_id&&!e.is_widget}function i(e){return void 0!==e.duplicate_count}a.d(t,{AS:()=>r,bT:()=>n,zj:()=>i})},754915:(e,t,a)=>{a.d(t,{i:()=>E});var r=a(411855),n=a(188507),i=a(776250),o=a(939863),l=a(662275),s=a(115826),c=a(697551),d=a(611978),m=a(860178),u=a(555328),_=a(368361),p=a(746806),f=a(63666);let g="community_universal_publish_button--publishContextAction--l-h6g action--root--aRLIQ chevron--chevronContainer--0MO2x";function E(){let e=(0,n.wA)(),t="CommunityUniversalPublishButtonTooltipKey",a=(0,m.Pc)(),E=(0,n.d4)(e=>!e.currentUserOrgId||!!(0,c.Tm)(e)[e.currentUserOrgId]),[h,v]=r.useState(!1),y=r.useRef(),b=(0,d._6)();return E?r.createElement("div",{className:g},r.createElement("div",{className:"subView"in b&&("hubFile"===b.subView||"plugin"===b.subView||"widget"===b.subView)?"community_universal_publish_button--publishButton__DARK--TM73r community_universal_publish_button--publishButton--YumhB":"community_universal_publish_button--publishButton--YumhB",role:"button",tabIndex:0,onClick:()=>{(0,i.sx)("community_publish_modal",{user:a.id,step:s.M.OPENED}),e(l.to({type:_.R,data:{source:u.Zm.NAVBAR}}))}},(0,o.tx)("navbar.navbar.publish_button_label"))):r.createElement("div",{className:g,"data-onboarding-key":t,onMouseEnter:()=>{y.current&&clearTimeout(y.current),v(!0)},onMouseLeave:()=>{y.current=setTimeout(()=>v(!1),300)}},r.createElement("div",{className:"community_universal_publish_button--publishButtonDisabled--b7SqN community_universal_publish_button--publishButton--YumhB",role:"button",tabIndex:0},(0,o.tx)("navbar.navbar.publish_button_label")),h&&r.createElement(f.NJ,{targetKey:t,width:264,className:"community_universal_publish_button--disabledPublishButtonTooltip--uZ-YL pointer_modal--pointerModal--wrpFz text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",shouldCenterArrow:p.EL.FALLBACK,backgroundColor:"var(--color-bg-tooltip, #000)"},r.createElement("div",null,(0,o.tx)("navbar.navbar.disabled_publish_button_label"))))}},952540:(e,t,a)=>{a.d(t,{j:()=>m});var r=a(776250),n=a(517333),i=a(737947),o=a(27087),l=a(980820),s=a(677664),c=a(320741),d=a(583894);let m=(0,l.nF)(async(e,t,{loadingKey:a})=>{let l=t.user.stripe_account_status===d.P5.STARTED_ONBOARDING?"stripe_onboarding_continue":"stripe_onboarding_start";(0,r.sx)(l,{userId:t.user.id,entrypoint:t.selectedView.subView});try{let r=o.Ay.post("/api/community/seller/onboard",{accepted_seller_tos:!0,is_desktop:!!n.eD,first_name:t.firstName,last_name:t.lastName,address:t.address,vat_id:t.vatId});(0,c.N)(r,e,a);let l=await r;if(!l?.data?.meta){t.callback(!1);return}let d=l.data.meta;n.eD?e.dispatch((0,s.RK)({rawInput:d})):i.Ay.unsafeRedirect(d),setTimeout(()=>{t.callback(!0)},1e3)}catch(e){t.callback(!1)}})},941448:(e,t,a)=>{a.d(t,{Ay:()=>c,IE:()=>d});var r=a(411855),n=a(749949),i=a(837324),o=a(107877),l=a(555328),s=a(143678);function c(e){let t=(0,l.m3)(e);return(0,l.U)(e)?{name:s.e0.COMMUNITY_HUB_FILE,properties:m(e)}:(0,l.xQ)(e)?{name:s.e0.COMMUNITY_HUB_WIDGET,properties:{widgetId:e.id,isMonetized:t}}:{name:s.e0.COMMUNITY_HUB_PLUGIN,properties:{pluginId:e.id,isMonetized:t}}}function d(e){let t=(0,n.J)();return r.useMemo(()=>({...m(e),searchSessionId:t}),[e,t])}function m(e){return{hubFileId:e.id,viewerMode:e.viewer_mode,editorType:(0,i.JJ)(e.viewer_mode),isMonetized:(0,l.m3)(e),isMobileView:window.innerWidth<=o.YW}}},323667:(e,t,a)=>{a.d(t,{E:()=>n,d:()=>r});let r="community_comment_creation",n="community_comment_edit"},936682:(e,t,a)=>{a.d(t,{p:()=>n});var r=a(27087);let n=new class{async pinFile({resourceType:e,resourceId:t,fileKey:a,description:n,shouldUpdatePermissions:i}){await r.Ay.post(`/api/pinned_files/${e}/${t}`,{file_key:a,description:n,should_update_permissions:i})}async updatePin({pinnedFileId:e,description:t}){await r.Ay.put(`/api/pinned_files/${e}`,{description:t})}async deletePin({pinnedFileId:e}){await r.Ay.del(`/api/pinned_files/${e}`)}}},688734:(e,t,a)=>{a.d(t,{H:()=>c});var r=a(411855),n=a(946689),i=a(939863),o=a(237870),l=a(488578),s=a(157199);let c=(0,o.Ju)(function(e){return r.createElement(l.Rw,{confirmationTitle:e.confirmationTitle,confirmText:e.confirmButtonText,onConfirm:e.onBlock,destructive:!0},r.createElement("div",null,r.createElement("p",{className:s._q},(0,i.tx)("community.comments.this_will_remove_their_comments_from_all_your_community_files_and_plugins_it_also_prevents_them_from_leaving_comments_on_your_resources_or_mentioning_you_in_the_future")),r.createElement("p",{className:s._q},(0,i.tx)("community.comments.link_about_managing_restricted_commenters",{link:r.createElement(n.CY,{href:"https://help.figma.com/hc/articles/1500002628062",target:"_blank",trusted:!0},(0,i.tx)("community.comments.learn_more"))}))))},"CommentConfirmBlockModal")},354438:(e,t,a)=>{a.d(t,{H:()=>_});var r=a(411855),n=a(188507);a(966712);var i=a(946689),o=a(163023),l=a(939863),s=a(662275),c=a(505685),d=a(306665),m=a(514931);class u extends r.Component{constructor(){super(...arguments),this.getBannerText=()=>{let e={strongText:"",ctaPreText:""},t=(0,l.t)("community.banner.a_space_for_figma_users_to_share_things_they_create"),a=(0,l.t)("community.banner.community_is_a_space_for_figma_users_to_share_things_they_create");return e={strongText:(0,l.t)("community.banner.this_is_the_figma_community"),ctaPreText:t},this.props.profile?(this.props.user?.community_profile_handle?this.props.profile.id===this.props.user?.community_profile_id?e.strongText=(0,l.t)("community.banner.this_is_your_figma_community_profile"):(e.strongText="",e.ctaPreText=""):e.strongText=(0,l.t)("community.banner.this_is_a_figma_community_profile"),e.ctaPreText=a):this.props.selectedView&&"communityHub"===this.props.selectedView.view&&("hubFile"===this.props.selectedView.subView?(e.strongText=(0,l.t)("community.banner.this_is_a_figma_community_file"),e.ctaPreText=a):"plugin"===this.props.selectedView.subView?(e.strongText=(0,l.t)("community.banner.this_is_a_figma_community_plugin"),e.ctaPreText=a):"widget"===this.props.selectedView.subView&&(e.strongText=(0,l.t)("community.banner.this_is_a_figma_community_widget"),e.ctaPreText=a)),this.props.user?(this.props.user.community_profile_handle?this.props.selectedView&&"communityHub"===this.props.selectedView.view&&this.props.selectedView?.subView==="plugin"&&(e.showPluginDocsCta=!0):e.showProfileCta=!0,this.props.selectedView?.view==="communityHub"&&this.props.selectedView?.subView==="landing"||(e.ctaPreText="")):e.showAccountCta=!0,e},this.onProfileCreateClick=e=>{e.stopPropagation(),e.preventDefault(),this.props.user&&this.props.dispatch(s.to({type:c.S3,data:{userId:this.props.user.id}}))}}render(){let{strongText:e,ctaPreText:t,showPluginDocsCta:a,showProfileCta:n,showAccountCta:s}=this.getBannerText();return e||t||a||n||s?r.createElement("div",{className:this.props.className||""},r.createElement("div",{className:d.cI},r.createElement("div",{className:d.zc},r.createElement(o.B,{svg:m.A,className:d.q3})),r.createElement("span",null,r.createElement("span",{className:d.bv},e," "),r.createElement("span",null,t," "),n&&r.createElement(r.Fragment,null,(0,l.tx)("community.banner.to_follow_creators_and_like_resources",{link:r.createElement(i.N_,{onClick:this.onProfileCreateClick,className:d.nf,trusted:!0},(0,l.t)("community.banner.create_your_own_profile"),"\xa0\u2192"," ")})),s&&r.createElement(i.N_,{href:"https://www.figma.com/signup",target:"_blank",className:d.nf,trusted:!0},(0,l.t)("community.banner.get_started_with_a_free_account"),"\xa0\u2192"," "),a&&r.createElement(r.Fragment,null,(0,l.tx)("community.banner.to_create_your_own_plugin",{link:r.createElement(i.N_,{href:"https://www.figma.com/plugin-docs",target:"_blank",className:d.nf,trusted:!0},(0,l.t)("community.banner.visit_the_docs"),"\xa0\u2192"," ")}))))):null}}u.displayName="CommunityBetaPromoBannerInner";let _=(0,n.Ng)((e,t)=>({selectedView:e.selectedView,user:e.user}))(u)},892123:(e,t,a)=>{a.d(t,{Q:()=>b,o:()=>r});var r,n=a(411855),i=a(188507),o=a(939863),l=a(940872),s=a(108636),c=a(749949),d=a(158996),m=a(410424),u=a(853799),_=a(662275),p=a(107877),f=a(988022),g=a(697551),E=a(860178),h=a(555328),v=a(498606),y=a(332086);function b(e){let{resource:t,viewContext:a}=e,c=(0,i.d4)(e=>e.authedActiveCommunityProfile),m=(0,g.cs)(c),u=(0,s.B)(t.id,(0,d.Vm)(t)),_=!!u.data?.[0],p=r.useLikeActions(t,!!u.data?.[0],u.data?.[1]||null,a);return m?n.createElement("div",{"data-tooltip-type":v.Ib.TEXT,"data-tooltip":(0,o.t)("community.likes.to_like_switch_to_your_personal_profile"),"data-tooltip-show-immediately":!0},n.createElement(l.b,{isResourceLiked:!1,disabled:!0})):n.createElement(l.b,{onClick:p(),isResourceLiked:_})}(r||(r={})).useLikeActions=function(e,t,a,r){let n=(0,i.wA)(),o=(0,E.iZ)(),l=(0,c.J)(),s=()=>{(0,f.Cu)(b()),(0,h.U)(e)?n(m.zm({hubFileId:e.id})):(0,h.xQ)(e)?n(u.C({id:e.id,resourceType:h.vt.WIDGET})):n(u.C({id:e.id,resourceType:h.vt.PLUGIN}))},d=e=>{if(e.stopPropagation(),o){if(!o.community_profile_id){n(_.to({type:y.G$,data:{userId:o.id,variations:[y.FF.OPT_IN],onFinish:()=>s()}}));return}s()}},g=t=>{if(t.stopPropagation(),!o)throw Error(`Tried to unlike a ${v} as a signed out user`);(0,f.Cu)(b()),(0,h.U)(e)?n(m.Qi({hubFileId:e.id,likeId:a||void 0})):(0,h.xQ)(e)?n(u.$({id:e.id,resourceType:h.vt.WIDGET,likeId:a||void 0})):n(u.$({id:e.id,resourceType:h.vt.PLUGIN,likeId:a||void 0}))},v=(0,h.U)(e)?"hub file":(0,h.xQ)(e)?"widget":"plugin",b=()=>({action:(0,h.U)(e)?t?p.s0.HUB_FILE_UNLIKE:p.s0.HUB_FILE_LIKE:(0,h.xQ)(e)?t?p.s0.WIDGET_UNLIKE:p.s0.WIDGET_LIKE:t?p.s0.PLUGIN_UNLIKE:p.s0.PLUGIN_LIKE,pluginId:e.id,profileId:e.publisher.id,viewContext:r,searchSessionId:l});return function(){return t?e=>g(e):e=>d(e)}}},966537:(e,t,a)=>{a.d(t,{F:()=>_});var r=a(411855),n=a(188507),i=a(776250),o=a(611886),l=a(351226),s=a(749949),c=a(662275),d=a(289104),m=a(237870),u=a(517127);let _=(0,m.Ju)(function({hubFileId:e,onUseHubFile:t}){let a=(0,d.HI)(e),m=(0,s.J)(),_=(0,n.wA)();return a?r.createElement(u.x,{onAgree:()=>{if(t)_(c.AS()),t();else{let e=o.gE(e=>{(0,i.sx)("try_it_out_drafts_picker_menu_opened",{hubFileId:a.id,searchSessionId:m}),_((0,c.to)({type:l._,data:{payload:e}}))});_(c.AS()),_(e({id:a.id,viewer_mode:a.viewerMode,monetized_resource_metadata:a.monetizedResourceMetadataId?{id:a.monetizedResourceMetadataId}:void 0}))}}}):null},"APPLE_EULA_MODAL_ON_USE_HUBFILE_TYPE",m.ZU.YES)},82388:(e,t,a)=>{a.d(t,{s:()=>w});var r=a(411855),n=a(188507),i=a(768137),o=a(799569),l=a(946689),s=a(493323),c=a(881388),d=a(939863),m=a(952540),u=a(6024),_=a(611978),p=a(860178),f=a(593803),g=a(267931),E=a(622139),h=a(237870),v=a(488578),y=a(978436),b=a(116240);let w=(0,h.Ju)(function(e){let t=(0,n.wA)(),a=(0,p.iZ)(),h=(0,_._6)(),w=(0,g.H)(),[T,I]=r.useState(""),[C,x]=r.useState(""),[N,S]=r.useState((0,E.EB)()),[k,L]=r.useState(""),[A,R]=r.useState(!0),[F,O]=r.useState(!1);return(0,u.G)(),r.createElement(v.aF,{className:"collect_tax_info_modal--container--F6VXQ"},r.createElement(o.s_,{dispatch:t}),r.createElement("div",{className:"collect_tax_info_modal--title--wFmJh text--fontPos20--Bcz97 text--_fontBase--QdLsd"},(0,d.tx)("community.seller.collect_tax_info_modal.title")),r.createElement("div",{className:"collect_tax_info_modal--body--M1wrr text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,d.tx)("community.seller.collect_tax_info_modal.body")),r.createElement("div",null,r.createElement(l.Lf,{value:T,htmlName:"firstName",label:(0,d.t)("community.seller.collect_tax_info_modal.first_name"),onChange:e=>{I(e.target.value)},trackingFieldName:"First name",dataTestId:"first-name"}),r.createElement(l.Lf,{value:C,htmlName:"lastName",label:(0,d.t)("community.seller.collect_tax_info_modal.last_name"),onChange:e=>{x(e.target.value)},trackingFieldName:"Last name",dataTestId:"last-name"}),r.createElement(y.X,{updateAddress:S,address:N,countryCodesOverride:f.qE,dontSeeYourCountryLink:"https://help.figma.com/hc/articles/12067637274519-About-selling-Community-resources#What_countries_are_supported?"}),r.createElement(b.A,{onChange:L,country:N.country,setIsVatIdValid:R,vatId:k,isCommunityCheckout:!0})),r.createElement(i.$$,{className:"collect_tax_info_modal--button--ZOQrQ text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:()=>{if(!a)return;if(!T){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_first_name")));return}if(!C){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_last_name")));return}let{line1:r,city:n,country:i,region:o,postal_code:l}=N;if(!r||!n||!i||!l||"US"===i&&!o){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_valid_address")));return}if(k&&!A){t(c.s.error((0,d.t)("community.seller.collect_tax_info_modal.enter_a_valid_vat_id")));return}O(!0),t(m.j({user:a,callback:t=>{e.setupStripeCallback(t),O(!1),t&&w()},selectedView:h,firstName:T,lastName:C,address:N,vatId:k}))}},r.createElement("div",{className:"collect_tax_info_modal--buttonContent--Nsj1d"},F&&r.createElement("div",{className:"collect_tax_info_modal--loadingIcon--iCbii"},r.createElement(s.kt,{shouldMatchTextColor:!0})),(0,d.tx)("community.seller.collect_tax_info_modal.continue_to_stripe"))))},"CommunityCollectTaxInfoModal")},624618:(e,t,a)=>{a.d(t,{EV:()=>w,NY:()=>T,d:()=>C,dx:()=>b,vR:()=>v});var r=a(411855),n=a(188507),i=a(91408),o=a(946689);a(455057);var l=a(939863);a(230798);var s=a(709595),c=a(662275);a(782501);var d=a(269167),m=a(860178);a(99506);var u=a(596607),_=a(555328),p=a(178787);a(354438);var f=a(877655);a(580999);var g=a(350913),E=a(837746),h=a(815700);function v(e){return r.createElement("div",{className:h.Xk},r.createElement("p",null,e.label),r.createElement(o.nR,{onClick:e.onClickDecline,className:h.LL},(0,l.tx)("community.detail_view.decline")),r.createElement(o.$$,{onClick:e.onClickAccept,className:h.LL},(0,l.tx)("community.detail_view.accept")))}(0,i.hG)(E.dOH);class y extends r.PureComponent{constructor(){super(...arguments),this.getSubjectBodyForResource=()=>(0,_.U)(this.props.resource)?{resourceSubject:(0,l.t)("community.reporting.reporting_an_inappropriate_file"),resourceBody:(0,l.t)("community.reporting.i_want_to_report_this_file_for_violating_the_community_guidelines_resource_url",{resourceUrl:(0,g.cU)(this.props.resource.id)})}:(0,_.xQ)(this.props.resource)?{resourceSubject:(0,l.t)("community.reporting.reporting_an_inappropriate_widget"),resourceBody:(0,l.t)("community.reporting.i_want_to_report_this_widget_for_violating_the_community_guidelines_resource_url",{resourceUrl:(0,g.ox)(this.props.resource.id)})}:{resourceSubject:(0,l.t)("community.reporting.reporting_an_inappropriate_plugin"),resourceBody:(0,l.t)("community.reporting.i_want_to_report_this_plugin_for_violating_the_plugin_guidelines_resource_url",{resourceUrl:(0,g.ab)(this.props.resource.id)})}}render(){let{resourceSubject:e,resourceBody:t}=this.getSubjectBodyForResource(),a=t;return a=`${a}${this.props.user?`
${(0,l.t)("community.reporting.my_figma_user_id_is_user_id",{userId:this.props.user.id})}`:""}
${(0,l.t)("community.reporting.add_your_description_here")}`,r.createElement(o.N_,{href:`mailto:content-reviews@figma.com?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(a)}`,className:h.iZ,trusted:!0},(0,l.tx)("community.detail_view.report_resource"))}}function b(){let e=(0,m.iZ)();return e?r.createElement(o.Ph,{className:h._1,trackingEventName:"Detail View - Report Resource",onClick:()=>{(0,s.jt)(e)},trusted:!0},(0,l.tx)("community.detail_view.report_resource")):null}function w(e){let{user:t,name:a,monetizedResource:i}=e,s=(0,n.wA)();return r.createElement(o.Ph,{className:h._1,trackingEventName:"Detail View - Request Refund",onClick:()=>{s((0,c.to)({type:f.bX,data:{user:t,name:a,monetizedResource:i}}))},trusted:!0},(0,l.tx)("community.buyer.request_refund"))}function T(e){let t=(0,d.R$)(e.resource),a="Detail View - View Order Details",n=(0,l.t)("community.buyer.view_order_details");return(0,p.Uv)(e.resource.monetized_resource_metadata)&&(a="Detail View - Manage Subscription",n=(0,l.t)("community.buyer.manage_subscription")),r.createElement(o.Ph,{className:h._1,onClick:()=>t(),trackingEventName:a,trusted:!0},n)}(0,n.Ng)(e=>({hasOrgs:(0,u.Yj)(e),teams:Object.keys(e.teams).map(t=>e.teams[t]),user:e.user}))(y);var I=(e=>(e[e.PROMO=0]="PROMO",e[e.PAID=1]="PAID",e))(I||{});function C(e){return r.createElement(o.N_,{className:e.className,onClick:e.onClick,trusted:!0},(0,l.tx)("community.detail_view.remove_myself_as_creator"))}},981952:(e,t,a)=>{a.d(t,{P:()=>n,R:()=>i});var r=a(411855);function n(e){(0,r.useEffect)(()=>{let t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e])}function i(e){let[t,a]=(0,r.useState)(window.innerWidth<=e);return n(r=>{r.width<=e&&!t?a(!0):r.width>e&&t&&a(!1)}),t}}}]);

//# debugId=93e5cd77-f69a-504d-8bf1-fa3ed86e136b

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/c079073ae11a383e270832728e544f399f9c729f/file_browser-a99d8b380417e87b.min.js.map